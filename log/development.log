Started GET "/" for ::1 at 2017-07-21 12:38:39 +0800
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/templates/rails/welcome/index.html.erb (2.9ms)
Completed 200 OK in 18ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-21 12:40:40 +0800
Processing by TemporaryReportsController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nIF_NONE_MATCH: W/\"f158645384f57931f716ef50f147c13d\"\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'NameError\r\nuninitialized constant TemporaryReportsController::SearchParams', 'NameError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:8:in `index\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:40:40', '2017-07-21 04:40:40')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (uninitialized constant TemporaryReportsController::SearchParams):
  
app/controllers/temporary_reports_controller.rb:8:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.2ms)
Started GET "/" for ::1 at 2017-07-21 12:44:08 +0800
Processing by TemporaryReportsController#index as HTML
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.0ms)


  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'NameError\r\nundefined local variable or method `current_employee\' for #<TemporaryReportsController:0x007fd520242118>\nDid you mean?  current_ability', 'NameError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:12:in `index\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:44:08', '2017-07-21 04:44:08')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (undefined local variable or method `current_employee' for #<TemporaryReportsController:0x007fd520242118>
Did you mean?  current_ability):
  
app/controllers/temporary_reports_controller.rb:12:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (79.3ms)
Started GET "/" for ::1 at 2017-07-21 12:44:28 +0800
Processing by TemporaryReportsController#index as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'NameError\r\nuninitialized constant TemporaryReport::Activeable', 'NameError', '/Users/jamst/workbook/pre-report/app/models/temporary_report.rb:2:in `<class:TemporaryReport>\'\r\n/Users/jamst/workbook/pre-report/app/models/temporary_report.rb:1:in `<top (required)>\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/dependencies/interlock.rb:12:in `block in loading\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/concurrency/share_lock.rb:150:in `exclusive\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/dependencies/interlock.rb:11:in `loading\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:13:in `index\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:44:28', '2017-07-21 04:44:28')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (uninitialized constant TemporaryReport::Activeable):
  
app/models/temporary_report.rb:2:in `<class:TemporaryReport>'
app/models/temporary_report.rb:1:in `<top (required)>'
app/controllers/temporary_reports_controller.rb:13:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.4ms)
Started GET "/" for ::1 at 2017-07-21 12:45:33 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered temporary_reports/index.html.erb within layouts/application (170.9ms)
Completed 500 Internal Server Error in 200ms (ActiveRecord: 11.5ms)


  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nundefined local variable or method `admin_report_temporary_reports_path\' for #<#<Class:0x007fd5201cae10>:0x007fd5201c3bb0>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:8:in `_app_views_temporary_reports_index_html_erb__3180102453682373193_70276671766760\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:45:33', '2017-07-21 04:45:33')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined local variable or method `admin_report_temporary_reports_path' for #<#<Class:0x007fd5201cae10>:0x007fd5201c3bb0>):
     5: </div>
     6: 
     7: <div class="ui blue segment">
     8:   <%= simple_form_for @q,  url: admin_report_temporary_reports_path, method: :get, wrapper: 'semantic_search_form' do |f| %>
     9:       <div class="ui five column grid">
    10:         <div class="column">
    11:           <div class="ui left icon input fluid">
  
app/views/temporary_reports/index.html.erb:8:in `_app_views_temporary_reports_index_html_erb__3180102453682373193_70276671766760'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.5ms)
Started GET "/" for ::1 at 2017-07-21 12:46:20 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  Rendered temporary_reports/index.html.erb within layouts/application (23.5ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)


  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nCouldn\'t find wrapper with name semantic_search_form', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form.rb:203:in `wrapper\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/form_builder.rb:42:in `initialize\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:1189:in `new\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:1189:in `instantiate_builder\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:449:in `form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:26:in `block in simple_form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:45:in `with_simple_form_field_error_proc\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:25:in `simple_form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:8:in `_app_views_temporary_reports_index_html_erb__3180102453682373193_70276672721600\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:46:20', '2017-07-21 04:46:20')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (Couldn't find wrapper with name semantic_search_form):
     5: </div>
     6: 
     7: <div class="ui blue segment">
     8:   <%= simple_form_for @q,  url: temporary_reports_path, method: :get, wrapper: 'semantic_search_form' do |f| %>
     9:       <div class="ui five column grid">
    10:         <div class="column">
    11:           <div class="ui left icon input fluid">
  
app/views/temporary_reports/index.html.erb:8:in `_app_views_temporary_reports_index_html_erb__3180102453682373193_70276672721600'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.1ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-21 12:48:25 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered temporary_reports/index.html.erb within layouts/application (231.5ms)
Completed 500 Internal Server Error in 307ms (ActiveRecord: 13.9ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nundefined local variable or method `current_employee\' for #<#<Class:0x007f80d8189c40>:0x007f80d816a750>\nDid you mean?  current_cycle', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:30:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095679018620\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:48:26', '2017-07-21 04:48:26')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined local variable or method `current_employee' for #<#<Class:0x007f80d8189c40>:0x007f80d816a750>
Did you mean?  current_cycle):
    27:   <% end %>
    28: </div>
    29: 
    30: <% if current_employee.admin? %>
    31: <div class="ui grid">
    32:   <div class="left floated wide column">
    33:     <%= link_to "Êñ∞Âª∫", new_temporary_report_path , remote: true, class: 'ui primary button' %>
  
app/views/temporary_reports/index.html.erb:30:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095679018620'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.6ms)
Started GET "/" for ::1 at 2017-07-21 12:48:49 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (90.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (102.0ms)
Completed 500 Internal Server Error in 109ms (ActiveRecord: 5.2ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nundefined method `report_admin_report_temporary_reports_path\' for #<#<Class:0x007f80d8189c40>:0x007f80d54f7470>\nDid you mean?  report_temporary_reports_path', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:6:in `_app_views_temporary_reports__list_html_erb___3359318574557913380_70095679051220\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095655658780\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:48:50', '2017-07-21 04:48:50')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `report_admin_report_temporary_reports_path' for #<#<Class:0x007f80d8189c40>:0x007f80d54f7470>
Did you mean?  report_temporary_reports_path):
    3:    <td class="center aligned"> <%= temporary_report.created_at.strftime("%Y-%m-%d") %> </td>
    4:    <td class="center aligned"> <%= temporary_report.note[0..100] %> </td>
    5:    <td class="center aligned"> 
    6:      <%= link_to_with_permissions 'Êü•Áúã', report_admin_report_temporary_reports_path(id:temporary_report.id) , class: 'ui primary button' %>
    7:      
    8:      <% if current_employee.admin? %>
    9:         <%= link_to_with_permissions 'ÁºñËæë', edit_admin_report_temporary_report_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
  
app/views/temporary_reports/_list.html.erb:6:in `_app_views_temporary_reports__list_html_erb___3359318574557913380_70095679051220'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095655658780'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.6ms)
Started GET "/" for ::1 at 2017-07-21 12:50:58 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (20.0ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 5.1ms)


  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nMissing partial kaminari/admin/_paginator with {:locale=>[:en], :formats=>[:html, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:\n  * \"/Users/jamst/workbook/pre-report/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views\"\n', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/path_set.rb:46:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/lookup_context.rb:122:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:420:in `find_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:415:in `find_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:297:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/tags.rb:32:in `to_s\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/paginator.rb:70:in `to_s\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/helper_methods.rb:24:in `paginate\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:55:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095679154160\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:50:59', '2017-07-21 04:50:59')[0m
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (Missing partial kaminari/admin/_paginator with {:locale=>[:en], :formats=>[:html, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/jamst/workbook/pre-report/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views"
):
    52:     <span class="blue">
    53:       <%= page_entries_info(@reports) %>
    54:     </span>
    55:       <%= paginate(@reports, :theme => 'admin')%>
    56: </div>
  
app/views/temporary_reports/index.html.erb:55:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095679154160'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.0ms)
Started GET "/" for ::1 at 2017-07-21 12:51:28 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (18.9ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 5.2ms)


  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', 'ActionView::Template::Error\r\nMissing partial kaminari/admin/_paginator with {:locale=>[:en], :formats=>[:html, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:\n  * \"/Users/jamst/workbook/pre-report/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views\"\n', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/path_set.rb:46:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/lookup_context.rb:122:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:420:in `find_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:415:in `find_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:297:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/tags.rb:32:in `to_s\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/paginator.rb:70:in `to_s\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/lib/kaminari/helpers/helper_methods.rb:24:in `paginate\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:55:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095651571720\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:51:28', '2017-07-21 04:51:28')[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (Missing partial kaminari/admin/_paginator with {:locale=>[:en], :formats=>[:html, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/jamst/workbook/pre-report/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views"
):
    52:     <span class="blue">
    53:       <%= page_entries_info(@reports) %>
    54:     </span>
    55:       <%= paginate(@reports, :theme => 'admin')%>
    56: </div>
  
app/views/temporary_reports/index.html.erb:55:in `_app_views_temporary_reports_index_html_erb___4092578135882621449_70095651571720'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.4ms)
Started GET "/" for ::1 at 2017-07-21 12:53:23 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.5ms)
Completed 500 Internal Server Error in 24061ms (ActiveRecord: 5.2ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n', '---\nsession_id: 141787700ca4b897902dbe86fbe97157\n_csrf_token: efA2qR7t/802JtqEaM3CdK+XaU2k3m8CVlEhQC83oHY=\n', 'ActionView::Template::Error\r\nMissing partial shared/admin/_top_bar with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:\n  * \"/Users/jamst/workbook/pre-report/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views\"\n', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/path_set.rb:46:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/lookup_context.rb:122:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:420:in `find_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:415:in `find_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:297:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1228397119374893958_70095679354980\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:66:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:53:47', '2017-07-21 04:53:47')[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (Missing partial shared/admin/_top_bar with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/jamst/workbook/pre-report/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views"
):
     8:     <%= csrf_meta_tags %>
     9:   </head>
    10:   <body>
    11:     <%= render 'shared/admin/top_bar' %>
    12:     <div class="pusher">
    13:       <div class="ui fluid container" >
    14:         <div class="ui two column grid">
  
app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1228397119374893958_70095679354980'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.0ms)
Started GET "/" for ::1 at 2017-07-21 12:54:35 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 130ms (Views: 123.3ms | ActiveRecord: 5.2ms)


Started GET "/temporary_reports/report?id=14" for ::1 at 2017-07-21 12:54:45 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14"}
  [1m[36mTemporaryReport Load (2.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT `employees`.id FROM `employees` INNER JOIN `employees_temporary_reports` ON `employees`.`id` = `employees_temporary_reports`.`employee_id` WHERE `employees_temporary_reports`.`temporary_report_id` = 14[0m
Completed 500 Internal Server Error in 139ms (ActiveRecord: 11.1ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14', 'TemporaryReportsController', 'report', '---\nid: \'14\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: VW9tWG9uTTl0THBsTzJVVldkT1pKRVRuVkwwZ01SYnFTNHhvU20zemFVMldjMTM5UFVTdVhzM3l4aXBwVnlsSDBNaDB4WDUwOHltdTMzWGpKZzJvM1JJNzN2Z09VOTlHT3I5bUsyWVhZaStkN0hITjFTOXBKQUZiMktFejM1TGhOSTJEMzdzRnBYb2o2MEg4djN6MDVRPT0tLU5qa1J0TlBXRFdrTEFxVDBvRmpiZlE9PQ==--4a2c0b8c00495c6fd9822abd7d6148493e6a774b\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'NameError\r\nundefined local variable or method `current_employee\' for #<TemporaryReportsController:0x007f80ca78bef8>\nDid you mean?  current_ability', 'NameError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:123:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:54:45', '2017-07-21 04:54:45')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (undefined local variable or method `current_employee' for #<TemporaryReportsController:0x007f80ca78bef8>
Did you mean?  current_ability):
  
app/controllers/temporary_reports_controller.rb:123:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (96.6ms)
Started GET "/temporary_reports/report?id=14" for ::1 at 2017-07-21 12:55:39 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14"}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (2.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `employees`.id FROM `employees` INNER JOIN `employees_temporary_reports` ON `employees`.`id` = `employees_temporary_reports`.`employee_id` WHERE `employees_temporary_reports`.`temporary_report_id` = 14[0m
Completed 500 Internal Server Error in 119ms (ActiveRecord: 12.4ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14', 'TemporaryReportsController', 'report', '---\nid: \'14\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: VW9tWG9uTTl0THBsTzJVVldkT1pKRVRuVkwwZ01SYnFTNHhvU20zemFVMldjMTM5UFVTdVhzM3l4aXBwVnlsSDBNaDB4WDUwOHltdTMzWGpKZzJvM1JJNzN2Z09VOTlHT3I5bUsyWVhZaStkN0hITjFTOXBKQUZiMktFejM1TGhOSTJEMzdzRnBYb2o2MEg4djN6MDVRPT0tLU5qa1J0TlBXRFdrTEFxVDBvRmpiZlE9PQ==--4a2c0b8c00495c6fd9822abd7d6148493e6a774b\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'NameError\r\nundefined local variable or method `current_employee\' for #<TemporaryReportsController:0x007f80cc4f03b8>\nDid you mean?  current_ability', 'NameError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:123:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:55:39', '2017-07-21 04:55:39')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (undefined local variable or method `current_employee' for #<TemporaryReportsController:0x007f80cc4f03b8>
Did you mean?  current_ability):
  
app/controllers/temporary_reports_controller.rb:123:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (80.8ms)
Started GET "/temporary_reports/report?id=14" for ::1 at 2017-07-21 12:56:02 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14"}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (2.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (1.6ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
Completed 500 Internal Server Error in 40ms (ActiveRecord: 6.9ms)


  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14', 'TemporaryReportsController', 'report', '---\nid: \'14\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: VW9tWG9uTTl0THBsTzJVVldkT1pKRVRuVkwwZ01SYnFTNHhvU20zemFVMldjMTM5UFVTdVhzM3l4aXBwVnlsSDBNaDB4WDUwOHltdTMzWGpKZzJvM1JJNzN2Z09VOTlHT3I5bUsyWVhZaStkN0hITjFTOXBKQUZiMktFejM1TGhOSTJEMzdzRnBYb2o2MEg4djN6MDVRPT0tLU5qa1J0TlBXRFdrTEFxVDBvRmpiZlE9PQ==--4a2c0b8c00495c6fd9822abd7d6148493e6a774b\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'NameError\r\nuninitialized constant TemporaryReportsController::ExecuteReport', 'NameError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:153:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:56:02', '2017-07-21 04:56:02')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (uninitialized constant TemporaryReportsController::ExecuteReport):
  
app/controllers/temporary_reports_controller.rb:153:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.1ms)
Started GET "/temporary_reports/report?id=14" for ::1 at 2017-07-21 12:58:24 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14"}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (2.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (1.5ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (1216.0ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 11:34:53'  AND i.created_at <  '2017-07-13 11:34:53'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 11:34:53'  AND qd.created_at <  '2017-07-13 11:34:53'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 11:34:53'  AND od.created_at <  '2017-07-13 11:34:53'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 11:34:53'  AND iv.created_at <  '2017-07-13 11:34:53' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 11:34:53'  AND od.created_at <  '2017-07-13 11:34:53' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 11:34:53'  AND vp.`created_at` <  '2017-07-13 11:34:53' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 11:34:53'  AND qd.created_at <  '2017-07-13 11:34:53' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (1.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 14[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (307.0ms)
Completed 500 Internal Server Error in 1577ms (ActiveRecord: 1223.3ms)


  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14', 'TemporaryReportsController', 'report', '---\nid: \'14\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: VW9tWG9uTTl0THBsTzJVVldkT1pKRVRuVkwwZ01SYnFTNHhvU20zemFVMldjMTM5UFVTdVhzM3l4aXBwVnlsSDBNaDB4WDUwOHltdTMzWGpKZzJvM1JJNzN2Z09VOTlHT3I5bUsyWVhZaStkN0hITjFTOXBKQUZiMktFejM1TGhOSTJEMzdzRnBYb2o2MEg4djN6MDVRPT0tLU5qa1J0TlBXRFdrTEFxVDBvRmpiZlE9PQ==--4a2c0b8c00495c6fd9822abd7d6148493e6a774b\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `report_admin_report_temporary_reports_path\' for #<#<Class:0x007f80c4810e10>:0x007f80e221b8e8>\nDid you mean?  report_temporary_reports_path', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/report.html.erb:16:in `_app_views_temporary_reports_report_html_erb___2163217135549019554_70095514668020\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 04:58:26', '2017-07-21 04:58:26')[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `report_admin_report_temporary_reports_path' for #<#<Class:0x007f80c4810e10>:0x007f80e221b8e8>
Did you mean?  report_temporary_reports_path):
    13: 
    14: <div class="ui grid">
    15:   <div class="left floated wide column">
    16:     <%= link_to "#{@temporary_report.name} ‰∏ãËΩΩ", report_admin_report_temporary_reports_path(id:@temporary_report.id,xls:true,report_params:params[:search_params]) , class: 'ui primary button' %>
    17:   </div>
    18: </div>
    19: 
  
app/views/temporary_reports/report.html.erb:16:in `_app_views_temporary_reports_report_html_erb___2163217135549019554_70095514668020'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.2ms)
Started GET "/temporary_reports/report?id=14" for ::1 at 2017-07-21 12:59:18 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14"}
  [1m[36mTemporaryReport Load (2.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (1.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (1174.0ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 11:34:53'  AND i.created_at <  '2017-07-13 11:34:53'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 11:34:53'  AND qd.created_at <  '2017-07-13 11:34:53'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 11:34:53'  AND od.created_at <  '2017-07-13 11:34:53'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 11:34:53'  AND iv.created_at <  '2017-07-13 11:34:53' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 11:34:53'  AND od.created_at <  '2017-07-13 11:34:53' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 11:34:53'  AND vp.`created_at` <  '2017-07-13 11:34:53' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 11:34:53'  AND qd.created_at <  '2017-07-13 11:34:53' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (1.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 14[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.0ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1205ms (Views: 19.4ms | ActiveRecord: 1178.9ms)


Started GET "/temporary_reports/report?id=13" for ::1 at 2017-07-21 12:59:35 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"13"}
  [1m[36mTemporaryReport Load (2.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 13 LIMIT 1[0m
  [1m[36mReportCondition Load (1.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 13[0m
  [1m[35m (28.7ms)[0m  [1m[34mselect em.name,a.sum_force,a.sum_force_qu,b.sum_force_od, truncate(b.sum_force_od * 100/a.sum_force_qu,2) as force_qu_rake , b.sum_force_gross,b.sum_force_gross_rake  ,
 a.sum_unforce,a.sum_unforce_qu,b.sum_unforce_od,truncate(b.sum_unforce_od * 100/a.sum_unforce_qu,2) as unforce_qu_rake , b.sum_unforce_gross,b.sum_unforce_gross_rake,
 a.sum_total_force,a.sum_total_force_qu,b.sum_total_force_od,truncate(b.sum_total_force_od * 100/a.sum_total_force_qu,2) as total_force_qu_rake,b.gross,b.gross_rake,
 a.sum_inventory , a.sum_inventory_qu,'-','-','-','-'
 from   
   
 (select 
 sum(case when  inq.release_type = 4 and inq.user_id != 35380 then 1 else 0 end) as sum_force,
 sum(case when  inq.release_type != 4 and inq.user_id != 35380 then 1 else 0 end) as sum_unforce,
 sum(case when  inq.user_id != 35380 then 1 else 0 end) as sum_total_force,
 sum(case when  inq.user_id = 35380 then 1 else 0 end) as sum_inventory,
 sum(case when  inq.release_type = 4 and inq.send_quotation_at is not null and inq.user_id != 35380 then 1 else 0 end) as sum_force_qu,
 sum(case when  inq.release_type != 4 and inq.send_quotation_at is not null  and inq.user_id != 35380 then 1 else 0 end) as sum_unforce_qu,
 sum(case when   inq.send_quotation_at is not null and inq.user_id != 35380 then 1 else 0 end) as sum_total_force_qu,
 sum(case when  inq.user_id = 35380 and inq.send_quotation_at is not null  then 1 else 0 end) as sum_inventory_qu,
 sourcing_trader_id
 from
 sourcing_inquiries as sinq
 left join inquiries as inq
 on sinq.inquiry_id = inq.id
 where inq.created_at >=   '2017-06-26 16:22:31'  and inq.created_at <  '2017-06-27 16:22:31'  
 group by sourcing_trader_id) as a

 left join 
 
( select
sourcing_trader_id,
 sum(case when  source_data.release_type = 4 and source_data.od_id is not null then 1 else 0 end) as sum_force_od,
 sum(case when  source_data.release_type != 4 and source_data.od_id is not null then 1 else 0 end) as sum_unforce_od,
 sum(case when  source_data.od_id is not null then 1 else 0 end) as sum_total_force_od,
 truncate(  sum( case when  source_data.release_type = 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end      
  ),2) as sum_force_gross ,
  truncate(  sum( case when  source_data.release_type != 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end      
  ),2) as sum_unforce_gross ,
   truncate(  ( sum(case when  source_data.release_type = 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end) * 100 / sum(case when source_data.release_type = 4 then
                  source_data.c_amount
                  - case 
                    when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		            when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		            when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		            else source_data.commision_invoice_fee end 
                  - source_data.od_commision_fee
                else 0 end )      
  ),2) as sum_force_gross_rake ,
  truncate(  ( sum(case when  source_data.release_type != 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end) * 100 / sum(case when source_data.release_type != 4 then
                  source_data.c_amount
                  - case 
                    when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		            when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		            when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		            else source_data.commision_invoice_fee end 
                  - source_data.od_commision_fee
                else 0 end )      
  ),2) as sum_unforce_gross_rake ,
  truncate( sum(source_data.c_amount) 
            - sum(source_data.v_amount) 
            - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)
		           ,2) as gross ,
 truncate( (sum(source_data.c_amount)
            - sum(source_data.v_amount)
            - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)
             ) * 100 / (sum(source_data.c_amount)
             - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)) ,2) as gross_rake
 from            
 (select od.id as od_id,od.customer_order_no,od.invoice_type,co.order_type,co.payment_type,od.commision_fee as od_commision_fee ,qd.commision_fee as qd_commision_fee,qd.commision_invoice_fee,
 sinq.sourcing_trader_id,inq.release_type,
 case
    when od.vendor_amount is null then 0
	when  od.invoice_type != 4 and od.vendor_invoice_type != 1 then od.vendor_amount / 0.92
	else od.vendor_amount
	END as v_amount,
 case
    when od.amount is null then 0
	when  od.invoice_type = 4 and od.vendor_invoice_type = 1 then od.amount / 0.9
	else od.amount
	END as c_amount
 from
   sourcing_inquiries as sinq
   left join inquiries as inq
   on sinq.inquiry_id = inq.id
   left join `quotation_details` as qd
   on qd.inquiry_id = inq.id
   left join order_details as od
   on qd.order_detail_id = od.id 
   left join customer_orders as co
   on co.id = od.customer_order_id
   where inq.user_id != 35380 and od.detail_status != 7 and co.confirmed_at >=   '2017-06-26 16:22:31'  and co.confirmed_at <  '2017-06-27 16:22:31'  
   ) as source_data 
   group by sourcing_trader_id ) as b
 
on a.sourcing_trader_id = b.sourcing_trader_id

left join employees as em
on em.id = a.sourcing_trader_id[0m
  [1m[36mTemporaryChart Load (1.4ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 13[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.0ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 19.7ms | ActiveRecord: 33.8ms)


Started GET "/temporary_reports/report?id=11" for ::1 at 2017-07-21 12:59:40 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"11"}
  [1m[36mTemporaryReport Load (1.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 11 LIMIT 1[0m
  [1m[36mReportCondition Load (1.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 11[0m
  [1m[35m (520.8ms)[0m  [1m[34mSELECT
  cs.`cas`,
  cs.`name_cn`,
  GROUP_CONCAT(DISTINCT CASE WHEN vendor_order_type = 0 THEN 'ÊôÆÈÄöËÆ¢Âçï'
                             WHEN vendor_order_type = 1 THEN '‰ª£ÈîÄÂØÑÂîÆËÆ¢Âçï'
                             WHEN vendor_order_type = 2 THEN 'ËØïÂâÇÂïÜÁõ¥ÂèëËÆ¢Âçï'
                             WHEN vendor_order_type = 3 THEN '‰ª£ÈîÄÁõ¥ÂèëËÆ¢Âçï'
                         END ) AS 'ËÆ¢Ë¥≠Áä∂ÊÄÅ',
  CASE WHEN cs.danger = 0 THEN '‰∏çÊòØÁõëÁÆ°ÂìÅ' 
       WHEN cs.danger = 1 THEN '‰∏ÄËà¨Âç±ÂåñÂìÅ'
       WHEN cs.danger = 2 THEN 'ÂâßÊØí'
       WHEN cs.danger = 3 THEN 'ÊòìÂà∂ÊØí'
       WHEN cs.danger = 4 THEN 'ÊòìÂà∂ÁàÜ'
       WHEN cs.danger = 5 THEN 'Ê≥ïÂæãÁ∫†Á∫∑'
       WHEN cs.danger = 6 THEN 'Á≤æÁ•ûÁ±ªËçØÂìÅ'
  END AS '‰∫ßÂìÅÁ±ªÂûã',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN amount ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN amount ELSE 0 END) AS  'ÊúÄËøë30Â§©Ëê•‰∏öÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÊúàË¥≠‰π∞È¢ëÊ¨°',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN 1 ELSE 0 END)  AS 'ÊúÄËøë30Â§©Ë¥≠‰π∞È¢ëÊ¨°',
  FORMAT(SUM(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END) / 3.0,3) AS 'Ëøë3ÊúàÊúàÂπ≥Âùá(ÂÖ¨Êñ§)',
 FORMAT(MAX(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END),3) AS 'Ëøë3ÊúàÊúÄÂ§ß(ÂÖ¨Êñ§)',
  SUM(CASE WHEN i.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáËØ¢ÁõòÊ¨°Êï∞',
  COUNT(DISTINCT od.vendor_id) AS 'Âêà‰ΩúËøá‰æõÂ∫îÂïÜÊï∞Èáè'
FROM
  order_details od 
  LEFT JOIN users u 
    ON od.`user_id` = u.id 
  LEFT JOIN companies c 
    ON u.`company_id` = c.id 
  LEFT JOIN chemicals cs
    ON cs.id = od.`chemical_id`
  LEFT JOIN quotation_details qd
    ON qd.id = od.quotation_detail_id
  LEFT JOIN inquiries i 
    ON i.id = qd.inquiry_id 
WHERE od.detail_status != 7 AND od.`origin` NOT IN (6,7) AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
GROUP BY od.`chemical_id`[0m
  [1m[36mTemporaryChart Load (1.4ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 11[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (18.1ms)
  Rendered shared/admin/_top_bar.html.erb (0.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 599ms (Views: 34.0ms | ActiveRecord: 525.3ms)


Started GET "/temporary_reports/report?id=11&page=397&search_params%5Bend_time%5D=2017-05-16+17%3A43%3A08&search_params%5Bstart_time%5D=2017-05-15+17%3A43%3A08" for ::1 at 2017-07-21 12:59:50 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"11", "page"=>"397", "search_params"=>{"end_time"=>"2017-05-16 17:43:08", "start_time"=>"2017-05-15 17:43:08"}}
  [1m[36mTemporaryReport Load (2.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 11 LIMIT 1[0m
  [1m[36mReportCondition Load (1.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 11[0m
  [1m[35m (524.9ms)[0m  [1m[34mSELECT
  cs.`cas`,
  cs.`name_cn`,
  GROUP_CONCAT(DISTINCT CASE WHEN vendor_order_type = 0 THEN 'ÊôÆÈÄöËÆ¢Âçï'
                             WHEN vendor_order_type = 1 THEN '‰ª£ÈîÄÂØÑÂîÆËÆ¢Âçï'
                             WHEN vendor_order_type = 2 THEN 'ËØïÂâÇÂïÜÁõ¥ÂèëËÆ¢Âçï'
                             WHEN vendor_order_type = 3 THEN '‰ª£ÈîÄÁõ¥ÂèëËÆ¢Âçï'
                         END ) AS 'ËÆ¢Ë¥≠Áä∂ÊÄÅ',
  CASE WHEN cs.danger = 0 THEN '‰∏çÊòØÁõëÁÆ°ÂìÅ' 
       WHEN cs.danger = 1 THEN '‰∏ÄËà¨Âç±ÂåñÂìÅ'
       WHEN cs.danger = 2 THEN 'ÂâßÊØí'
       WHEN cs.danger = 3 THEN 'ÊòìÂà∂ÊØí'
       WHEN cs.danger = 4 THEN 'ÊòìÂà∂ÁàÜ'
       WHEN cs.danger = 5 THEN 'Ê≥ïÂæãÁ∫†Á∫∑'
       WHEN cs.danger = 6 THEN 'Á≤æÁ•ûÁ±ªËçØÂìÅ'
  END AS '‰∫ßÂìÅÁ±ªÂûã',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN amount ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN amount ELSE 0 END) AS  'ÊúÄËøë30Â§©Ëê•‰∏öÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÊúàË¥≠‰π∞È¢ëÊ¨°',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN 1 ELSE 0 END)  AS 'ÊúÄËøë30Â§©Ë¥≠‰π∞È¢ëÊ¨°',
  FORMAT(SUM(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END) / 3.0,3) AS 'Ëøë3ÊúàÊúàÂπ≥Âùá(ÂÖ¨Êñ§)',
 FORMAT(MAX(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END),3) AS 'Ëøë3ÊúàÊúÄÂ§ß(ÂÖ¨Êñ§)',
  SUM(CASE WHEN i.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáËØ¢ÁõòÊ¨°Êï∞',
  COUNT(DISTINCT od.vendor_id) AS 'Âêà‰ΩúËøá‰æõÂ∫îÂïÜÊï∞Èáè'
FROM
  order_details od 
  LEFT JOIN users u 
    ON od.`user_id` = u.id 
  LEFT JOIN companies c 
    ON u.`company_id` = c.id 
  LEFT JOIN chemicals cs
    ON cs.id = od.`chemical_id`
  LEFT JOIN quotation_details qd
    ON qd.id = od.quotation_detail_id
  LEFT JOIN inquiries i 
    ON i.id = qd.inquiry_id 
WHERE od.detail_status != 7 AND od.`origin` NOT IN (6,7) AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
GROUP BY od.`chemical_id`[0m
  [1m[36mTemporaryChart Load (1.4ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 11[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (18.3ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 607ms (Views: 35.2ms | ActiveRecord: 529.8ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 12:59:56 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.6ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 35ms (Views: 28.4ms | ActiveRecord: 5.2ms)


Started GET "/temporary_reports/14/edit" for ::1 at 2017-07-21 13:00:03 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"14"}
  [1m[36mTemporaryReport Load (2.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mReportCondition Load (1.6ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  Rendered temporary_reports/_edit.html.erb (255.8ms)
  Rendered temporary_reports/edit.js.erb (265.4ms)
Completed 500 Internal Server Error in 301ms (ActiveRecord: 3.7ms)


  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/14/edit', 'TemporaryReportsController', 'edit', '---\nid: \'14\'\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: 0/M+32ZwxFLGMD6+uZW+mgE6c/3p5sZAXDvreWDjCqXaKaMckXV6fj8opeYNmJv8SQNprpkRgoUOuUFonrUGcA==\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: Z3hMK0dwWThFNHF2V1dhRjFZakF0TG1qRFN1MGMyTUhEREdsOHVobjJYZ0dpL2ZEaUd1Yk5Ld1RHb0x0NFYzRGQyZ3hPb0ZFSEJZZTdhRFZuQmIyYkdrMTEzYmR2Ym5TZ0xBWnBzemRoQ3FVNjlFY0VHQmhUVnVGTmRuRWVMR1hhbFFhWERjbzdmc2lJOE5iK0xZSEVnPT0tLUxtVTcybStENk1OUHN5cmliTk1KaHc9PQ==--cdc838681556e86e2fa111f90855c481bd99c46e\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `admin_report_temporary_report_path\' for #<#<Class:0x007f80c4810e10>:0x007f80cc009b38>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_edit.html.erb:2:in `_app_views_temporary_reports__edit_html_erb__4064514315930637924_70095577766400\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:343:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:311:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:310:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/edit.js.erb:2:in `_app_views_temporary_reports_edit_js_erb___3279170474603998821_70095577568080\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:00:03', '2017-07-21 05:00:03')[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `admin_report_temporary_report_path' for #<#<Class:0x007f80c4810e10>:0x007f80cc009b38>):
    1: 
    2: <%= simple_form_for @temporary_report, url: admin_report_temporary_report_path(@temporary_report) , method: :put, remote: true, html:{id: 'edit_temporary_report'} do |f| %>
    3:   
    4:     <div id="form_message" class="two fields red" style="margin-left: 15px;display:none;" ></div>
    5: 
  
app/views/temporary_reports/_edit.html.erb:2:in `_app_views_temporary_reports__edit_html_erb__4064514315930637924_70095577766400'
app/views/temporary_reports/edit.js.erb:2:in `_app_views_temporary_reports_edit_js_erb___3279170474603998821_70095577568080'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (27.0ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:04:48 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (5.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [10 times] (4.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 5.3ms)


Started GET "/temporary_reports/14/edit" for ::1 at 2017-07-21 13:04:49 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"14"}
  [1m[36mTemporaryReport Load (2.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (1.5ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 14[0m
  [1m[36mReportCondition Load (1.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  Rendered temporary_reports/_edit.html.erb (18.4ms)
  Rendered temporary_reports/edit.js.erb (27.3ms)
Completed 200 OK in 58ms (Views: 44.2ms | ActiveRecord: 5.1ms)


Started GET "/temporary_reports/report?id=13" for ::1 at 2017-07-21 13:05:05 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"13"}
  [1m[36mTemporaryReport Load (2.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 13 LIMIT 1[0m
  [1m[36mReportCondition Load (1.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 13[0m
  [1m[35m (32.2ms)[0m  [1m[34mselect em.name,a.sum_force,a.sum_force_qu,b.sum_force_od, truncate(b.sum_force_od * 100/a.sum_force_qu,2) as force_qu_rake , b.sum_force_gross,b.sum_force_gross_rake  ,
 a.sum_unforce,a.sum_unforce_qu,b.sum_unforce_od,truncate(b.sum_unforce_od * 100/a.sum_unforce_qu,2) as unforce_qu_rake , b.sum_unforce_gross,b.sum_unforce_gross_rake,
 a.sum_total_force,a.sum_total_force_qu,b.sum_total_force_od,truncate(b.sum_total_force_od * 100/a.sum_total_force_qu,2) as total_force_qu_rake,b.gross,b.gross_rake,
 a.sum_inventory , a.sum_inventory_qu,'-','-','-','-'
 from   
   
 (select 
 sum(case when  inq.release_type = 4 and inq.user_id != 35380 then 1 else 0 end) as sum_force,
 sum(case when  inq.release_type != 4 and inq.user_id != 35380 then 1 else 0 end) as sum_unforce,
 sum(case when  inq.user_id != 35380 then 1 else 0 end) as sum_total_force,
 sum(case when  inq.user_id = 35380 then 1 else 0 end) as sum_inventory,
 sum(case when  inq.release_type = 4 and inq.send_quotation_at is not null and inq.user_id != 35380 then 1 else 0 end) as sum_force_qu,
 sum(case when  inq.release_type != 4 and inq.send_quotation_at is not null  and inq.user_id != 35380 then 1 else 0 end) as sum_unforce_qu,
 sum(case when   inq.send_quotation_at is not null and inq.user_id != 35380 then 1 else 0 end) as sum_total_force_qu,
 sum(case when  inq.user_id = 35380 and inq.send_quotation_at is not null  then 1 else 0 end) as sum_inventory_qu,
 sourcing_trader_id
 from
 sourcing_inquiries as sinq
 left join inquiries as inq
 on sinq.inquiry_id = inq.id
 where inq.created_at >=   '2017-06-26 16:22:31'  and inq.created_at <  '2017-06-27 16:22:31'  
 group by sourcing_trader_id) as a

 left join 
 
( select
sourcing_trader_id,
 sum(case when  source_data.release_type = 4 and source_data.od_id is not null then 1 else 0 end) as sum_force_od,
 sum(case when  source_data.release_type != 4 and source_data.od_id is not null then 1 else 0 end) as sum_unforce_od,
 sum(case when  source_data.od_id is not null then 1 else 0 end) as sum_total_force_od,
 truncate(  sum( case when  source_data.release_type = 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end      
  ),2) as sum_force_gross ,
  truncate(  sum( case when  source_data.release_type != 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end      
  ),2) as sum_unforce_gross ,
   truncate(  ( sum(case when  source_data.release_type = 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end) * 100 / sum(case when source_data.release_type = 4 then
                  source_data.c_amount
                  - case 
                    when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		            when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		            when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		            else source_data.commision_invoice_fee end 
                  - source_data.od_commision_fee
                else 0 end )      
  ),2) as sum_force_gross_rake ,
  truncate(  ( sum(case when  source_data.release_type != 4 then 
           source_data.c_amount
            - source_data.v_amount
            - case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end 
            - source_data.od_commision_fee
      else 0 end) * 100 / sum(case when source_data.release_type != 4 then
                  source_data.c_amount
                  - case 
                    when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		            when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		            when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		            else source_data.commision_invoice_fee end 
                  - source_data.od_commision_fee
                else 0 end )      
  ),2) as sum_unforce_gross_rake ,
  truncate( sum(source_data.c_amount) 
            - sum(source_data.v_amount) 
            - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)
		           ,2) as gross ,
 truncate( (sum(source_data.c_amount)
            - sum(source_data.v_amount)
            - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)
             ) * 100 / (sum(source_data.c_amount)
             - sum(case 
                  when (source_data.payment_type != 3 and source_data.payment_type != 2 and source_data.order_type != 4) then 0 
		          when source_data.order_type = 4 then (source_data.c_amount * 0.05) / 1.05
		          when source_data.invoice_type = 4 then source_data.qd_commision_fee 
		          else source_data.commision_invoice_fee end )
            - sum(source_data.od_commision_fee)) ,2) as gross_rake
 from            
 (select od.id as od_id,od.customer_order_no,od.invoice_type,co.order_type,co.payment_type,od.commision_fee as od_commision_fee ,qd.commision_fee as qd_commision_fee,qd.commision_invoice_fee,
 sinq.sourcing_trader_id,inq.release_type,
 case
    when od.vendor_amount is null then 0
	when  od.invoice_type != 4 and od.vendor_invoice_type != 1 then od.vendor_amount / 0.92
	else od.vendor_amount
	END as v_amount,
 case
    when od.amount is null then 0
	when  od.invoice_type = 4 and od.vendor_invoice_type = 1 then od.amount / 0.9
	else od.amount
	END as c_amount
 from
   sourcing_inquiries as sinq
   left join inquiries as inq
   on sinq.inquiry_id = inq.id
   left join `quotation_details` as qd
   on qd.inquiry_id = inq.id
   left join order_details as od
   on qd.order_detail_id = od.id 
   left join customer_orders as co
   on co.id = od.customer_order_id
   where inq.user_id != 35380 and od.detail_status != 7 and co.confirmed_at >=   '2017-06-26 16:22:31'  and co.confirmed_at <  '2017-06-27 16:22:31'  
   ) as source_data 
   group by sourcing_trader_id ) as b
 
on a.sourcing_trader_id = b.sourcing_trader_id

left join employees as em
on em.id = a.sourcing_trader_id[0m
  [1m[36mTemporaryChart Load (1.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 13[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.1ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 20.1ms | ActiveRecord: 37.4ms)


Started GET "/temporary_reports/report?id=11" for ::1 at 2017-07-21 13:05:09 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"11"}
  [1m[36mTemporaryReport Load (1.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 11 LIMIT 1[0m
  [1m[36mReportCondition Load (1.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 11[0m
  [1m[35m (548.1ms)[0m  [1m[34mSELECT
  cs.`cas`,
  cs.`name_cn`,
  GROUP_CONCAT(DISTINCT CASE WHEN vendor_order_type = 0 THEN 'ÊôÆÈÄöËÆ¢Âçï'
                             WHEN vendor_order_type = 1 THEN '‰ª£ÈîÄÂØÑÂîÆËÆ¢Âçï'
                             WHEN vendor_order_type = 2 THEN 'ËØïÂâÇÂïÜÁõ¥ÂèëËÆ¢Âçï'
                             WHEN vendor_order_type = 3 THEN '‰ª£ÈîÄÁõ¥ÂèëËÆ¢Âçï'
                         END ) AS 'ËÆ¢Ë¥≠Áä∂ÊÄÅ',
  CASE WHEN cs.danger = 0 THEN '‰∏çÊòØÁõëÁÆ°ÂìÅ' 
       WHEN cs.danger = 1 THEN '‰∏ÄËà¨Âç±ÂåñÂìÅ'
       WHEN cs.danger = 2 THEN 'ÂâßÊØí'
       WHEN cs.danger = 3 THEN 'ÊòìÂà∂ÊØí'
       WHEN cs.danger = 4 THEN 'ÊòìÂà∂ÁàÜ'
       WHEN cs.danger = 5 THEN 'Ê≥ïÂæãÁ∫†Á∫∑'
       WHEN cs.danger = 6 THEN 'Á≤æÁ•ûÁ±ªËçØÂìÅ'
  END AS '‰∫ßÂìÅÁ±ªÂûã',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN amount ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN amount ELSE 0 END) AS  'ÊúÄËøë30Â§©Ëê•‰∏öÈ¢ù',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáÊúàË¥≠‰π∞È¢ëÊ¨°',
  SUM(CASE WHEN od.created_at >= SUBDATE(CURDATE(),INTERVAL 1 MONTH) THEN 1 ELSE 0 END)  AS 'ÊúÄËøë30Â§©Ë¥≠‰π∞È¢ëÊ¨°',
  FORMAT(SUM(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END) / 3.0,3) AS 'Ëøë3ÊúàÊúàÂπ≥Âùá(ÂÖ¨Êñ§)',
 FORMAT(MAX(CASE
    WHEN od.package_unit = 1 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 2 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000
    WHEN od.package_unit = 3 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit
    WHEN od.package_unit = 4 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit / 1000 * 1000
    WHEN od.package_unit = 5 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit 
    WHEN od.package_unit = 6 AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
    THEN od.`package` * od.package_unit * 1000
    ELSE 0 END),3) AS 'Ëøë3ÊúàÊúÄÂ§ß(ÂÖ¨Êñ§)',
  SUM(CASE WHEN i.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH) THEN 1 ELSE 0 END)/3.0 AS 'Ëøë3ÊúàÂπ≥ÂùáËØ¢ÁõòÊ¨°Êï∞',
  COUNT(DISTINCT od.vendor_id) AS 'Âêà‰ΩúËøá‰æõÂ∫îÂïÜÊï∞Èáè'
FROM
  order_details od 
  LEFT JOIN users u 
    ON od.`user_id` = u.id 
  LEFT JOIN companies c 
    ON u.`company_id` = c.id 
  LEFT JOIN chemicals cs
    ON cs.id = od.`chemical_id`
  LEFT JOIN quotation_details qd
    ON qd.id = od.quotation_detail_id
  LEFT JOIN inquiries i 
    ON i.id = qd.inquiry_id 
WHERE od.detail_status != 7 AND od.`origin` NOT IN (6,7) AND od.created_at >= SUBDATE(CURDATE(),INTERVAL 3 MONTH)
GROUP BY od.`chemical_id`[0m
  [1m[36mTemporaryChart Load (1.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 11[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (24.9ms)
  Rendered shared/admin/_top_bar.html.erb (0.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 635ms (Views: 41.3ms | ActiveRecord: 552.6ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-21 13:07:04 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (93.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (6.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (260.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 1442ms (Views: 1179.7ms | ActiveRecord: 191.0ms)


Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 13:07:14 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mTemporaryReport Load (31.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (30.1ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2417.7ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (30.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (7.5ms)
Completed 500 Internal Server Error in 2691ms (ActiveRecord: 2631.9ms)


  [1m[35m (30.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (62.3ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=15', 'TemporaryReportsController', 'report', '---\nid: \'15\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: eUVHcnFkMndJbnpINjIvSlo4djVpbXZEUTJ3YnJkN0gwV0IzZTZSZHFOMVlyLzE0Ui8xOWhlRk4yT29ibTR3ZEdJTzRIczlLSzFtQ1NCM0IxVEwrYUdZQ1A0WEFOMUlHaFNPMUNBcTRDK3N5ZG5NNHlNU25GOEd0djFCRktUK3k2TXlaeXhhUFExWCsxWkYvRVZ3QnJ3PT0tLVpsaWtZdFI5MmN0TE44Z0kyd0pNdFE9PQ==--1ec1671a799e40734445ab95cf7760853276766e\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nMissing partial shared/charts/_line_chart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:\n  * \"/Users/jamst/workbook/pre-report/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views\"\n  * \"/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views\"\n', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/path_set.rb:46:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/lookup_context.rb:122:in `find\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:420:in `find_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:415:in `find_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:297:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/report.html.erb:23:in `block in _app_views_temporary_reports_report_html_erb___3487359834582615900_70236763024240\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/report.html.erb:21:in `each\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/report.html.erb:21:in `each_with_index\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/report.html.erb:21:in `_app_views_temporary_reports_report_html_erb___3487359834582615900_70236763024240\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:07:17', '2017-07-21 05:07:17')[0m
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (Missing partial shared/charts/_line_chart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/jamst/workbook/pre-report/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views"
):
    20: <!-- ÂõæË°® -->
    21: <% @charts.each_with_index do |chart,index|%>
    22:   <div id="line_chart_<%=index%>" style="height:400px"></div>
    23:   <%= render 'shared/charts/line_chart',div_id:"line_chart_#{index}",xx:chart[:xx],yy:chart[:yy],y_data:chart[:y_data] %>
    24: <% end %>
    25: 
    26: <div class="ui blue segment">
  
app/views/temporary_reports/report.html.erb:23:in `block in _app_views_temporary_reports_report_html_erb___3487359834582615900_70236763024240'
app/views/temporary_reports/report.html.erb:21:in `each'
app/views/temporary_reports/report.html.erb:21:in `each_with_index'
app/views/temporary_reports/report.html.erb:21:in `_app_views_temporary_reports_report_html_erb___3487359834582615900_70236763024240'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (49.7ms)
Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 13:09:48 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mTemporaryReport Load (145.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (119.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2588.3ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (173.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (84.8ms)
  Rendered temporary_reports/report.html.erb within layouts/application (89.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 3225ms (Views: 189.9ms | ActiveRecord: 3026.5ms)


Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 13:09:58 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mTemporaryReport Load (64.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (49.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2339.1ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (30.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (2.5ms)
  Rendered temporary_reports/report.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2515ms (Views: 23.9ms | ActiveRecord: 2483.3ms)


Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 13:10:12 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mTemporaryReport Load (61.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (30.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2343.1ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (30.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.9ms)
  Rendered temporary_reports/report.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2497ms (Views: 24.8ms | ActiveRecord: 2464.4ms)


Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:10:17 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mTemporaryReport Load (61.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
Completed 500 Internal Server Error in 64ms (ActiveRecord: 61.0ms)


  [1m[35m (28.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (31.5ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-13 15:08:57\'\n  start_time: \'2017-07-12 15:08:57\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=15\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZDVMdElZMDhjSk9LZnNVb00vWS9UQWNiVmNKcFB4MmwySGRhejVLQTJQZU5xS1FjV1ZxQThibDhwTy9tYnJIRE5pM3NacE9PS05XYXdlTUtjdUV6bGdSNW56UmJabVNQYkZBd0d2V1J6WEpGcnlxY0c5dTUxOWdtWmhkZ3gxN3BDQzhoMGZnUW5hcG5CMDN1QjRSSXpnPT0tLWdlVTllci8wMVE5L2F1MnUyR2tMT0E9PQ==--3202291bf81420afe03c794dd4cbbc5d6af0d53c\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'NoMethodError\r\nundefined method `split\' for #<ActionController::Parameters:0x007fc28a485c20>', 'NoMethodError', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/strong_parameters.rb:788:in `method_missing\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:127:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:10:18', '2017-07-21 05:10:18')[0m
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NoMethodError (undefined method `split' for #<ActionController::Parameters:0x007fc28a485c20>):
  
app/controllers/temporary_reports_controller.rb:127:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.8ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:12:35 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (31.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
Completed 500 Internal Server Error in 150ms (ActiveRecord: 127.8ms)


  [1m[35m (28.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (31.7ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-13 15:08:57\'\n  start_time: \'2017-07-12 15:08:57\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=15\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZDVMdElZMDhjSk9LZnNVb00vWS9UQWNiVmNKcFB4MmwySGRhejVLQTJQZU5xS1FjV1ZxQThibDhwTy9tYnJIRE5pM3NacE9PS05XYXdlTUtjdUV6bGdSNW56UmJabVNQYkZBd0d2V1J6WEpGcnlxY0c5dTUxOWdtWmhkZ3gxN3BDQzhoMGZnUW5hcG5CMDN1QjRSSXpnPT0tLWdlVTllci8wMVE5L2F1MnUyR2tMT0E9PQ==--3202291bf81420afe03c794dd4cbbc5d6af0d53c\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'NoMethodError\r\nundefined method `split\' for {}:ActiveSupport::HashWithIndifferentAccess', 'NoMethodError', '/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:127:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:12:36', '2017-07-21 05:12:36')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NoMethodError (undefined method `split' for {}:ActiveSupport::HashWithIndifferentAccess):
  
app/controllers/temporary_reports_controller.rb:127:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (43.2ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:13:44 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (83.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (35.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (692.0ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id
) g ON tt.id = g.id[0m
  [1m[36mTemporaryChart Load (30.9ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 14[0m
  [1m[35m (209.7ms)[0m  [1m[34mSELECT 
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM
warehouses w  
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%' ) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date
) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date) b
ON tt.id = b.warehouse_id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and od.amount !=0 
GROUP BY f_date
) c 
ON tt.id = c.warehouse_id and a.f_date = c.f_date

LEFT JOIN 

(SELECT 
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) a WHERE a.id = c.warehouse_id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d')) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32' 
GROUP BY f_date
) wx ON wx.warehouse_id = tt.id and a.f_date = wx.f_date

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date , c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY f_date
) wc ON wc.warehouse_id = tt.id and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32' 
  GROUP BY f_date
) g ON tt.id = g.warehouse_id and a.f_date = g.f_date

order by show_data [0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.9ms)
  Rendered temporary_reports/report.html.erb within layouts/application (17.9ms)
  Rendered shared/admin/_top_bar.html.erb (0.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1528ms (Views: 34.7ms | ActiveRecord: 1440.8ms)


Started GET "/temporary_reports/report?id=16&report_params%5Bcompany_name%5D=%E6%AD%A6%E6%B1%89%E8%8D%AF%E6%98%8E%E5%BA%B7%E5%BE%B7%E6%96%B0%E8%8D%AF%E5%BC%80%E5%8F%91%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:14:03 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"16", "report_params"=>{"company_name"=>"Ê≠¶Ê±âËçØÊòéÂ∫∑Âæ∑Êñ∞ËçØÂºÄÂèëÊúâÈôêÂÖ¨Âè∏", "end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mTemporaryReport Load (165.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mReportCondition Load (138.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  [1m[35m (6051.4ms)[0m  [1m[34mSELECT
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
IF(a.ËØ¢ÁõòÊï∞ is not null,a.ËØ¢ÁõòÊï∞,0),
IF(b.Êä•‰ª∑Êï∞ is not null,b.Êä•‰ª∑Êï∞,0),
IF(c.‰∏ãÂçïÊï∞ is not null,c.‰∏ãÂçïÊï∞,0),
IF(c.casÊï∞Èáè is not null,c.casÊï∞Èáè,0),
IF(c.ÈááË¥≠È¢ù is not null,c.ÈááË¥≠È¢ù,0),
IF(c.ÊØõÂà© is not null,c.ÊØõÂà©,0),
IF(c.ÊØõÂà©Áéá is not null,c.ÊØõÂà©Áéá,0),c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id,
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id

) tt

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
WHERE i.created_at >=    '2017-07-13 10:29:59'   AND i.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) a ON tt.id= a.id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
  LEFT JOIN quotation_details qd
    ON qd.inquiry_id = i.`id`
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) b
ON tt.id = b.id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount
            ELSE 0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 /
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN order_details od
    ON od.user_id = u.id
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date) c
ON tt.id = c.id  and a.f_date = c.f_date

LEFT JOIN

(SELECT
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN
companies c
ON c.id = u.company_id
WHERE iv.created_at >=    '2017-07-13 10:29:59'   AND iv.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) a WHERE a.id = c.id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d') ) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date
) wx ON wx.id = tt.id  and a.f_date = wx.f_date

LEFT JOIN

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date, c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id`
 and vp.`created_at` >=    '2017-07-13 10:29:59'   AND vp.`created_at` <   '2017-07-14 10:29:59' 
GROUP BY f_date
) wc ON wc.id = tt.id  and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏'
FROM
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) g ON tt.id = g.id  and a.f_date = g.f_date

order by show_data [0m
  [1m[36mTemporaryChart Load (52.8ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (2.7ms)
  Rendered temporary_reports/report.html.erb within layouts/application (38.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 6474ms (Views: 56.0ms | ActiveRecord: 6408.1ms)


Started GET "/admin/report/temporary_reports/report?utf8=%E2%9C%93&id=16&search_params%5Bstart_time%5D=2017-05-01&search_params%5Bend_time%5D=2017-07-14+10%3A29%3A59&search_params%5Bcompany_name%5D=&commit=%E6%90%9C%E7%B4%A2" for ::1 at 2017-07-21 13:14:25 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/report/temporary_reports/report"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [32 times] (7.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.6ms)
Started GET "/temporary_reports/report?id=16&report_params%5Bcompany_name%5D=%E6%AD%A6%E6%B1%89%E8%8D%AF%E6%98%8E%E5%BA%B7%E5%BE%B7%E6%96%B0%E8%8D%AF%E5%BC%80%E5%8F%91%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:15:28 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"16", "report_params"=>{"company_name"=>"Ê≠¶Ê±âËçØÊòéÂ∫∑Âæ∑Êñ∞ËçØÂºÄÂèëÊúâÈôêÂÖ¨Âè∏", "end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (121.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mReportCondition Load (744.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  [1m[35m (6267.9ms)[0m  [1m[34mSELECT
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
IF(a.ËØ¢ÁõòÊï∞ is not null,a.ËØ¢ÁõòÊï∞,0),
IF(b.Êä•‰ª∑Êï∞ is not null,b.Êä•‰ª∑Êï∞,0),
IF(c.‰∏ãÂçïÊï∞ is not null,c.‰∏ãÂçïÊï∞,0),
IF(c.casÊï∞Èáè is not null,c.casÊï∞Èáè,0),
IF(c.ÈááË¥≠È¢ù is not null,c.ÈááË¥≠È¢ù,0),
IF(c.ÊØõÂà© is not null,c.ÊØõÂà©,0),
IF(c.ÊØõÂà©Áéá is not null,c.ÊØõÂà©Áéá,0),c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id,
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id

) tt

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
WHERE i.created_at >=    '2017-07-13 10:29:59'   AND i.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) a ON tt.id= a.id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
  LEFT JOIN quotation_details qd
    ON qd.inquiry_id = i.`id`
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) b
ON tt.id = b.id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount
            ELSE 0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 /
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN order_details od
    ON od.user_id = u.id
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date) c
ON tt.id = c.id  and a.f_date = c.f_date

LEFT JOIN

(SELECT
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN
companies c
ON c.id = u.company_id
WHERE iv.created_at >=    '2017-07-13 10:29:59'   AND iv.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) a WHERE a.id = c.id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d') ) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date
) wx ON wx.id = tt.id  and a.f_date = wx.f_date

LEFT JOIN

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date, c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id`
 and vp.`created_at` >=    '2017-07-13 10:29:59'   AND vp.`created_at` <   '2017-07-14 10:29:59' 
GROUP BY f_date
) wc ON wc.id = tt.id  and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏'
FROM
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) g ON tt.id = g.id  and a.f_date = g.f_date

order by show_data [0m
  [1m[36mTemporaryChart Load (30.6ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (3.5ms)
  Rendered temporary_reports/report.html.erb within layouts/application (41.8ms)
  Rendered shared/admin/_top_bar.html.erb (0.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 7530ms (Views: 58.9ms | ActiveRecord: 7416.8ms)


Started GET "/temporary_reports/report?id=16&report_params%5Bcompany_name%5D=%E6%B9%96%E5%8C%97%E8%91%9B%E5%BA%97%E4%BA%BA%E7%A6%8F%E8%8D%AF%E4%B8%9A%E6%9C%89%E9%99%90%E8%B4%A3%E4%BB%BB%E5%85%AC%E5%8F%B8&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 13:15:42 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"16", "report_params"=>{"company_name"=>"ÊπñÂåóËëõÂ∫ó‰∫∫Á¶èËçØ‰∏öÊúâÈôêË¥£‰ªªÂÖ¨Âè∏", "end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mTemporaryReport Load (61.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mReportCondition Load (30.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  [1m[35m (6092.6ms)[0m  [1m[34mSELECT
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
IF(a.ËØ¢ÁõòÊï∞ is not null,a.ËØ¢ÁõòÊï∞,0),
IF(b.Êä•‰ª∑Êï∞ is not null,b.Êä•‰ª∑Êï∞,0),
IF(c.‰∏ãÂçïÊï∞ is not null,c.‰∏ãÂçïÊï∞,0),
IF(c.casÊï∞Èáè is not null,c.casÊï∞Èáè,0),
IF(c.ÈááË¥≠È¢ù is not null,c.ÈááË¥≠È¢ù,0),
IF(c.ÊØõÂà© is not null,c.ÊØõÂà©,0),
IF(c.ÊØõÂà©Áéá is not null,c.ÊØõÂà©Áéá,0),c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id,
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id

) tt

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
WHERE i.created_at >=    '2017-07-13 10:29:59'   AND i.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) a ON tt.id= a.id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
  LEFT JOIN quotation_details qd
    ON qd.inquiry_id = i.`id`
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) b
ON tt.id = b.id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount
            ELSE 0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 /
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN order_details od
    ON od.user_id = u.id
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date) c
ON tt.id = c.id  and a.f_date = c.f_date

LEFT JOIN

(SELECT
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN
companies c
ON c.id = u.company_id
WHERE iv.created_at >=    '2017-07-13 10:29:59'   AND iv.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) a WHERE a.id = c.id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d') ) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date
) wx ON wx.id = tt.id  and a.f_date = wx.f_date

LEFT JOIN

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date, c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id`
 and vp.`created_at` >=    '2017-07-13 10:29:59'   AND vp.`created_at` <   '2017-07-14 10:29:59' 
GROUP BY f_date
) wc ON wc.id = tt.id  and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏'
FROM
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) g ON tt.id = g.id  and a.f_date = g.f_date

order by show_data [0m
  [1m[36mTemporaryChart Load (30.4ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (2.8ms)
  Rendered temporary_reports/report.html.erb within layouts/application (51.1ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 6294ms (Views: 68.4ms | ActiveRecord: 6214.4ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 13:18:25 +0800
Processing by TemporaryReportsController#index as HTML
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (94.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (5.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (106.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 127ms (Views: 30.6ms | ActiveRecord: 94.2ms)


Started GET "/temporary_reports/set_report_permission?id=16" for ::1 at 2017-07-21 13:19:16 +0800
Processing by TemporaryReportsController#set_report_permission as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (31.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/set_report_permission.js.erb
  [1m[35m (30.1ms)[0m  [1m[34mSELECT `roles`.`name`, `roles`.`id` FROM `roles`[0m
  [1m[35m (30.8ms)[0m  [1m[34mSELECT `employees`.`name`, `employees`.`id` FROM `employees`[0m
  [1m[35m (29.6ms)[0m  [1m[34mSELECT `employees`.id FROM `employees` INNER JOIN `employees_temporary_reports` ON `employees`.`id` = `employees_temporary_reports`.`employee_id` WHERE `employees_temporary_reports`.`temporary_report_id` = 16[0m
  Rendered temporary_reports/_set_report_permission.html.erb (216.5ms)
  Rendered temporary_reports/set_report_permission.js.erb (228.9ms)
Completed 200 OK in 291ms (Views: 66.9ms | ActiveRecord: 213.7ms)


Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 13:19:20 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (31.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (93.2ms)
  Rendered temporary_reports/composite_report.js.erb (104.6ms)
Completed 500 Internal Server Error in 166ms (ActiveRecord: 31.5ms)


  [1m[35m (29.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (32.6ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/composite_report?id=16', 'TemporaryReportsController', 'composite_report', '---\nid: \'16\'\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: k1/APokbqHqek/yFA+IPSK7ZMfPw+z5He0ZPhMXeeOGahV39fh4WVmeLZ9237you5uAroIAMeoIpxOWVO4h0NA==\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: NlVQeHNweXQ4U2ZzbkxWVldhTDl3K0NrOTloajJBUVJKM2FGZThMNmwrbHBZNUJ1QU01OTA5c2lLbWdXZzdqOVVzN2dUVWlIZzZaTlRiZkF1UDBFQXBudSt1ZDNCL0RvWEtIajJ0VjUvcmRZM1lYbzFvN2ZaR1o0dGxtRG5iVk1oTFZHRTViS3hERUNpdEZUZGpSSElRPT0tLWU4MFc0anhmS2xaRlN5TlQ2dHVmTUE9PQ==--86656d0d1fdb87bfe0152444145b5ec629077d99\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `select_options_from_enum\' for #<#<Class:0x007fc28f283300>:0x007fc29008b768>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236808351980\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `block in capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:450:in `form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:26:in `block in simple_form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:45:in `with_simple_form_field_error_proc\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:25:in `simple_form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236808351980\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:343:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:311:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:310:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236808446220\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:19:20', '2017-07-21 05:19:20')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `select_options_from_enum' for #<#<Class:0x007fc28f283300>:0x007fc29008b768>):
    4:   <div class="content">
    5:     <%= simple_form_for @temporary_report, url: composite_report_temporary_reports_path, remote: true, method: :get do |f| %>
    6:         <div class="two fields">
    7:           <%= f.input :report_type, as: :select, collection: select_options_from_enum(TemporaryReport, :report_type), wrapper_html: {style: 'display: block'}, input_html: {class: 'ui fluid dropdown'} %>
    8:         </div>
    9:         <%= hidden_field_tag :id,@temporary_report.id%>
   10:         <%= f.text_area :composite_sentence %></br></br>
  
app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236808351980'
app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236808351980'
app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236808446220'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (26.5ms)
Started GET "/temporary_reports/16/edit" for ::1 at 2017-07-21 13:19:23 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (31.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (30.2ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 16[0m
  [1m[36mReportCondition Load (30.4ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  Rendered temporary_reports/_edit.html.erb (78.9ms)
  Rendered temporary_reports/edit.js.erb (88.4ms)
Completed 200 OK in 150ms (Views: 48.2ms | ActiveRecord: 92.3ms)


Started GET "/temporary_reports/chart_report?id=16" for ::1 at 2017-07-21 13:19:26 +0800
Processing by TemporaryReportsController#chart_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (32.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mTemporaryChart Load (29.8ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/chart_report.js.erb
  Rendered temporary_reports/_chart_report.html.erb (4.2ms)
  Rendered temporary_reports/chart_report.js.erb (13.1ms)
Completed 200 OK in 107ms (Views: 33.1ms | ActiveRecord: 62.2ms)


Started GET "/temporary_reports/report?id=16" for ::1 at 2017-07-21 13:19:32 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (32.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mReportCondition Load (30.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  [1m[35m (5942.6ms)[0m  [1m[34mSELECT
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
IF(a.ËØ¢ÁõòÊï∞ is not null,a.ËØ¢ÁõòÊï∞,0),
IF(b.Êä•‰ª∑Êï∞ is not null,b.Êä•‰ª∑Êï∞,0),
IF(c.‰∏ãÂçïÊï∞ is not null,c.‰∏ãÂçïÊï∞,0),
IF(c.casÊï∞Èáè is not null,c.casÊï∞Èáè,0),
IF(c.ÈááË¥≠È¢ù is not null,c.ÈááË¥≠È¢ù,0),
IF(c.ÊØõÂà© is not null,c.ÊØõÂà©,0),
IF(c.ÊØõÂà©Áéá is not null,c.ÊØõÂà©Áéá,0),c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id,
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id

) tt

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
WHERE i.created_at >=    '2017-07-13 10:29:59'   AND i.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) a ON tt.id= a.id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
  LEFT JOIN quotation_details qd
    ON qd.inquiry_id = i.`id`
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) b
ON tt.id = b.id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount
            ELSE 0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 /
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN order_details od
    ON od.user_id = u.id
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date) c
ON tt.id = c.id  and a.f_date = c.f_date

LEFT JOIN

(SELECT
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN
companies c
ON c.id = u.company_id
WHERE iv.created_at >=    '2017-07-13 10:29:59'   AND iv.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) a WHERE a.id = c.id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d') ) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date
) wx ON wx.id = tt.id  and a.f_date = wx.f_date

LEFT JOIN

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date, c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id`
 and vp.`created_at` >=    '2017-07-13 10:29:59'   AND vp.`created_at` <   '2017-07-14 10:29:59' 
GROUP BY f_date
) wc ON wc.id = tt.id  and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏'
FROM
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) g ON tt.id = g.id  and a.f_date = g.f_date

order by show_data [0m
  [1m[36mTemporaryChart Load (29.9ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (3.0ms)
  Rendered temporary_reports/report.html.erb within layouts/application (37.8ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 6099ms (Views: 54.9ms | ActiveRecord: 6034.7ms)


Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 13:19:44 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (31.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (107.3ms)
  Rendered temporary_reports/composite_report.js.erb (115.7ms)
Completed 500 Internal Server Error in 176ms (ActiveRecord: 31.1ms)


  [1m[35m (28.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (32.4ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/composite_report?id=16', 'TemporaryReportsController', 'composite_report', '---\nid: \'16\'\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: k1/APokbqHqek/yFA+IPSK7ZMfPw+z5He0ZPhMXeeOGahV39fh4WVmeLZ9237you5uAroIAMeoIpxOWVO4h0NA==\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZHlMVmdWdmgvdlhFN2dpZ2ZXVytjS29pK3RkZDNWdHBUQm5aWUhOK3k1N3F4SnJvMWpibWpTM2VkY1M3YXpnUS9BZjd0eDJkS2g0Nlc3V29ORmR5NHYzVXV3dmxCcjNuVUJpYW5aSXIwZjBuRXN2NXlTV3VrMEFja0ZBY0IvdEVteEJGeXNxK1c3aFFQSVNodUFPTk5nPT0tLU0yVnN4bjBieU14NS82V1FlOVdxWmc9PQ==--15baad3218bc5e7531a0a409321362ed9d27f00c\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `select_options_from_enum\' for #<#<Class:0x007fc28f283300>:0x007fc28d1ef5f8>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236791640620\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `block in capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:450:in `form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:26:in `block in simple_form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:45:in `with_simple_form_field_error_proc\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:25:in `simple_form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236791640620\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:343:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:311:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:310:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236783927380\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:19:44', '2017-07-21 05:19:44')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `select_options_from_enum' for #<#<Class:0x007fc28f283300>:0x007fc28d1ef5f8>):
    4:   <div class="content">
    5:     <%= simple_form_for @temporary_report, url: composite_report_temporary_reports_path, remote: true, method: :get do |f| %>
    6:         <div class="two fields">
    7:           <%= f.input :report_type, as: :select, collection: select_options_from_enum(TemporaryReport, :report_type), wrapper_html: {style: 'display: block'}, input_html: {class: 'ui fluid dropdown'} %>
    8:         </div>
    9:         <%= hidden_field_tag :id,@temporary_report.id%>
   10:         <%= f.text_area :composite_sentence %></br></br>
  
app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236791640620'
app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236791640620'
app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236783927380'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (26.7ms)
Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 13:26:07 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (65.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (92.7ms)
  Rendered temporary_reports/composite_report.js.erb (101.3ms)
Completed 500 Internal Server Error in 318ms (ActiveRecord: 160.7ms)


  [1m[35m (26.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (95.8ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/composite_report?id=16', 'TemporaryReportsController', 'composite_report', '---\nid: \'16\'\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: k1/APokbqHqek/yFA+IPSK7ZMfPw+z5He0ZPhMXeeOGahV39fh4WVmeLZ9237you5uAroIAMeoIpxOWVO4h0NA==\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZHlMVmdWdmgvdlhFN2dpZ2ZXVytjS29pK3RkZDNWdHBUQm5aWUhOK3k1N3F4SnJvMWpibWpTM2VkY1M3YXpnUS9BZjd0eDJkS2g0Nlc3V29ORmR5NHYzVXV3dmxCcjNuVUJpYW5aSXIwZjBuRXN2NXlTV3VrMEFja0ZBY0IvdEVteEJGeXNxK1c3aFFQSVNodUFPTk5nPT0tLU0yVnN4bjBieU14NS82V1FlOVdxWmc9PQ==--15baad3218bc5e7531a0a409321362ed9d27f00c\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `display_model_status\' for #<#<Class:0x007fc28e1303f0>:0x007fc28e12b170>\nDid you mean?  display_meta_tags', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `block in select_options_from_enum\'\r\n/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `map\'\r\n/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `select_options_from_enum\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236779966320\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `block in capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:450:in `form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:26:in `block in simple_form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:45:in `with_simple_form_field_error_proc\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:25:in `simple_form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236779966320\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:343:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:311:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:310:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236791998100\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:26:26', '2017-07-21 05:26:26')[0m
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `display_model_status' for #<#<Class:0x007fc28e1303f0>:0x007fc28e12b170>
Did you mean?  display_meta_tags):
    4:   <div class="content">
    5:     <%= simple_form_for @temporary_report, url: composite_report_temporary_reports_path, remote: true, method: :get do |f| %>
    6:         <div class="two fields">
    7:           <%= f.input :report_type, as: :select, collection: select_options_from_enum(TemporaryReport, :report_type), wrapper_html: {style: 'display: block'}, input_html: {class: 'ui fluid dropdown'} %>
    8:         </div>
    9:         <%= hidden_field_tag :id,@temporary_report.id%>
   10:         <%= f.text_area :composite_sentence %></br></br>
  
app/helpers/application_helper.rb:7:in `block in select_options_from_enum'
app/helpers/application_helper.rb:7:in `map'
app/helpers/application_helper.rb:7:in `select_options_from_enum'
app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236779966320'
app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb___1189660371848711211_70236779966320'
app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb___4118684229274130522_70236791998100'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (29.0ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:26:42 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (274.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (6.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (447.9ms)
  Rendered shared/admin/_top_bar.html.erb (2.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 1619ms (Views: 1169.6ms | ActiveRecord: 375.2ms)


Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 13:26:46 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (67.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (84.3ms)
  Rendered temporary_reports/composite_report.js.erb (95.4ms)
Completed 500 Internal Server Error in 196ms (ActiveRecord: 67.4ms)


  [1m[35m (31.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (106.7ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/composite_report?id=16', 'TemporaryReportsController', 'composite_report', '---\nid: \'16\'\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: vaJ/YakoBXTEuG3JFWGfjjPIlPNXpf2q0WdWkAbKZz20eOKiXi27WD2g9pGhbLroe/GOoCdSuW+D5fyB+Jxr6A==\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZEw0Ulo3aHpyc1MwbE1sRTRQWms3KzJYT09sVi9wWGthQ1dQN1cvUDJWSDAyczBXRWJOQzRGanNLN1MrNi8vWkJkT2d1eUlyUnpMZTA0ejJzQ3NObit4a29mLy9IcWoydUxWUUtRQWliLzJua2kvVzVWZ0tCUTg4cGhFekFtY3Bubk9MY3V1SDFOL01UajBRZU1WYi9nPT0tLTNPNmdCd2RaMGYyRVAzTFR0TU9wd1E9PQ==--21e49bb29148841d918bd1f8dd817597537e9a4e\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `display_model_status\' for #<#<Class:0x007fe80a42f370>:0x007fe7fa195c00>\nDid you mean?  display_meta_tags', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `block in select_options_from_enum\'\r\n/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `map\'\r\n/Users/jamst/workbook/pre-report/app/helpers/application_helper.rb:7:in `select_options_from_enum\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb__2694471755559351575_70317374801500\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `block in capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:450:in `form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:26:in `block in simple_form_for\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:45:in `with_simple_form_field_error_proc\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/simple_form-3.5.0/lib/simple_form/action_view_extensions/form_helper.rb:25:in `simple_form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb__2694471755559351575_70317374801500\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:343:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:311:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:310:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:35:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb__4069408128526415170_70317155070780\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:26:46', '2017-07-21 05:26:46')[0m
  [1m[35m (33.1ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `display_model_status' for #<#<Class:0x007fe80a42f370>:0x007fe7fa195c00>
Did you mean?  display_meta_tags):
    4:   <div class="content">
    5:     <%= simple_form_for @temporary_report, url: composite_report_temporary_reports_path, remote: true, method: :get do |f| %>
    6:         <div class="two fields">
    7:           <%= f.input :report_type, as: :select, collection: select_options_from_enum(TemporaryReport, :report_type), wrapper_html: {style: 'display: block'}, input_html: {class: 'ui fluid dropdown'} %>
    8:         </div>
    9:         <%= hidden_field_tag :id,@temporary_report.id%>
   10:         <%= f.text_area :composite_sentence %></br></br>
  
app/helpers/application_helper.rb:7:in `block in select_options_from_enum'
app/helpers/application_helper.rb:7:in `map'
app/helpers/application_helper.rb:7:in `select_options_from_enum'
app/views/temporary_reports/_composite_report.html.erb:7:in `block in _app_views_temporary_reports__composite_report_html_erb__2694471755559351575_70317374801500'
app/views/temporary_reports/_composite_report.html.erb:5:in `_app_views_temporary_reports__composite_report_html_erb__2694471755559351575_70317374801500'
app/views/temporary_reports/composite_report.js.erb:6:in `_app_views_temporary_reports_composite_report_js_erb__4069408128526415170_70317155070780'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (27.5ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:27:34 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (274.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (5.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (407.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 519ms (Views: 118.8ms | ActiveRecord: 385.8ms)


Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 13:27:37 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mTemporaryReport Load (65.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (6.0ms)
  Rendered temporary_reports/composite_report.js.erb (16.5ms)
Completed 200 OK in 111ms (Views: 36.0ms | ActiveRecord: 65.7ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 13:28:34 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (287.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (75.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (486.0ms)
Completed 500 Internal Server Error in 506ms (ActiveRecord: 398.4ms)


  [1m[35m (31.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (65.9ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nIF_NONE_MATCH: W/\"69d6d61f658d3775128d317a857aefe2\"\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: NzY2TG94WURjMmhLQS9zY3VoZzJjcTBQUjY2bDVkNjBMMG1UbjlNRG5zK1d4d3pCWG1jWVZaNFRGS3p3dW4ySWhJcVZESnVFVUhmUnhUMkdYT2JUZVJZdGd1TEhvRFhCWEY5WHMzMHB5OHdONmRjWFJpYzBTQjdkTll2enlwUk5HaGRVdnF0SzNsbmR2a3lvSjBEK3BnPT0tLTJEOFo5c3pITE4xTzlYdy9zdGYyL3c9PQ==--97cc95a5c7ba0a155acb93f79533e3cf55c980b0\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `ajax_bar\' for #<#<Class:0x007fe7fb469048>:0x007fe7fb473e58>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__344600322584697273_70317165415020\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb___2598226255280095955_70317164940480\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 05:28:35', '2017-07-21 05:28:35')[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `ajax_bar' for #<#<Class:0x007fe7fb469048>:0x007fe7fb473e58>):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__344600322584697273_70317165415020'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb___2598226255280095955_70317164940480'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.9ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:31:04 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (310.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (91.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (572.4ms)
Completed 500 Internal Server Error in 651ms (ActiveRecord: 420.7ms)


  [1m[35m (26.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (83.6ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: NzY2TG94WURjMmhLQS9zY3VoZzJjcTBQUjY2bDVkNjBMMG1UbjlNRG5zK1d4d3pCWG1jWVZaNFRGS3p3dW4ySWhJcVZESnVFVUhmUnhUMkdYT2JUZVJZdGd1TEhvRFhCWEY5WHMzMHB5OHdONmRjWFJpYzBTQjdkTll2enlwUk5HaGRVdnF0SzNsbmR2a3lvSjBEK3BnPT0tLTJEOFo5c3pITE4xTzlYdy9zdGYyL3c9PQ==--97cc95a5c7ba0a155acb93f79533e3cf55c980b0\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined method `ajax_bar\' for #<#<Class:0x007fe288e9e928>:0x007fe28910ab80>', 'ActionView::Template::Error', '/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2749367811558493074_70305480717700\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__3968495345046158969_70305469367600\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 13:31:05', '2017-07-21 13:31:05')[0m
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `ajax_bar' for #<#<Class:0x007fe288e9e928>:0x007fe28910ab80>):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2749367811558493074_70305480717700'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__3968495345046158969_70305469367600'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (51.2ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:39:45 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (275.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (5.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (431.9ms)
Completed 500 Internal Server Error in 511ms (ActiveRecord: 366.8ms)


  [1m[35m (27.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (83.1ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: NzY2TG94WURjMmhLQS9zY3VoZzJjcTBQUjY2bDVkNjBMMG1UbjlNRG5zK1d4d3pCWG1jWVZaNFRGS3p3dW4ySWhJcVZESnVFVUhmUnhUMkdYT2JUZVJZdGd1TEhvRFhCWEY5WHMzMHB5OHdONmRjWFJpYzBTQjdkTll2enlwUk5HaGRVdnF0SzNsbmR2a3lvSjBEK3BnPT0tLTJEOFo5c3pITE4xTzlYdy9zdGYyL3c9PQ==--97cc95a5c7ba0a155acb93f79533e3cf55c980b0\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nuninitialized constant Ability', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cancancan-2.0.0/lib/cancan/controller_additions.rb:350:in `current_ability\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/helpers.rb:68:in `current_ability\'\r\n/Users/jamst/workbook/pre-report/lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2362001847042201777_70311791083340\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__1101664655582240447_70311782952960\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 13:39:46', '2017-07-21 13:39:46')[0m
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (uninitialized constant Ability):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar'
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2362001847042201777_70311791083340'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__1101664655582240447_70311782952960'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.1ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:41:59 +0800
Processing by TemporaryReportsController#index as HTML
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (269.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (91.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (467.8ms)
Completed 500 Internal Server Error in 490ms (ActiveRecord: 364.3ms)


  [1m[35m (26.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (56.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: NzY2TG94WURjMmhLQS9zY3VoZzJjcTBQUjY2bDVkNjBMMG1UbjlNRG5zK1d4d3pCWG1jWVZaNFRGS3p3dW4ySWhJcVZESnVFVUhmUnhUMkdYT2JUZVJZdGd1TEhvRFhCWEY5WHMzMHB5OHdONmRjWFJpYzBTQjdkTll2enlwUk5HaGRVdnF0SzNsbmR2a3lvSjBEK3BnPT0tLTJEOFo5c3pITE4xTzlYdy9zdGYyL3c9PQ==--97cc95a5c7ba0a155acb93f79533e3cf55c980b0\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\n', 'ActionView::Template::Error\r\nundefined local variable or method `current_user\' for #<TemporaryReportsController:0x007fe579d4af10>\nDid you mean?  current_ability', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cancancan-2.0.0/lib/cancan/controller_additions.rb:350:in `current_ability\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/helpers.rb:68:in `current_ability\'\r\n/Users/jamst/workbook/pre-report/lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2362001847042201777_70311816111320\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__1101664655582240447_70311783643460\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 13:42:00', '2017-07-21 13:42:00')[0m
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined local variable or method `current_user' for #<TemporaryReportsController:0x007fe579d4af10>
Did you mean?  current_ability):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar'
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb___2362001847042201777_70311816111320'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__1101664655582240447_70311783643460'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.4ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 13:53:55 +0800
  
NoMethodError (undefined method `devise' for #<Class:0x007fe57dcdae50>):
  
app/models/employee.rb:3:in `<class:Employee>'
app/models/employee.rb:1:in `<top (required)>'
config/routes.rb:29:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.0ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 14:12:23 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 14:12:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (7.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.5ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1385ms (Views: 1241.3ms | ActiveRecord: 125.2ms)


Started POST "/admin/login" for ::1 at 2017-07-21 14:12:36 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"ULSGVXzdCdFhCZufDc0t57b73xLTc3ccZSZnZAFIx5JZbhuWi9i3/ZgRAMe5wAiB/sLFQaOEM9k3pM11/x7LRw==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"LOGIN"}
  [1m[36mEmployee Load (33.1ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 137ms (ActiveRecord: 33.1ms)


  [1m[35m (31.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (100.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/admin/login', 'Admin::SessionsController', 'create', '---\nutf8: \"‚úì\"\nauthenticity_token: ULSGVXzdCdFhCZufDc0t57b73xLTc3ccZSZnZAFIx5JZbhuWi9i3/ZgRAMe5wAiB/sLFQaOEM9k3pM11/x7LRw==\nemployee:\n  email: admin@whmall.com\n  password: \"[FILTERED]\"\n  remember_me: \'0\'\ncommit: LOGIN\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nORIGIN: http://localhost:3000\nREFERER: http://localhost:3000/admin/login\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: a1pLWUhrVjljaVZjYTFRQWt5QXBRU0J3cGluYUhXaVhPZFlET3ByRHExWmNLY1lVdjBQTDRqUk1xR016SllZL3RlY1hrRVRac25KM3BaajBMVkt0QytRQ3lvVG55UjBqOHBGUlYxenVtUmcxby95T1I4cFZqNlJBQm9nV2tueVpMTlBhN3kxcXJUeWQ1Wjg3M1dpbFQ0NlRVYmFxZDVHSzlBMVE5WXlwNmIzaGwzMnpZL2JLUkYybk0va2xKMWRnLzgxKzBaZ0xuSnpzR0NraXpDV3crQT09LS12QW1XYTFjKzgvbHdvanVLWk9BcDd3PT0=--f5aebcd6382d0c9997388c3e3659f0bab7dc03d3\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n', 'NoMethodError\r\nundefined method `current_sign_in_at\' for #<Employee:0x007fa67d8ea910>\nDid you mean?  current_ability', 'NoMethodError', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activemodel-5.0.4/lib/active_model/attribute_methods.rb:433:in `method_missing\'\r\n/Users/jamst/workbook/pre-report/lib/website/ext/active_record/i18n.rb:21:in `method_missing\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/models/trackable.rb:19:in `update_tracked_fields\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/models/trackable.rb:32:in `update_tracked_fields!\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/hooks/trackable.rb:7:in `block in <top (required)>\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/hooks.rb:15:in `block in _run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/hooks.rb:10:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/hooks.rb:10:in `_run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:52:in `_run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/proxy.rb:180:in `set_user\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/proxy.rb:328:in `_perform_authentication\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/proxy.rb:128:in `authenticate!\'\r\n/Users/jamst/workbook/pre-report/app/controllers/admin/sessions_controller.rb:11:in `create\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:38:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:12:37', '2017-07-21 14:12:37')[0m
  [1m[35m (33.7ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NoMethodError (undefined method `current_sign_in_at' for #<Employee:0x007fa67d8ea910>
Did you mean?  current_ability):
  
lib/website/ext/active_record/i18n.rb:21:in `method_missing'
app/controllers/admin/sessions_controller.rb:11:in `create'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (48.8ms)
Started GET "/admin/login" for ::1 at 2017-07-21 14:17:15 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 146ms (ActiveRecord: 101.5ms)


  [1m[35m (33.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (101.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/admin/login', 'Admin::SessionsController', 'new', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nIF_NONE_MATCH: W/\"1739dd22b34daaa6a90eb5572d78ac44\"\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: a1pLWUhrVjljaVZjYTFRQWt5QXBRU0J3cGluYUhXaVhPZFlET3ByRHExWmNLY1lVdjBQTDRqUk1xR016SllZL3RlY1hrRVRac25KM3BaajBMVkt0QytRQ3lvVG55UjBqOHBGUlYxenVtUmcxby95T1I4cFZqNlJBQm9nV2tueVpMTlBhN3kxcXJUeWQ1Wjg3M1dpbFQ0NlRVYmFxZDVHSzlBMVE5WXlwNmIzaGwzMnpZL2JLUkYybk0va2xKMWRnLzgxKzBaZ0xuSnpzR0NraXpDV3crQT09LS12QW1XYTFjKzgvbHdvanVLWk9BcDd3PT0=--f5aebcd6382d0c9997388c3e3659f0bab7dc03d3\n', '---\nsession_id: cf6f28fa62ef3afd74fe9f194cf0cd24\n_csrf_token: Cdqdw/cFviz5GJtYtA0lZkg5GlNw90TFUoKqEf5WDNU=\nemployee_return_to: \"/temporary_reports\"\n', 'ActionView::Template::Error\r\nundefined method `remember_me\' for #<Employee:0x007fa67f646b80>\nDid you mean?  remember_created_at', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activemodel-5.0.4/lib/active_model/attribute_methods.rb:433:in `method_missing\'\r\n/Users/jamst/workbook/pre-report/lib/website/ext/active_record/i18n.rb:21:in `method_missing\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rolify-5.1.0/lib/rolify/role.rb:98:in `method_missing\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/tags/base.rb:35:in `public_send\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/tags/base.rb:35:in `value\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/tags/checkable.rb:10:in `input_checked?\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/tags/check_box.rb:19:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:952:in `check_box\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:1699:in `check_box\'\r\n/Users/jamst/workbook/pre-report/app/views/admin/sessions/new.html.erb:26:in `block in _app_views_admin_sessions_new_html_erb__2982980150610867049_70176546793680\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `block in capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/capture_helper.rb:39:in `capture\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/form_helper.rb:450:in `form_for\'\r\n/Users/jamst/workbook/pre-report/app/views/admin/sessions/new.html.erb:13:in `_app_views_admin_sessions_new_html_erb__2982980150610867049_70176546793680\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/responders-2.4.0/lib/action_controller/responder.rb:238:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/responders-2.4.0/lib/action_controller/responder.rb:170:in `to_html\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/responders-2.4.0/lib/action_controller/responder.rb:163:in `respond\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/responders-2.4.0/lib/action_controller/responder.rb:156:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/responders-2.4.0/lib/action_controller/respond_with.rb:211:in `respond_with\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:12:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/admin/sessions_controller.rb:6:in `new\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:17:16', '2017-07-21 14:17:16')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `remember_me' for #<Employee:0x007fa67f646b80>
Did you mean?  remember_created_at):
    23:         <div class="col-xs-8">
    24:           <div class="checkbox icheck" style="margin-left:20px">
    25:             <label>
    26:               <%= f.check_box :remember_me, id: "india_user_remember_me" %> Remember Me
    27:             </label>
    28:           </div>
    29:         </div>
  
lib/website/ext/active_record/i18n.rb:21:in `method_missing'
app/views/admin/sessions/new.html.erb:26:in `block in _app_views_admin_sessions_new_html_erb__2982980150610867049_70176546793680'
app/views/admin/sessions/new.html.erb:13:in `_app_views_admin_sessions_new_html_erb__2982980150610867049_70176546793680'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.9ms)
Started GET "/admin/login" for ::1 at 2017-07-21 14:20:33 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (1.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 235ms (Views: 100.9ms | ActiveRecord: 117.6ms)


Started POST "/admin/login" for ::1 at 2017-07-21 14:20:35 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"rG7I/5HShtoAxYku42fxA8Hv+snEtbh9QUiSu/pvndKltFU8Ztc49vndEnZXatRlidbgmrRC/LgTyjiqBDmRBw==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"LOGIN"}
  [1m[36mEmployee Load (32.8ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 96ms (ActiveRecord: 32.8ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 14:20:35 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (32.7ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (274.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (104.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (476.7ms)
Completed 500 Internal Server Error in 530ms (ActiveRecord: 372.1ms)


  [1m[35m (32.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (98.7ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/admin/login\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: RHZDWlBSOUhrditQQ0VhdC9YYTA3dGRVaS8yNkc0M0NtUGpyZlJySElpc1pTUmR0UnJhSDlBR004ZU5HaW9TWEF2b2tIOTJWTHZKZ2pHbnZuTmVGZVNBMDhQQ0NWaE5YakU1Z0hsNkRkQTF5VkVYM0VXMTVmN0RjMjltWE12K2wyM25iUmJaWmZiQW92TzdVaVBuMkhPelR0bFNiNTd4KzhNUE9uWjYvcEM2eEdpdlRvTjE1YjR5Y1hpRmU0YmNiYTlEK3RIT3E5M2pDWVI5MktqVzJTWE8vcG05MEdSM1F5U3dwL3JZRkVBcGV1Q1I3TENBWmNpNkxxTFg4MjdOYkVuQkprK3FDNlQveEV5Kyt0bHJaOWR2T3hxUlFobVp6NEVTM2hFc0F0U2NKMjdYc2NyeWVLcGVTTFkyZmg0UnVJa05tR2x0UUlQUnAwL1dJQUliMU9LUmhWS3hYN29WQUdIampnOHZqeFFNPS0tRmVSb2NLZlhnc3J0MDkxUXcvcDVHZz09--567d66d659e61b4041035e59b3f551728bee1d6b\n', '---\nsession_id: 8093b471b2fc512935bea0f646f91c34\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\nflash:\n  discard: []\n  flashes:\n    notice: \'translation missing: zh.devise.sessions.employee.signed_in\'\n', 'ActionView::Template::Error\r\nundefined local variable or method `current_user\' for #<TemporaryReportsController:0x007fa6625d2b80>\nDid you mean?  current_employee', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cancancan-2.0.0/lib/cancan/controller_additions.rb:350:in `current_ability\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/helpers.rb:68:in `current_ability\'\r\n/Users/jamst/workbook/pre-report/lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__3274371810437220913_70176526152020\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__979455685575225288_70176501961560\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:20:36', '2017-07-21 14:20:36')[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined local variable or method `current_user' for #<TemporaryReportsController:0x007fa6625d2b80>
Did you mean?  current_employee):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar'
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__3274371810437220913_70176526152020'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__979455685575225288_70176501961560'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.6ms)
Started POST "/__web_console/repl_sessions/2e87a4479b152f73a232892252d20e58/trace" for ::1 at 2017-07-21 14:21:01 +0800
Started POST "/__web_console/repl_sessions/2e87a4479b152f73a232892252d20e58/trace" for ::1 at 2017-07-21 14:21:50 +0800
Started POST "/__web_console/repl_sessions/2e87a4479b152f73a232892252d20e58/trace" for ::1 at 2017-07-21 14:21:55 +0800
Started POST "/__web_console/repl_sessions/2e87a4479b152f73a232892252d20e58/trace" for ::1 at 2017-07-21 14:22:20 +0800
Started GET "/temporary_reports" for ::1 at 2017-07-21 14:22:41 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (33.9ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (277.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (194.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (552.9ms)
Completed 500 Internal Server Error in 747ms (ActiveRecord: 491.8ms)


  [1m[35m (31.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (66.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/admin/login\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: RHZDWlBSOUhrditQQ0VhdC9YYTA3dGRVaS8yNkc0M0NtUGpyZlJySElpc1pTUmR0UnJhSDlBR004ZU5HaW9TWEF2b2tIOTJWTHZKZ2pHbnZuTmVGZVNBMDhQQ0NWaE5YakU1Z0hsNkRkQTF5VkVYM0VXMTVmN0RjMjltWE12K2wyM25iUmJaWmZiQW92TzdVaVBuMkhPelR0bFNiNTd4KzhNUE9uWjYvcEM2eEdpdlRvTjE1YjR5Y1hpRmU0YmNiYTlEK3RIT3E5M2pDWVI5MktqVzJTWE8vcG05MEdSM1F5U3dwL3JZRkVBcGV1Q1I3TENBWmNpNkxxTFg4MjdOYkVuQkprK3FDNlQveEV5Kyt0bHJaOWR2T3hxUlFobVp6NEVTM2hFc0F0U2NKMjdYc2NyeWVLcGVTTFkyZmg0UnVJa05tR2x0UUlQUnAwL1dJQUliMU9LUmhWS3hYN29WQUdIampnOHZqeFFNPS0tRmVSb2NLZlhnc3J0MDkxUXcvcDVHZz09--567d66d659e61b4041035e59b3f551728bee1d6b\n', '---\nsession_id: 8093b471b2fc512935bea0f646f91c34\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\nflash:\n  discard: []\n  flashes:\n    notice: \'translation missing: zh.devise.sessions.employee.signed_in\'\n', 'ActionView::Template::Error\r\nundefined local variable or method `current_user\' for #<TemporaryReportsController:0x007fa6621f2a60>\nDid you mean?  current_employee', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cancancan-2.0.0/lib/cancan/controller_additions.rb:350:in `current_ability\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/helpers.rb:68:in `current_ability\'\r\n/Users/jamst/workbook/pre-report/lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__3274371810437220913_70176294563520\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:438:in `block in collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `map\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:434:in `collection_with_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:327:in `block (2 levels) in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer/collection_caching.rb:13:in `cache_collection_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:319:in `render_collection\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/partial_renderer.rb:308:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:47:in `render_partial\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:21:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/helpers/rendering_helper.rb:32:in `render\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__979455685575225288_70176524470460\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:22:42', '2017-07-21 14:22:42')[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined local variable or method `current_user' for #<TemporaryReportsController:0x007fa6621f2a60>
Did you mean?  current_employee):
    10:         <%= link_to 'ÊùÉÈôê', set_report_permission_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    11:         <%= link_to 'ÂêàÂπ∂', composite_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    12:         <%= link_to 'ÂõæË°®', chart_report_temporary_reports_path(id:temporary_report.id), remote: true , class: 'ui primary button' %>
    13:   	    <%= ajax_bar(__FILE__,temporary_report,[{:name => :inactive, confirm: 'ÊÇ®Á°ÆÂÆöÂÜªÁªìËØ•Êä•Ë°®Ôºü', :label => false,  html: {:class => 'ui icon red button'}}]) do%>
    14:   	      <i class="frown icon"></i>
    15:   	    <%end%>
    16: 
  
lib/website/ajax_bar/ajax_bar_helper.rb:8:in `ajax_bar'
app/views/temporary_reports/_list.html.erb:13:in `_app_views_temporary_reports__list_html_erb__3274371810437220913_70176294563520'
app/views/temporary_reports/index.html.erb:49:in `_app_views_temporary_reports_index_html_erb__979455685575225288_70176524470460'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.7ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 14:43:24 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (30.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (271.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (14.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (420.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 1932ms (Views: 1374.4ms | ActiveRecord: 479.6ms)


Started GET "/admin/ajax_bar?class=temporary_report&element=temporary_report_16&id=16&op=active&p=%2Ftemporary_reports%2Flist" for ::1 at 2017-07-21 14:43:40 +0800
Processing by Website::AjaxBar::AjaxBarController#ajax as JS
  Parameters: {"class"=>"temporary_report", "element"=>"temporary_report_16", "id"=>"16", "op"=>"active", "p"=>"/temporary_reports/list"}
  [1m[36mTemporaryReport Load (61.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mEmployee Load (31.0ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 107ms (ActiveRecord: 92.2ms)


  [1m[35m (28.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (62.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/admin/ajax_bar?class=temporary_report&element=temporary_report_16&id=16&op=active&p=%2Ftemporary_reports%2Flist', 'Website::AjaxBar::AjaxBarController', 'ajax', '---\nclass: temporary_report\nelement: temporary_report_16\nid: \'16\'\nop: active\np: \"/temporary_reports/list\"\n', '---\nACCEPT: \"*/*;q=0.5, text/javascript, application/javascript, application/ecmascript,\n  application/x-ecmascript\"\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\nX_CSRF_TOKEN: \"/nwGY2lep4e1aKseWrGpHF5KCffRNISGSop8ySggJNpDpQQuujkV8TCdBV3axpEfbrgjnIyyro652QNiDKSMQw==\"\nX_REQUESTED_WITH: XMLHttpRequest\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: YVkrR0hscSsrU1ozZFdyWkxRYWEyM1pBeEpycW9JRzZJN3NIS0RMM3JPZ281TXpZZmM2dEZaVnREbFJJakxkbDVhVU1FRi8wTFFraEdYcHNPMiszT05wWDFlQXM0YkhGaHpuMHRheWpOSFJWTmNWSHZ5dGNRaWxndzhPVE1tcThtblJKSVVsTjRTZFk5KzVJaWViQnZ5b3lxYzMrVVRDTzVwck9LeUorcGxHVG02UEdXRWpnY2FPTUh3KzNzbUFhSE5PK09ZTVBIOUtEU1VSa3owSTIzaDlLK3FrWlZnMWNpN1J4VGRDTmtVSkNhWUlvZ2UvWGpLNmluUXZlN2N5NWw3YVh5MHRnR2lCME9hV3EvSVVqSndlK0YrQVlLRldYN3NaeUtBNW9zYkE9LS1ldEszL0RDengzK2dkdGh4WXYwbXVBPT0=--0542375f9d611066735c50ce6e6474c08ccd58a9\n', '---\nsession_id: 8093b471b2fc512935bea0f646f91c34\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: vdkCTdNnsnaF9a5DgHc4AzDyKmtdhioI81N/qySEqJk=\n', 'NameError\r\nuninitialized constant Activeable::OperationLog', 'NameError', '/Users/jamst/workbook/pre-report/app/models/concerns/activeable.rb:49:in `active_it\'\r\n/Users/jamst/workbook/pre-report/lib/website/ajax_bar/ajax_bar_controller.rb:20:in `ajax\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:43:40', '2017-07-21 14:43:40')[0m
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
NameError (uninitialized constant Activeable::OperationLog):
  
app/models/concerns/activeable.rb:49:in `active_it'
lib/website/ajax_bar/ajax_bar_controller.rb:20:in `ajax'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (46.2ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 14:50:41 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (30.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (277.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (9.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (362.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 633ms (Views: 128.9ms | ActiveRecord: 473.8ms)


Started GET "/admin/ajax_bar?class=temporary_report&element=temporary_report_16&id=16&op=active&p=%2Ftemporary_reports%2Flist" for ::1 at 2017-07-21 14:50:47 +0800
Processing by Website::AjaxBar::AjaxBarController#ajax as JS
  Parameters: {"class"=>"temporary_report", "element"=>"temporary_report_16", "id"=>"16", "op"=>"active", "p"=>"/temporary_reports/list"}
  [1m[36mTemporaryReport Load (59.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mEmployee Load (30.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (28.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (29.0ms)[0m  [1m[33mUPDATE `temporary_reports` SET `active` = 1, `updated_at` = '2017-07-21 14:50:47' WHERE `temporary_reports`.`id` = 16[0m
  [1m[35m (29.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering lib/website/ajax_bar/views/ok.js.erb
  Rendered temporary_reports/_list.html.erb (1.9ms)
  Rendered lib/website/ajax_bar/views/ok.js.erb (11.2ms)
Completed 200 OK in 221ms (Views: 28.6ms | ActiveRecord: 177.2ms)


Started GET "/admin/ajax_bar?class=temporary_report&element=temporary_report_16&id=16&op=inactive&p=%2Ftemporary_reports%2Flist" for ::1 at 2017-07-21 14:50:51 +0800
Processing by Website::AjaxBar::AjaxBarController#ajax as JS
  Parameters: {"class"=>"temporary_report", "element"=>"temporary_report_16", "id"=>"16", "op"=>"inactive", "p"=>"/temporary_reports/list"}
  [1m[36mTemporaryReport Load (64.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mEmployee Load (30.7ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (30.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (29.3ms)[0m  [1m[33mUPDATE `temporary_reports` SET `active` = 0, `updated_at` = '2017-07-21 14:50:51' WHERE `temporary_reports`.`id` = 16[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering lib/website/ajax_bar/views/ok.js.erb
  Rendered temporary_reports/_list.html.erb (2.0ms)
  Rendered lib/website/ajax_bar/views/ok.js.erb (10.5ms)
Completed 200 OK in 218ms (Views: 26.7ms | ActiveRecord: 185.9ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 14:50:53 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (31.7ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (271.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (10.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (288.0ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 340ms (Views: 33.0ms | ActiveRecord: 303.6ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 14:57:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (31.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (283.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (10.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (369.6ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 552ms (Views: 42.8ms | ActiveRecord: 477.7ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 14:57:43 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (30.8ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  Rendered temporary_reports/index.html.erb within layouts/application (9.5ms)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 30.8ms)


  [1m[35m (29.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (92.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports', 'TemporaryReportsController', 'index', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nIF_NONE_MATCH: W/\"59edd7f306df58f296b98c3c63bcb7ed\"\nREFERER: http://localhost:3000/temporary_reports\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: OFNpb3VYL0pHL1RPbmxSbTBhT1BNTVNBNFJlZ0VMTmgreGpsM29pMGpkc0VVVytSeUE2SHdpM0xDZndPdmVFdUkxQUgveEpzTVFNTTg3OFQ4QUhoZWFzNTJsdmk3RFRhdzNwWkFtQ0VpSTN5eGpFd1k1WjFKZDhBN3BlTFM2bjYxMGZNQlR0bWhBdnRNWHJHTkJwV1crNzZYZDlwSlZRUUZtS3MxZVZaSmg0VDZyS1FVVTFpTDRNdENueUozWTloUGlmeDZGSFUyYjUzUnBLZjNTMUErRlNZQ3k3ZW1maTRBV2prZ01WNVJ2NlNnZVNOUjYybVhoVGladXV0R1pXaHF1Uk5mcWM2ZjRydkovQ3gxL1FmMzQ2UCtnMEwwSGhwZmlkVGxYMUhrSjg9LS16aHNxRGNBSkJxeThIOWpNQ1NpWkZ3PT0=--b5c16dadf3a556f782463cd99563cabcd21d72f8\n', '---\nsession_id: 8093b471b2fc512935bea0f646f91c34\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: vdkCTdNnsnaF9a5DgHc4AzDyKmtdhioI81N/qySEqJk=\n', 'ActionView::Template::Error\r\nundefined method `admin?\' for #<Employee:0x007fa53b01a328>', 'ActionView::Template::Error', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activemodel-5.0.4/lib/active_model/attribute_methods.rb:433:in `method_missing\'\r\n/Users/jamst/workbook/pre-report/lib/website/ext/active_record/i18n.rb:21:in `method_missing\'\r\n/Users/jamst/workbook/pre-report/app/views/temporary_reports/index.html.erb:30:in `_app_views_temporary_reports_index_html_erb__3632844196994382860_70173829363700\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:159:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:166:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:354:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/template.rb:157:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:52:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/template_renderer.rb:14:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:42:in `render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/renderer/renderer.rb:23:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:104:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/streaming.rb:217:in `_render_template\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:83:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:52:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/renderers.rb:142:in `render_to_body\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/rendering.rb:26:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:36:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `block in ms\'\r\n/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/core_ext/benchmark.rb:12:in `ms\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:44:in `block in render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:43:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/meta-tags-2.4.1/lib/meta_tags/controller_helper.rb:20:in `render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/render_overrides.rb:16:in `render_with_remotipart\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/implicit_render.rb:36:in `default_render\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 14:57:43', '2017-07-21 14:57:43')[0m
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActionView::Template::Error (undefined method `admin?' for #<Employee:0x007fa53b01a328>):
    27:   <% end %>
    28: </div>
    29: 
    30: <% if current_employee.admin? %>
    31: <div class="ui grid">
    32:   <div class="left floated wide column">
    33:     <%= link_to "Êñ∞Âª∫", new_temporary_report_path , remote: true, class: 'ui primary button' %>
  
lib/website/ext/active_record/i18n.rb:21:in `method_missing'
app/views/temporary_reports/index.html.erb:30:in `_app_views_temporary_reports_index_html_erb__3632844196994382860_70173829363700'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.0ms)
Started GET "/temporary_reports" for ::1 at 2017-07-21 15:03:33 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (30.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (271.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (9.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (287.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 339ms (Views: 33.1ms | ActiveRecord: 302.2ms)


Started GET "/temporary_reports/new" for ::1 at 2017-07-21 15:03:38 +0800
Processing by TemporaryReportsController#new as JS
  [1m[36mEmployee Load (32.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/new.js.erb
  Rendered temporary_reports/_new.html.erb (14.0ms)
  Rendered temporary_reports/new.js.erb (23.5ms)
Completed 200 OK in 162ms (Views: 43.3ms | ActiveRecord: 96.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:04:22 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (30.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (275.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (9.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (290.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 341ms (Views: 32.5ms | ActiveRecord: 305.8ms)


Started GET "/temporary_reports/set_report_permission?id=14" for ::1 at 2017-07-21 15:07:48 +0800
Processing by TemporaryReportsController#set_report_permission as JS
  Parameters: {"id"=>"14"}
  [1m[36mEmployee Load (30.9ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (63.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  Rendering temporary_reports/set_report_permission.js.erb
  [1m[35m (30.2ms)[0m  [1m[34mSELECT `roles`.`name`, `roles`.`id` FROM `roles`[0m
  [1m[35m (30.9ms)[0m  [1m[34mSELECT `employees`.`name`, `employees`.`id` FROM `employees`[0m
  [1m[35m (29.2ms)[0m  [1m[34mSELECT `employees`.id FROM `employees` INNER JOIN `employees_temporary_reports` ON `employees`.`id` = `employees_temporary_reports`.`employee_id` WHERE `employees_temporary_reports`.`temporary_report_id` = 14[0m
  Rendered temporary_reports/_set_report_permission.html.erb (157.4ms)
  Rendered temporary_reports/set_report_permission.js.erb (167.7ms)
Completed 200 OK in 295ms (Views: 65.8ms | ActiveRecord: 216.0ms)


Started GET "/temporary_reports/composite_report?id=14" for ::1 at 2017-07-21 15:07:51 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"14"}
  [1m[36mEmployee Load (30.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (65.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (3.5ms)
  Rendered temporary_reports/composite_report.js.erb (12.9ms)
Completed 200 OK in 142ms (Views: 32.6ms | ActiveRecord: 96.0ms)


Started GET "/temporary_reports/composite_report?id=16" for ::1 at 2017-07-21 15:10:22 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"16"}
  [1m[36mEmployee Load (30.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (65.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (3.0ms)
  Rendered temporary_reports/composite_report.js.erb (11.3ms)
Completed 200 OK in 138ms (Views: 31.1ms | ActiveRecord: 96.5ms)


Started GET "/temporary_reports/new" for ::1 at 2017-07-21 15:10:53 +0800
Processing by TemporaryReportsController#new as JS
  [1m[36mEmployee Load (30.7ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/new.js.erb
  Rendered temporary_reports/_new.html.erb (10.3ms)
  Rendered temporary_reports/new.js.erb (18.6ms)
Completed 200 OK in 79ms (Views: 38.5ms | ActiveRecord: 30.7ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE `employees` (`id` int AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL COMMENT 'email', `encrypted_password` varchar(255) DEFAULT '' NOT NULL COMMENT 'ÂØÜÁ†Å', `parent_id` int DEFAULT 0 COMMENT '‰∏äÁ∫ßID', `created_at` datetime NOT NULL COMMENT 'ÂàõÂª∫Êó•Êúü', `updated_at` datetime NOT NULL COMMENT '‰øÆÊîπÊó•Êúü', `name` varchar(20) COMMENT 'ÂêçÂ≠ó', `department_id` int DEFAULT 0 NOT NULL COMMENT 'ÈÉ®Èó®ID', `position_id` int DEFAULT 0 NOT NULL COMMENT 'ËÅå‰ΩçÔºö 0:ÂÖ∂ÂÆÉ 6:Ë¥¢Âä° 7:‰∫ßÂìÅÁªèÁêÜ....', `position_level` int DEFAULT 0 NOT NULL COMMENT 'Ë°åÊîøÁ∫ßÂà´ 0:ÂëòÂ∑• 1:‰∏ªÁÆ° 2:ÁªèÁêÜ 3:ÊÄªÁõë', `job_status` int DEFAULT 1 NOT NULL COMMENT 'Âú®ËÅåÁä∂ÊÄÅ, 1:Âú®ËÅå, -1:Á¶ªËÅå', `weight` float(24) DEFAULT 1.0 NOT NULL COMMENT 'ÊùÉÈáç', `joined_on` date COMMENT 'ÂÖ•ËÅåÊó•Êúü', `gender` int COMMENT 'ÊÄßÂà´ 0:Áî∑ 1:Â•≥', `mobile` varchar(30) COMMENT 'ÊâãÊú∫', `qq` varchar(30) COMMENT 'QQ', `office_tel` varchar(30) COMMENT 'ÂÖ¨Âè∏ÁîµËØù', `dob` date COMMENT 'ÁîüÊó•', `remember_created_at` datetime COMMENT 'ËÆ∞‰ΩèÂàõÂª∫Êó•Êúü', `deputy_department_id` int DEFAULT 0 COMMENT 'ÂâØÈÉ®Èó®', `avatar` varchar(100) COMMENT 'ÂëòÂ∑•Â§¥ÂÉè', `assign_count` int DEFAULT 0 COMMENT 'ÂàÜÈÖçÁÇπÊï∞', `handover_id` int DEFAULT 0 COMMENT '‰∫§Êé•‰∫∫', UNIQUE INDEX `index_employees_on_email` USING btree (`email`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT 'ÂëòÂ∑•Ë°®'[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE `roles` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) COMMENT 'ËßíËâ≤ÂêçÁß∞', `name_cn` varchar(255) COMMENT '‰∏≠ÊñáÂêç', `created_at` datetime COMMENT 'ÂàõÂª∫Êó•Êúü', `updated_at` datetime COMMENT '‰øÆÊîπÊó•Êúü',  INDEX `index_roles_on_name` USING btree (`name`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT 'ËßíËâ≤Ë°®'[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE `temporary_charts` (`id` int AUTO_INCREMENT PRIMARY KEY, `temporary_report_id` int COMMENT 'ÂÖ≥ËÅîÁöÑÊä•Ë°®', `tab_x_axis` varchar(255) COMMENT 'xËΩ¥tab', `y_axis` varchar(255) COMMENT 'yËΩ¥Êï∞ÊçÆ', `chart_data` text COMMENT 'ÂõæË°®Êï∞ÊçÆÂÆö‰πâ(ÂèñÂÖ≥ËÅîÊä•Ë°®Êï∞ÊçÆÊ∫êÊàñÈáçÂÆö‰πâsqlÊï∞ÊçÆÊ∫ê)', `note` varchar(255) COMMENT 'Â§áÊ≥®', `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE `temporary_reports` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) COMMENT 'ÂêçÁß∞ÊèèËø∞', `base_sql` text COMMENT 'sqlËÑöÊú¨', `note` text COMMENT 'Êä•Ë°®ÈúÄÊ±ÇÊèèËø∞', `columns` text COMMENT 'Êä•Ë°®Â≠óÊÆµ', `head_html` text COMMENT 'ÊêúÁ¥¢html', `created_at` datetime NOT NULL COMMENT 'ÂàõÂª∫Êó∂Èó¥', `updated_at` datetime NOT NULL COMMENT '‰øÆÊîπÊó∂Èó¥', `active` int DEFAULT 1 COMMENT 'ÊòØÂê¶ÊúâÊïà,0:Êó†Êïà, 1:ÊúâÊïà, -1:Âà†Èô§', `roles` varchar(255) COMMENT 'Áõ∏ÂÖ≥ÁöÑËßíËâ≤ÊùÉÈôê', `parent_id` int DEFAULT 0 COMMENT 'nÁà∂Â≠êÂÖ≥Á≥ªÔºå-1ÂΩìÂâç‰∏∫Áà∂Êä•Ë°®ÔºåoÈªòËÆ§ÂÄº', `report_type` int DEFAULT 0 COMMENT 'Êä•Ë°®Á±ªÂûãÔºå0ÊôÆÈÄöÊä•Ë°®Ôºå1ÂÖ≥ËÅîÊä•Ë°® ,2ÂêàÊàêÊä•Ë°®', `composite_sentence` text COMMENT 'ÂêàÂπ∂Êä•Ë°®ÊèèËø∞dsl', `jump_links` varchar(512) COMMENT 'Êî•ÂèñÈìæÊé•ËÆæÁΩÆ') ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT '‰∏¥Êó∂Êä•Ë°®'[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE `employees_temporary_reports` (`employee_id` int, `temporary_report_id` int,  INDEX `temporary_reports_employees_index` USING btree (`employee_id`, `temporary_report_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `employees` (`email`, `encrypted_password`, `created_at`, `updated_at`, `name`) VALUES ('107422244@qq.com', '$2a$10$LRxk3PVOlErnBsnVBOKzX.yvKttszleDa46ATezyOTefe3sii.ACu', '2017-07-21 15:29:10', '2017-07-21 15:29:10', 'jamst')[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 15:31:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 46ms (ActiveRecord: 1.4ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:31:04 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (4.7ms)
Completed 500 Internal Server Error in 1206ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    4:   <a href="/admin" data-toggle="slide" class="item"><h3>Pre-report</h3></a>
    5:   <div class="right menu ">
    6:     <!-- Â§¥ÂÉè -->
    7:     <div class="item"><span><%= current_employee.name %></span></div>
    8:     <a class="icon item pointer" data-toggle="popup" data-content="#user" data-position="bottom right">
    9:       <%= image_tag 'male.jpg', class: 'ui avatar image' %>
   10:     </a>
  
app/views/shared/admin/_top_bar.html.erb:7:in `_app_views_shared_admin__top_bar_html_erb___3605033625077460365_70331283333640'
app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb___2384470095731307235_70331181377940'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.5ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:32:14 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (1.3ms)
  Rendered shared/admin/_top_bar.html.erb (3.5ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 116ms (Views: 114.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:36:40 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (30.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 52.0ms | ActiveRecord: 1.1ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:37:13 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:37:31 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:37:33 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 29ms (Views: 28.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:37:34 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (8.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 30.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:38:07 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (8.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 29.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:38:47 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (12.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 48ms (Views: 33.8ms | ActiveRecord: 1.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:38:48 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within layouts/application
  Rendered admin/sessions/new.html.erb within layouts/application (8.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:06 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:07 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:07 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:12 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:25 +0800
Processing by Admin::SessionsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:42:55 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1144.4ms)
Completed 200 OK in 1168ms (Views: 1149.4ms | ActiveRecord: 1.1ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:43:04 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (102.2ms)
Completed 200 OK in 118ms (Views: 103.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:44:15 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (9.1ms)
Completed 200 OK in 25ms (Views: 10.7ms | ActiveRecord: 1.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:44:25 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"EyZWugSfCyP7C08kQdn3ij8cRoMlANIkmoFxXEW2lsiu/1T31/i5VX7+4WfBrs+JD+5s6HiG+Cxp0g73YTI+UQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = '2017-07-21 15:44:25', `updated_at` = '2017-07-21 15:44:25' WHERE `employees`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 93ms (ActiveRecord: 1.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:44:25 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 51ms (Views: 25.1ms | ActiveRecord: 1.2ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:44:33 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (5.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 21.9ms | ActiveRecord: 0.5ms)


Started DELETE "/admin/logout" for ::1 at 2017-07-21 15:46:46 +0800
Processing by Admin::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+mekZEUmVN57FFZyHgAPOZSrhdkjML8nEYAJas6iyu+aKqWNMF5tjtA46gdYJmwhFPiD8yzCmqCKOdag0L8C+g=="}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = NULL, `updated_at` = '2017-07-21 15:46:46' WHERE `employees`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:46:46 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:46:46 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.6ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:47:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
Started POST "/admin/login" for ::1 at 2017-07-21 15:47:47 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"Zc/90SvZ2au1eFNZJcCcmcrHoJysNFBDw9hUGUJVnIRQ/lVILTRvqVJgW/CDvBM1g3skIfDfbjag7oYrNXX2ww==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (198.9ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 201ms (ActiveRecord: 198.9ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"Zc/90SvZ2au1eFNZJcCcmcrHoJysNFBDw9hUGUJVnIRQ/lVILTRvqVJgW/CDvBM1g3skIfDfbjag7oYrNXX2ww==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (23.8ms)
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.0ms)


  Rendered admin/sessions/new.html.erb (7617.9ms)
Completed 200 OK in 7620ms (Views: 7619.3ms | ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:73:in `recall'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:39:in `respond'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:21:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/delegator.rb:5:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:143:in `call_failure_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:129:in `process_unauthenticated'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:44:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:38:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___1442296739177517427_70314225568980'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (22.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.7ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:48:02 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.3ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:48:05 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"nijrQJiS3Hxwl1x75I1JGLAimL9caw9OH2Syy/YZT/arGUPZnn9qfpePVNJC8ca0+Z4cAgCAMTt8UmD5gTklsQ==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"nijrQJiS3Hxwl1x75I1JGLAimL9caw9OH2Syy/YZT/arGUPZnn9qfpePVNJC8ca0+Z4cAgCAMTt8UmD5gTklsQ==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (9.1ms)
Completed 200 OK in 72ms (Views: 10.3ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:48:22 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"YYqK/t438EB6m4LHgB8x+ZudPE8INSaY5DC6LCN0dBxUuyJn2NpGQp2Dim4mY75V0iG48lTeGO2HBmgeVFQeWw==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = '2017-07-21 15:48:22', `updated_at` = '2017-07-21 15:48:22' WHERE `employees`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 67ms (ActiveRecord: 2.7ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:48:22 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (5.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:48:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (5.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.5ms)


Started DELETE "/admin/logout" for ::1 at 2017-07-21 15:53:32 +0800
Processing by Admin::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IgauqL+NidMBrLTf7Uqqxu2I5N+81o4nu61P96Juea30gxNx01iLVwuS/6pdJIiSGCUrcOqMUoHIF5gOcRDZsw=="}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = NULL, `updated_at` = '2017-07-21 15:53:32' WHERE `employees`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 6ms (ActiveRecord: 2.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 15:53:32 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:53:32 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1263.4ms)
Completed 500 Internal Server Error in 1265ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___1442296739177517427_70314254863840'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.5ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:53:39 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (19.1ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___1442296739177517427_70314248525440'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.3ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:53:42 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (18.8ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___1442296739177517427_70314250344140'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.8ms)
Started GET "/" for ::1 at 2017-07-21 15:53:50 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:53:50 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (19.0ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___1442296739177517427_70314253878320'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.6ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin/login" for ::1 at 2017-07-21 15:54:12 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (163.0ms)
Completed 500 Internal Server Error in 198ms (ActiveRecord: 3.4ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341599887140'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.2ms)
Started GET "/admin" for ::1 at 2017-07-21 15:54:49 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (12.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (78.6ms)
Started GET "/" for ::1 at 2017-07-21 15:54:53 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:54:53 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (19.1ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341616619860'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.2ms)
Started GET "/" for ::1 at 2017-07-21 15:55:23 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:55:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (17.0ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341594069560'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.2ms)
Started GET "/" for ::1 at 2017-07-21 15:55:23 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:55:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (16.5ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341618081460'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.5ms)
Started GET "/" for ::1 at 2017-07-21 15:55:25 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 15:55:25 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (19.4ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341616252180'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (49.0ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:56:05 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (36.7ms)
Completed 200 OK in 39ms (Views: 37.9ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:56:16 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"/CrTj1g9QHBeVKU9Gpr6HjkjrgBGZnt4NETYdtd+XR5t38YXGptjAHT/0eFRgb6qVqhEqktt9IwJWiUp1jxq1g==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 86ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"/CrTj1g9QHBeVKU9Gpr6HjkjrgBGZnt4NETYdtd+XR5t38YXGptjAHT/0eFRgb6qVqhEqktt9IwJWiUp1jxq1g==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (3.4ms)
Completed 200 OK in 68ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:56:24 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 64ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (3.0ms)
Completed 200 OK in 67ms (Views: 4.2ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:56:32 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 64ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (17.1ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:73:in `recall'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:39:in `respond'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:21:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/delegator.rb:5:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:143:in `call_failure_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:129:in `process_unauthenticated'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:44:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:38:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341616867020'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.4ms)
Started POST "/admin/login" for ::1 at 2017-07-21 15:56:56 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 65ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"2WBcKRdP0osSzKnprtb/LU6SjlfGid8bL8TAT7BylZVIlUmxVenx+zhn3TXlzbuZIRlk/cuCUO8S2j0QsTCiXQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (9479.4ms)
Completed 200 OK in 9545ms (Views: 9481.0ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:57:12 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"mB0FsRRUg04Q7Bqw9v/0qa/drB64OXerJYLZWaW1XHEJ6BApVvKgPjpHbmy95LAdwFZGtLUy+F8YnCQGpPdruQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 63ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"mB0FsRRUg04Q7Bqw9v/0qa/drB64OXerJYLZWaW1XHEJ6BApVvKgPjpHbmy95LAdwFZGtLUy+F8YnCQGpPdruQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (7.3ms)
Completed 200 OK in 80ms (Views: 8.5ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 15:57:18 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"mB0FsRRUg04Q7Bqw9v/0qa/drB64OXerJYLZWaW1XHEJ6BApVvKgPjpHbmy95LAdwFZGtLUy+F8YnCQGpPdruQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 64ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"mB0FsRRUg04Q7Bqw9v/0qa/drB64OXerJYLZWaW1XHEJ6BApVvKgPjpHbmy95LAdwFZGtLUy+F8YnCQGpPdruQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (18.2ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:73:in `recall'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:39:in `respond'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:251:in `block in action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/failure_app.rb:21:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/lib/devise/delegator.rb:5:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:143:in `call_failure_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:129:in `process_unauthenticated'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:44:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:38:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341690632200'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (49.5ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:58:34 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (16.1ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341453939600'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.4ms)
Started GET "/admin/login" for ::1 at 2017-07-21 15:59:05 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (17.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb___3294605195076284801_70341697855260'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.5ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin/login" for ::1 at 2017-07-21 16:10:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (3707.3ms)
Completed 500 Internal Server Error in 3741ms (ActiveRecord: 1.1ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (couldn't find file 'province_city_cascade' with type 'application/javascript'
Checked in these paths: 
  /Users/jamst/workbook/pre-report/app/assets/config
  /Users/jamst/workbook/pre-report/app/assets/images
  /Users/jamst/workbook/pre-report/app/assets/javascripts
  /Users/jamst/workbook/pre-report/app/assets/stylesheets
  /Users/jamst/workbook/pre-report/vendor/assets/javascripts
  /Users/jamst/workbook/pre-report/vendor/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cocoon-1.2.10/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/jquery-rails-4.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actioncable-5.0.4/lib/assets/compiled
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/turbolinks-source-5.0.3/lib/assets/javascripts):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/assets/config/manifest.js:3
app/assets/javascripts/admin/application.js:9
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2915186175940968569_70247793471240'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.8ms)
Started GET "/admin/login" for ::1 at 2017-07-21 16:11:03 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1642.9ms)
Completed 500 Internal Server Error in 1645ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (couldn't find file 'about_us' with type 'application/javascript'
Checked in these paths: 
  /Users/jamst/workbook/pre-report/app/assets/config
  /Users/jamst/workbook/pre-report/app/assets/images
  /Users/jamst/workbook/pre-report/app/assets/javascripts
  /Users/jamst/workbook/pre-report/app/assets/stylesheets
  /Users/jamst/workbook/pre-report/vendor/assets/javascripts
  /Users/jamst/workbook/pre-report/vendor/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cocoon-1.2.10/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/jquery-rails-4.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actioncable-5.0.4/lib/assets/compiled
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/turbolinks-source-5.0.3/lib/assets/javascripts):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/assets/config/manifest.js:4
app/assets/javascripts/application.js:4
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2915186175940968569_70247866964240'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (49.8ms)
Started POST "/__web_console/repl_sessions/d38ba12cc3c6f3b3df12aed63952279c/trace" for ::1 at 2017-07-21 16:12:11 +0800
Started GET "/admin/login" for ::1 at 2017-07-21 16:13:16 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1390.2ms)
Completed 500 Internal Server Error in 1392ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (couldn't find file 'website/js/jquery.min.js' with type 'application/javascript'
Checked in these paths: 
  /Users/jamst/workbook/pre-report/app/assets/config
  /Users/jamst/workbook/pre-report/app/assets/images
  /Users/jamst/workbook/pre-report/app/assets/javascripts
  /Users/jamst/workbook/pre-report/app/assets/stylesheets
  /Users/jamst/workbook/pre-report/vendor/assets/javascripts
  /Users/jamst/workbook/pre-report/vendor/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/config
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/images
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/app/assets/stylesheets
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/cocoon-1.2.10/app/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/jquery-rails-4.3.1/vendor/assets/javascripts
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actioncable-5.0.4/lib/assets/compiled
  /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/turbolinks-source-5.0.3/lib/assets/javascripts):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/assets/config/manifest.js:4
app/assets/javascripts/iou.js:1
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2915186175940968569_70247870776480'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (50.3ms)
Started GET "/admin/login" for ::1 at 2017-07-21 16:14:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1135.1ms)
Completed 500 Internal Server Error in 1137ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2915186175940968569_70247835864500'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.2ms)
Started GET "/admin/login" for ::1 at 2017-07-21 16:15:10 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (1184.5ms)
Completed 500 Internal Server Error in 1187ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2915186175940968569_70247869898340'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.1ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-21 16:15:38 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 16:15:38 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (162.6ms)
Completed 500 Internal Server Error in 185ms (ActiveRecord: 1.1ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2412426609598208013_70352886524840'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.8ms)
Started GET "/" for ::1 at 2017-07-21 16:16:13 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 16:16:13 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (16.4ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__2412426609598208013_70352900187980'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.9ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin" for ::1 at 2017-07-21 16:20:36 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (16.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (92.1ms)
Started GET "/" for ::1 at 2017-07-21 16:20:39 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 16:20:39 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (141.4ms)
Completed 500 Internal Server Error in 173ms (ActiveRecord: 9.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActionView::Template::Error (undefined method `start_with?' for nil:NilClass):
    3: <head>
    4:   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    5:   <title>Pre-report</title>
    6:   <%= stylesheet_link_tag 'admin/application' %>
    7:   <%= javascript_include_tag 'admin/application' %>
    8:   <%= csrf_meta_tags %>
    9: </head>
  
app/views/admin/sessions/new.html.erb:6:in `_app_views_admin_sessions_new_html_erb__1285703942170288405_70238410456100'
app/controllers/admin/sessions_controller.rb:6:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.8ms)
Started GET "/admin/login" for ::1 at 2017-07-21 16:21:04 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (15430.4ms)
Completed 200 OK in 15433ms (Views: 15431.7ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 16:22:15 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"bnA33mwpMxmLeehJ527iE4/LA8TXh/5kAinwWyZS/f3Ju6GJmnlJCEOq9VBg5eU7Pee53SqN1C6SdmMYZ+IvAw==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = '2017-07-21 16:22:15', `updated_at` = '2017-07-21 16:22:15' WHERE `employees`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 98ms (ActiveRecord: 1.8ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 16:22:15 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (1.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (9.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 52ms (Views: 25.9ms | ActiveRecord: 2.6ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 16:25:23 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 165ms (ActiveRecord: 122.3ms)


Started GET "/admin/login" for ::1 at 2017-07-21 16:25:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (802.5ms)
Completed 200 OK in 811ms (Views: 808.7ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 16:25:26 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"SZw5l2OejCHL57kGKitOksWtmXBKJTak9R5nChcIwLQcB6wQ4hOnL3baf16u2NY1RLhV2tjG32gmrYFyfoS+fw==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (27.9ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 100ms (ActiveRecord: 27.9ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 16:25:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (271.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (9.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (390.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 460ms (Views: 42.4ms | ActiveRecord: 393.8ms)


Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 16:25:31 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mEmployee Load (27.8ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (50.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (29.0ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2392.4ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (28.4ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (48.5ms)
  Rendered temporary_reports/report.html.erb within layouts/application (54.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2759ms (Views: 70.6ms | ActiveRecord: 2638.3ms)


Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 16:25:37 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mEmployee Load (30.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (61.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (27.5ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (850.3ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id
) g ON tt.id = g.id[0m
  [1m[36mTemporaryChart Load (46.0ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 14[0m
  [1m[35m (246.9ms)[0m  [1m[34mSELECT 
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM
warehouses w  
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%' ) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date
) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date) b
ON tt.id = b.warehouse_id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and od.amount !=0 
GROUP BY f_date
) c 
ON tt.id = c.warehouse_id and a.f_date = c.f_date

LEFT JOIN 

(SELECT 
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) a WHERE a.id = c.warehouse_id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d')) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32' 
GROUP BY f_date
) wx ON wx.warehouse_id = tt.id and a.f_date = wx.f_date

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date , c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY f_date
) wc ON wc.warehouse_id = tt.id and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32' 
  GROUP BY f_date
) g ON tt.id = g.warehouse_id and a.f_date = g.f_date

order by show_data [0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (2.0ms)
  Rendered temporary_reports/report.html.erb within layouts/application (20.4ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1311ms (Views: 36.6ms | ActiveRecord: 1262.5ms)


Started GET "/temporary_reports/report?id=16&report_params%5Bcompany_name%5D=%E6%AD%A6%E6%B1%89%E8%8D%AF%E6%98%8E%E5%BA%B7%E5%BE%B7%E6%96%B0%E8%8D%AF%E5%BC%80%E5%8F%91%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 16:25:49 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"16", "report_params"=>{"company_name"=>"Ê≠¶Ê±âËçØÊòéÂ∫∑Âæ∑Êñ∞ËçØÂºÄÂèëÊúâÈôêÂÖ¨Âè∏", "end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (54.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 16 LIMIT 1[0m
  [1m[36mReportCondition Load (27.7ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 16[0m
  [1m[35m (6060.9ms)[0m  [1m[34mSELECT
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
IF(a.ËØ¢ÁõòÊï∞ is not null,a.ËØ¢ÁõòÊï∞,0),
IF(b.Êä•‰ª∑Êï∞ is not null,b.Êä•‰ª∑Êï∞,0),
IF(c.‰∏ãÂçïÊï∞ is not null,c.‰∏ãÂçïÊï∞,0),
IF(c.casÊï∞Èáè is not null,c.casÊï∞Èáè,0),
IF(c.ÈááË¥≠È¢ù is not null,c.ÈááË¥≠È¢ù,0),
IF(c.ÊØõÂà© is not null,c.ÊØõÂà©,0),
IF(c.ÊØõÂà©Áéá is not null,c.ÊØõÂà©Áéá,0),c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id,
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id

) tt

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
WHERE i.created_at >=    '2017-07-13 10:29:59'   AND i.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) a ON tt.id= a.id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN inquiries i
    ON i.`user_id` = u.`id`
  LEFT JOIN quotation_details qd
    ON qd.inquiry_id = i.`id`
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) b
ON tt.id = b.id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount
            ELSE 0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 /
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u
    ON c.id = u.`company_id`
  LEFT JOIN order_details od
    ON od.user_id = u.id
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date) c
ON tt.id = c.id  and a.f_date = c.f_date

LEFT JOIN

(SELECT
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN
companies c
ON c.id = u.company_id
WHERE iv.created_at >=    '2017-07-13 10:29:59'   AND iv.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date) a WHERE a.id = c.id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d') ) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=    '2017-07-13 10:29:59'   AND od.created_at <   '2017-07-14 10:29:59'   and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY f_date
) wx ON wx.id = tt.id  and a.f_date = wx.f_date

LEFT JOIN

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date, c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id`
 and vp.`created_at` >=    '2017-07-13 10:29:59'   AND vp.`created_at` <   '2017-07-14 10:29:59' 
GROUP BY f_date
) wc ON wc.id = tt.id  and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏'
FROM
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=    '2017-07-13 10:29:59'   AND qd.created_at <   '2017-07-14 10:29:59' 
GROUP BY f_date
) g ON tt.id = g.id  and a.f_date = g.f_date

order by show_data [0m
  [1m[36mTemporaryChart Load (27.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 16[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (2.6ms)
  Rendered temporary_reports/report.html.erb within layouts/application (49.3ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 6275ms (Views: 65.9ms | ActiveRecord: 6198.3ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 16:25:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (280.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (9.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (295.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 343ms (Views: 33.0ms | ActiveRecord: 307.8ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 16:32:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (27.8ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (272.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [12 times] (12.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (399.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1351ms (Views: 846.4ms | ActiveRecord: 442.0ms)


Started GET "/temporary_reports/report?id=15" for ::1 at 2017-07-21 16:32:42 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15"}
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (48.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (29.7ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (2436.6ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-12 15:08:57'  AND i.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-12 15:08:57'  AND iv.created_at <  '2017-07-13 15:08:57' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-12 15:08:57'  AND od.created_at <  '2017-07-13 15:08:57' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-12 15:08:57'  AND vp.`created_at` <  '2017-07-13 15:08:57' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-12 15:08:57'  AND qd.created_at <  '2017-07-13 15:08:57' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (26.9ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 15[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (5.5ms)
  Rendered temporary_reports/report.html.erb within layouts/application (10.1ms)
  Rendered shared/admin/_top_bar.html.erb (0.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2747ms (Views: 26.4ms | ActiveRecord: 2682.2ms)


Started GET "/temporary_reports/report?id=15&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&xls=true" for ::1 at 2017-07-21 16:32:48 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"15", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57"}, "xls"=>"true"}
  [1m[36mEmployee Load (27.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (50.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 15 LIMIT 1[0m
  [1m[36mReportCondition Load (27.5ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 15[0m
  [1m[35m (30.0ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=  AND iv.created_at < 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at < 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=  AND vp.`created_at` < 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=  AND qd.created_at < 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
Completed 500 Internal Server Error in 142ms (ActiveRecord: 135.4ms)


  [1m[35m (27.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (54.8ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=15&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&xls=true', 'TemporaryReportsController', 'report', '---\nid: \'15\'\nreport_params:\n  end_time: \'2017-07-13 15:08:57\'\n  start_time: \'2017-07-12 15:08:57\'\nxls: \'true\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=15\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: cFh2cDRGRjZNNDBBeGhuRVNxT0NqRFVka2J4L25GRExhNjl2SzR5Y1pHOW5iV1JRRXVIRGRRaUkrbkFjdys1cUI2Uysrbk5ZY3ptR3BlN3lKVmcweUtnQVFDYzRscTdWYlVuOXZaVld0SXN2blVLcy9qNGZPTW05QmJCalRDZVJvTzFqa1BaaVFBdmFtS2hVUHBlS1BoYSt4MUNaU2hONU9EZithMHNZN3huV1lQQ2cwK0hUeHhuWjEyUFBCak90bmxtclIvQXRyaDd4cG9iMlV6S1dFU1FRTmsxMXRwZ1A2L054alBzUXdkbVYvZGJ6ZVRjQnkybUVHYzI0SjQwVXFjN2JBalFNSXl0Z1FIU2psM2hqSyt6TEJmNnZ2bm5sN2NCcis2M2kxems9LS0zWVFpR3k2L3lCMUpyTmNXN3VHRXZnPT0=--52e90d494604b30240a9086b4d4bf9c129ce1731\n', '---\nsession_id: 681d4ee4c5b0a2fa9f10b6381c2605c3\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: FedPEZlti/kzMX2//qpYriSNXIj+oAqvatzHc6crKkY=\n', 'ActiveRecord::StatementInvalid\r\nMysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'AND i.created_at <  \nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\n\nLEFT J\' at line 24: SELECT \ntt.Èó®Â∫óÂêç,\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\nFROM (\nSELECT w.id, \nw.name AS \'Èó®Â∫óÂêç\'\nFROM `warehouse_company_addresses` wcd \nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \nGROUP BY id ) tt\n\nLEFT JOIN \n\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\n  c.warehouse_id\nFROM\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \nWHERE i.created_at >=  AND i.created_at <  \nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\n\nLEFT JOIN\n\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\n  c.warehouse_id\nFROM\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \n  LEFT JOIN quotation_details qd \n    ON qd.inquiry_id = i.`id` \nWHERE qd.created_at >=  AND qd.created_at <  \nGROUP BY c.warehouse_id ) b \nON tt.id = b.warehouse_id\n\nLEFT JOIN\n\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\n TRUNCATE(\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n           WHEN  od.detail_status != 7 THEN od.amount\n           ELSE  0\n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END),2) AS \'ÊØõÂà©\',\n  TRUNCATE(\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n            WHEN  od.detail_status != 7 THEN  od.amount     \n            ELSE 0 \n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END)) * 100 / \n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\n           WHEN od.detail_status != 7 THEN od.amount\n           ELSE 0\n  END),2) AS \'ÊØõÂà©Áéá\',\n   c.warehouse_id \nFROM\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN order_details od \n    ON od.user_id = u.id \n  LEFT JOIN employees e\n    ON e.id = c.`trader_id`\nWHERE od.created_at >=  AND od.created_at <   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\nGROUP BY c.warehouse_id ) c\nON tt.id = c.warehouse_id\n\nLEFT JOIN \n\n(SELECT \nc.name_cn,\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \ncompanies c \nON c.id = u.company_id \nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\nWHERE iv.created_at >=  AND iv.created_at < \nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\nc.warehouse_id\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\n LEFT JOIN users u ON u.company_id = c.id \n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\nWHERE od.created_at >=  AND od.created_at < \nGROUP BY c.warehouse_id\n) wx ON wx.warehouse_id = tt.id\n\nLEFT JOIN \n\n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\nWHERE vp.`created_at` >=  AND vp.`created_at` < \nGROUP BY w.`id`\n) wc ON wc.warehouse_id = tt.id\n\nLEFT JOIN\n\n(SELECT c.warehouse_id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\n  WHERE qd.created_at >=  AND qd.created_at < \n  GROUP BY c.warehouse_id\n) g ON tt.id = g.warehouse_id', 'ActiveRecord::StatementInvalid', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:11:in `execute_sql\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:6:in `initialize\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:248:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:248:in `to_xls\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:129:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 16:32:49', '2017-07-21 16:32:49')[0m
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AND i.created_at <  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT J' at line 24: SELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=  AND iv.created_at < 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at < 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=  AND vp.`created_at` < 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=  AND qd.created_at < 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:248:in `new'
app/controllers/temporary_reports_controller.rb:248:in `to_xls'
app/controllers/temporary_reports_controller.rb:129:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.8ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97" for ::1 at 2017-07-21 16:33:13 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-13 15:08:57", "start_time"=>"2017-07-12 15:08:57", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}}
  [1m[36mEmployee Load (64.7ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (64.8ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (30.6ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (683.0ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id
) g ON tt.id = g.id[0m
  [1m[36mTemporaryChart Load (49.5ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 14[0m
  [1m[35m (227.0ms)[0m  [1m[34mSELECT 
IF(a.f_date is not null,a.f_date,NULL) as show_data ,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM
warehouses w  
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(i.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%' ) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date
) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY f_date) b
ON tt.id = b.warehouse_id and a.f_date = b.f_date

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and od.amount !=0 
GROUP BY f_date
) c 
ON tt.id = c.warehouse_id and a.f_date = c.f_date

LEFT JOIN 

(SELECT 
c.name_cn,
DATE_FORMAT(od.created_at,'%Y-%m-%d') f_date,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num',DATE_FORMAT(iv.created_at,'%Y-%m-%d') f_date FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
) a WHERE a.id = c.warehouse_id and a.f_date = DATE_FORMAT(od.created_at,'%Y-%m-%d')) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32' 
GROUP BY f_date
) wx ON wx.warehouse_id = tt.id and a.f_date = wx.f_date

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè',DATE_FORMAT(vp.created_at,'%Y-%m-%d') f_date , c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  and w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY f_date
) wc ON wc.warehouse_id = tt.id and a.f_date = wc.f_date

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',DATE_FORMAT(qd.created_at,'%Y-%m-%d') f_date,c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%') c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32' 
  GROUP BY f_date
) g ON tt.id = g.warehouse_id and a.f_date = g.f_date

order by show_data [0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.8ms)
  Rendered temporary_reports/report.html.erb within layouts/application (18.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 1167ms (Views: 34.9ms | ActiveRecord: 1119.6ms)


Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true" for ::1 at 2017-07-21 16:33:17 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}, "xls"=>"true"}
  [1m[36mEmployee Load (27.8ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (60.9ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (28.5ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (30.2ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id[0m
Completed 500 Internal Server Error in 154ms (ActiveRecord: 147.4ms)


  [1m[35m (25.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (34.0ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-12 14:34:32\'\n  start_time: \'2017-07-11 14:34:32\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\nxls: \'true\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZVA0Y1EzTGZWV2ljNVltUUFKcTRmTXNzN3ZWWlRJQ2poYVNFZTQrSFlZcHVzQ2d3SlNSMDNDWXJLREVJU1RDMVFtUkdWZTRoSks0YW1KcElIc2dOQzJiWFUrODY0ZGl6dVREK0R1RnFMa2JpYkxsMmNrdU96RlBhTTQ2MitxTy81dTRvR0dPYkVjS1hBSVNaWDZNM0ErcUE0dXRML0UwTi81UTVjSFZoaVBqcGNHVWVCTmdPejJIeERxRlN4TzFXMVVJYjBQQmg3T0hZdmh1TTBlMUhpSjF1UStmb3JpM2VIdzkwZ2gvdVpHZ0kydkxHeW1SLzJZMWU2SUhUcVJUZC9ybEFqdnNwMzFaZlhCWjBiN1FtMGhRKzJ1WWFlWEtma3NGZUNYSnZZckk9LS1pdGJLYUI1R0dRYldFZ0o0SmpkYThRPT0=--5c820fd75378e1c8c1508c5f911ffa72a9487be9\n', '---\nsession_id: 681d4ee4c5b0a2fa9f10b6381c2605c3\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: FedPEZlti/kzMX2//qpYriSNXIj+oAqvatzHc6crKkY=\n', 'ActiveRecord::StatementInvalid\r\nMysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn\' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,\ntt.Èó®Â∫óÂêç,\ntt.È¢ëÊ¨°,\ntt.ÂÖ¨Âè∏Á±ªÂûã,\ntt.name AS \'ÊíÆÂêà\',\nREPLACE(REPLACE(tt.address,\'\n\',\'\'),\'\r\',\'\') AS \'ÂÆ¢Êà∑Âú∞ÂùÄ\',\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\nFROM (\nSELECT c.id, \nw.name AS \'Èó®Â∫óÂêç\',\nc.name_cn AS \'ÂÖ¨Âè∏ÂêçÁß∞\',\nad.address,\nCASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n     WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n     WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\nEND AS \'È¢ëÊ¨°\',\nCASE WHEN c.company_type = 0 THEN \'Êú™ÂàÜÁ±ª\'\n       WHEN c.company_type = 1 THEN \'Â∞èÂûãÂÆûÈ™åÂÆ§\'\n       WHEN c.company_type = 2 THEN \'Á≤æÁªÜÂåñÂ∑•ÂéÇ\'\n       WHEN c.company_type = 3 THEN \'È´òÊ†°Á†îÂèëÊú∫ÊûÑ\'\n       WHEN c.company_type = 4 THEN \'ÂìÅÁâåËØïÂâÇÂïÜ\'\n       WHEN c.company_type = 5 THEN \'CRO\'\n       WHEN c.company_type = 6 THEN \'CMO\'\n       WHEN c.company_type = 7 THEN \'Ë¥∏ÊòìÂÖ¨Âè∏\'\n       WHEN c.company_type = 8 THEN \'ÂÖ∂‰ªñ\'\nEND AS \'ÂÖ¨Âè∏Á±ªÂûã\',\ne.name\nFROM `warehouse_company_addresses` wcd \nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \nLEFT JOIN addresses ad ON ad.id = wcd.address_id\nLEFT JOIN employees e ON e.id = c.trader_id\nWHERE w.`name` like \nGROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\n  CASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n       WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n       WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\n  END AS \'È¢ëÊ¨°\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \nWHERE i.created_at >=  AND i.created_at <   \nGROUP BY c.name_cn) a ON tt.id= a.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \n  LEFT JOIN quotation_details qd \n    ON qd.inquiry_id = i.`id` \nWHERE qd.created_at >=  AND qd.created_at <   \nGROUP BY c.name_cn) b \nON tt.id = b.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\n TRUNCATE(\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n           WHEN  od.detail_status != 7 THEN od.amount\n           ELSE  0\n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END),2) AS \'ÊØõÂà©\',\n  TRUNCATE(\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n            WHEN  od.detail_status != 7 THEN  od.amount     \n            ELSE 0 \n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END)) * 100 / \n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\n           WHEN od.detail_status != 7 THEN od.amount\n           ELSE 0\n  END),2) AS \'ÊØõÂà©Áéá\',\n  (CASE WHEN c.payment_type = 1 THEN \'Ê¨æÂà∞ÂèëË¥ß\'\n        WHEN c.payment_type = 2 THEN \'Ë¥ßÂà∞‰ªòÊ¨æ\'\n        WHEN c.payment_type = 3 THEN \'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ\'\n        WHEN c.payment_type = 4 THEN \'È¢ÑÂ≠òÊ¨æ\'\n        WHEN c.payment_type = 5 THEN \'ÊúàÁªì30Â§©\'\n        WHEN c.payment_type = 6 THEN \'ÊúàÁªì15Â§©\'\n   END) AS \'ÈááË¥≠‰ªòÊ¨æÊñπÂºè\',\n   c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN order_details od \n    ON od.user_id = u.id \n  LEFT JOIN employees e\n    ON e.id = c.`trader_id`\nWHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  \nGROUP BY c.name_cn) c\nON tt.id = c.id\nLEFT JOIN (\nSELECT \nc.name_cn,\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\n(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \ncompanies c \nON c.id = u.company_id \nWHERE iv.created_at >=  AND iv.created_at <  \nGROUP BY c.id) a WHERE a.id = c.id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\nc.id\n FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n LEFT JOIN users u ON u.company_id = c.id \n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\nWHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\nGROUP BY c.id\n) wx ON wx.id = tt.id\nLEFT JOIN \n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \nWHERE vp.`created_at` >=  AND vp.`created_at` <  \nGROUP BY c.`id`\n) wc ON wc.id = tt.id\nLEFT JOIN\n(SELECT c.id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \n(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c \nLEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\nLEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\nWHERE qd.created_at >=  AND qd.created_at <  \nGROUP BY c.id\n) g ON tt.id = g.id', 'ActiveRecord::StatementInvalid', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:11:in `execute_sql\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:6:in `initialize\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:248:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:248:in `to_xls\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:129:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 16:33:17', '2017-07-21 16:33:17')[0m
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:248:in `new'
app/controllers/temporary_reports_controller.rb:248:in `to_xls'
app/controllers/temporary_reports_controller.rb:129:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.8ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true" for ::1 at 2017-07-21 16:39:24 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}, "xls"=>"true"}
  [1m[36mEmployee Load (27.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (55.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (28.5ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (55.1ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id[0m
Completed 500 Internal Server Error in 431ms (ActiveRecord: 380.1ms)


  [1m[35m (26.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (55.9ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-12 14:34:32\'\n  start_time: \'2017-07-11 14:34:32\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\nxls: \'true\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZVA0Y1EzTGZWV2ljNVltUUFKcTRmTXNzN3ZWWlRJQ2poYVNFZTQrSFlZcHVzQ2d3SlNSMDNDWXJLREVJU1RDMVFtUkdWZTRoSks0YW1KcElIc2dOQzJiWFUrODY0ZGl6dVREK0R1RnFMa2JpYkxsMmNrdU96RlBhTTQ2MitxTy81dTRvR0dPYkVjS1hBSVNaWDZNM0ErcUE0dXRML0UwTi81UTVjSFZoaVBqcGNHVWVCTmdPejJIeERxRlN4TzFXMVVJYjBQQmg3T0hZdmh1TTBlMUhpSjF1UStmb3JpM2VIdzkwZ2gvdVpHZ0kydkxHeW1SLzJZMWU2SUhUcVJUZC9ybEFqdnNwMzFaZlhCWjBiN1FtMGhRKzJ1WWFlWEtma3NGZUNYSnZZckk9LS1pdGJLYUI1R0dRYldFZ0o0SmpkYThRPT0=--5c820fd75378e1c8c1508c5f911ffa72a9487be9\n', '---\nsession_id: 681d4ee4c5b0a2fa9f10b6381c2605c3\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: FedPEZlti/kzMX2//qpYriSNXIj+oAqvatzHc6crKkY=\n', 'ActiveRecord::StatementInvalid\r\nMysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn\' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,\ntt.Èó®Â∫óÂêç,\ntt.È¢ëÊ¨°,\ntt.ÂÖ¨Âè∏Á±ªÂûã,\ntt.name AS \'ÊíÆÂêà\',\nREPLACE(REPLACE(tt.address,\'\n\',\'\'),\'\r\',\'\') AS \'ÂÆ¢Êà∑Âú∞ÂùÄ\',\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\nFROM (\nSELECT c.id, \nw.name AS \'Èó®Â∫óÂêç\',\nc.name_cn AS \'ÂÖ¨Âè∏ÂêçÁß∞\',\nad.address,\nCASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n     WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n     WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\nEND AS \'È¢ëÊ¨°\',\nCASE WHEN c.company_type = 0 THEN \'Êú™ÂàÜÁ±ª\'\n       WHEN c.company_type = 1 THEN \'Â∞èÂûãÂÆûÈ™åÂÆ§\'\n       WHEN c.company_type = 2 THEN \'Á≤æÁªÜÂåñÂ∑•ÂéÇ\'\n       WHEN c.company_type = 3 THEN \'È´òÊ†°Á†îÂèëÊú∫ÊûÑ\'\n       WHEN c.company_type = 4 THEN \'ÂìÅÁâåËØïÂâÇÂïÜ\'\n       WHEN c.company_type = 5 THEN \'CRO\'\n       WHEN c.company_type = 6 THEN \'CMO\'\n       WHEN c.company_type = 7 THEN \'Ë¥∏ÊòìÂÖ¨Âè∏\'\n       WHEN c.company_type = 8 THEN \'ÂÖ∂‰ªñ\'\nEND AS \'ÂÖ¨Âè∏Á±ªÂûã\',\ne.name\nFROM `warehouse_company_addresses` wcd \nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \nLEFT JOIN addresses ad ON ad.id = wcd.address_id\nLEFT JOIN employees e ON e.id = c.trader_id\nWHERE w.`name` like \nGROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\n  CASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n       WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n       WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\n  END AS \'È¢ëÊ¨°\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \nWHERE i.created_at >=  AND i.created_at <   \nGROUP BY c.name_cn) a ON tt.id= a.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \n  LEFT JOIN quotation_details qd \n    ON qd.inquiry_id = i.`id` \nWHERE qd.created_at >=  AND qd.created_at <   \nGROUP BY c.name_cn) b \nON tt.id = b.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\n TRUNCATE(\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n           WHEN  od.detail_status != 7 THEN od.amount\n           ELSE  0\n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END),2) AS \'ÊØõÂà©\',\n  TRUNCATE(\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n            WHEN  od.detail_status != 7 THEN  od.amount     \n            ELSE 0 \n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END)) * 100 / \n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\n           WHEN od.detail_status != 7 THEN od.amount\n           ELSE 0\n  END),2) AS \'ÊØõÂà©Áéá\',\n  (CASE WHEN c.payment_type = 1 THEN \'Ê¨æÂà∞ÂèëË¥ß\'\n        WHEN c.payment_type = 2 THEN \'Ë¥ßÂà∞‰ªòÊ¨æ\'\n        WHEN c.payment_type = 3 THEN \'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ\'\n        WHEN c.payment_type = 4 THEN \'È¢ÑÂ≠òÊ¨æ\'\n        WHEN c.payment_type = 5 THEN \'ÊúàÁªì30Â§©\'\n        WHEN c.payment_type = 6 THEN \'ÊúàÁªì15Â§©\'\n   END) AS \'ÈááË¥≠‰ªòÊ¨æÊñπÂºè\',\n   c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN order_details od \n    ON od.user_id = u.id \n  LEFT JOIN employees e\n    ON e.id = c.`trader_id`\nWHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  \nGROUP BY c.name_cn) c\nON tt.id = c.id\nLEFT JOIN (\nSELECT \nc.name_cn,\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\n(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \ncompanies c \nON c.id = u.company_id \nWHERE iv.created_at >=  AND iv.created_at <  \nGROUP BY c.id) a WHERE a.id = c.id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\nc.id\n FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n LEFT JOIN users u ON u.company_id = c.id \n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\nWHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\nGROUP BY c.id\n) wx ON wx.id = tt.id\nLEFT JOIN \n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \nWHERE vp.`created_at` >=  AND vp.`created_at` <  \nGROUP BY c.`id`\n) wc ON wc.id = tt.id\nLEFT JOIN\n(SELECT c.id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \n(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c \nLEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\nLEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\nWHERE qd.created_at >=  AND qd.created_at <  \nGROUP BY c.id\n) g ON tt.id = g.id', 'ActiveRecord::StatementInvalid', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:11:in `execute_sql\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:6:in `initialize\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:249:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:249:in `to_xls\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:130:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 16:39:25', '2017-07-21 16:39:25')[0m
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:249:in `new'
app/controllers/temporary_reports_controller.rb:249:in `to_xls'
app/controllers/temporary_reports_controller.rb:130:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.3ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true" for ::1 at 2017-07-21 16:40:00 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}, "xls"=>"true"}
  [1m[36mEmployee Load (27.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (62.0ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (27.6ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (28.5ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id[0m
Completed 500 Internal Server Error in 194ms (ActiveRecord: 145.7ms)


  [1m[35m (25.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (34.1ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-12 14:34:32\'\n  start_time: \'2017-07-11 14:34:32\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\nxls: \'true\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZVA0Y1EzTGZWV2ljNVltUUFKcTRmTXNzN3ZWWlRJQ2poYVNFZTQrSFlZcHVzQ2d3SlNSMDNDWXJLREVJU1RDMVFtUkdWZTRoSks0YW1KcElIc2dOQzJiWFUrODY0ZGl6dVREK0R1RnFMa2JpYkxsMmNrdU96RlBhTTQ2MitxTy81dTRvR0dPYkVjS1hBSVNaWDZNM0ErcUE0dXRML0UwTi81UTVjSFZoaVBqcGNHVWVCTmdPejJIeERxRlN4TzFXMVVJYjBQQmg3T0hZdmh1TTBlMUhpSjF1UStmb3JpM2VIdzkwZ2gvdVpHZ0kydkxHeW1SLzJZMWU2SUhUcVJUZC9ybEFqdnNwMzFaZlhCWjBiN1FtMGhRKzJ1WWFlWEtma3NGZUNYSnZZckk9LS1pdGJLYUI1R0dRYldFZ0o0SmpkYThRPT0=--5c820fd75378e1c8c1508c5f911ffa72a9487be9\n', '---\nsession_id: 681d4ee4c5b0a2fa9f10b6381c2605c3\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: FedPEZlti/kzMX2//qpYriSNXIj+oAqvatzHc6crKkY=\n', 'ActiveRecord::StatementInvalid\r\nMysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn\' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,\ntt.Èó®Â∫óÂêç,\ntt.È¢ëÊ¨°,\ntt.ÂÖ¨Âè∏Á±ªÂûã,\ntt.name AS \'ÊíÆÂêà\',\nREPLACE(REPLACE(tt.address,\'\n\',\'\'),\'\r\',\'\') AS \'ÂÆ¢Êà∑Âú∞ÂùÄ\',\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\nFROM (\nSELECT c.id, \nw.name AS \'Èó®Â∫óÂêç\',\nc.name_cn AS \'ÂÖ¨Âè∏ÂêçÁß∞\',\nad.address,\nCASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n     WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n     WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\nEND AS \'È¢ëÊ¨°\',\nCASE WHEN c.company_type = 0 THEN \'Êú™ÂàÜÁ±ª\'\n       WHEN c.company_type = 1 THEN \'Â∞èÂûãÂÆûÈ™åÂÆ§\'\n       WHEN c.company_type = 2 THEN \'Á≤æÁªÜÂåñÂ∑•ÂéÇ\'\n       WHEN c.company_type = 3 THEN \'È´òÊ†°Á†îÂèëÊú∫ÊûÑ\'\n       WHEN c.company_type = 4 THEN \'ÂìÅÁâåËØïÂâÇÂïÜ\'\n       WHEN c.company_type = 5 THEN \'CRO\'\n       WHEN c.company_type = 6 THEN \'CMO\'\n       WHEN c.company_type = 7 THEN \'Ë¥∏ÊòìÂÖ¨Âè∏\'\n       WHEN c.company_type = 8 THEN \'ÂÖ∂‰ªñ\'\nEND AS \'ÂÖ¨Âè∏Á±ªÂûã\',\ne.name\nFROM `warehouse_company_addresses` wcd \nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \nLEFT JOIN addresses ad ON ad.id = wcd.address_id\nLEFT JOIN employees e ON e.id = c.trader_id\nWHERE w.`name` like \nGROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\n  CASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n       WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n       WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\n  END AS \'È¢ëÊ¨°\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \nWHERE i.created_at >=  AND i.created_at <   \nGROUP BY c.name_cn) a ON tt.id= a.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \n  LEFT JOIN quotation_details qd \n    ON qd.inquiry_id = i.`id` \nWHERE qd.created_at >=  AND qd.created_at <   \nGROUP BY c.name_cn) b \nON tt.id = b.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\n TRUNCATE(\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n           WHEN  od.detail_status != 7 THEN od.amount\n           ELSE  0\n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END),2) AS \'ÊØõÂà©\',\n  TRUNCATE(\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n            WHEN  od.detail_status != 7 THEN  od.amount     \n            ELSE 0 \n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END)) * 100 / \n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\n           WHEN od.detail_status != 7 THEN od.amount\n           ELSE 0\n  END),2) AS \'ÊØõÂà©Áéá\',\n  (CASE WHEN c.payment_type = 1 THEN \'Ê¨æÂà∞ÂèëË¥ß\'\n        WHEN c.payment_type = 2 THEN \'Ë¥ßÂà∞‰ªòÊ¨æ\'\n        WHEN c.payment_type = 3 THEN \'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ\'\n        WHEN c.payment_type = 4 THEN \'È¢ÑÂ≠òÊ¨æ\'\n        WHEN c.payment_type = 5 THEN \'ÊúàÁªì30Â§©\'\n        WHEN c.payment_type = 6 THEN \'ÊúàÁªì15Â§©\'\n   END) AS \'ÈááË¥≠‰ªòÊ¨æÊñπÂºè\',\n   c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN order_details od \n    ON od.user_id = u.id \n  LEFT JOIN employees e\n    ON e.id = c.`trader_id`\nWHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  \nGROUP BY c.name_cn) c\nON tt.id = c.id\nLEFT JOIN (\nSELECT \nc.name_cn,\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\n(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \ncompanies c \nON c.id = u.company_id \nWHERE iv.created_at >=  AND iv.created_at <  \nGROUP BY c.id) a WHERE a.id = c.id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\nc.id\n FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n LEFT JOIN users u ON u.company_id = c.id \n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\nWHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\nGROUP BY c.id\n) wx ON wx.id = tt.id\nLEFT JOIN \n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \nWHERE vp.`created_at` >=  AND vp.`created_at` <  \nGROUP BY c.`id`\n) wc ON wc.id = tt.id\nLEFT JOIN\n(SELECT c.id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \n(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c \nLEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\nLEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\nWHERE qd.created_at >=  AND qd.created_at <  \nGROUP BY c.id\n) g ON tt.id = g.id', 'ActiveRecord::StatementInvalid', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:11:in `execute_sql\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:6:in `initialize\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:250:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:250:in `to_xls\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:131:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 16:40:01', '2017-07-21 16:40:01')[0m
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:250:in `new'
app/controllers/temporary_reports_controller.rb:250:in `to_xls'
app/controllers/temporary_reports_controller.rb:131:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.3ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true" for ::1 at 2017-07-21 16:40:18 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}, "xls"=>"true"}
  [1m[36mEmployee Load (28.0ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (61.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (28.9ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (28.3ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id[0m
Completed 500 Internal Server Error in 194ms (ActiveRecord: 146.9ms)


  [1m[35m (25.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (35.2ms)[0m  [1m[32mINSERT INTO `log_records` (`path`, `controller`, `action`, `params`, `headers`, `cookie`, `session`, `exception`, `exception_object`, `exception_backtrace`, `created_at`, `updated_at`) VALUES ('/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true', 'TemporaryReportsController', 'report', '---\nid: \'14\'\nreport_params:\n  end_time: \'2017-07-12 14:34:32\'\n  start_time: \'2017-07-11 14:34:32\'\n  warehouse_name: Ê≠¶Ê±âÂÖâË∞∑Â∫ó\nxls: \'true\'\n', '---\nACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nACCEPT_ENCODING: gzip, deflate, br\nACCEPT_LANGUAGE: zh-CN,zh;q=0.8,en;q=0.6\nCACHE_CONTROL: max-age=0\nCONNECTION: keep-alive\nHOST: localhost:3000\nREFERER: http://localhost:3000/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-13+15%3A08%3A57&report_params%5Bstart_time%5D=2017-07-12+15%3A08%3A57&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97\nUPGRADE_INSECURE_REQUESTS: \'1\'\nUSER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML,\n  like Gecko) Chrome/59.0.3071.115 Safari/537.36\nVERSION: HTTP/1.1\n', '---\nwhmall_company: ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ\nwhmall_name: È´òÂ∞è‰∫Æ\nwhmall_mobile: \'181018692341\'\nwhmall_email: andy_gxl@163.com_1\nbdshare_firstime: \'1474176454163\'\nHm_lvt_711c53013b077a1624044bd4bbbffd5a: \'1488448477\'\nsmiles: Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N\ntencentSig: \'5699421184\'\n_qddaz: QD.vcxuxo.fz4s41.j2r9wmnm\nbrowse_chemicals_history: 134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016\nAJSTAT_ok_times: \'134\'\nHm_lvt_5d3900485951e0017e83d613935bf20e: \'1498636087\'\n\'1499240310\': \nolfsk: olfsk9170974214851961\nhblid: L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt\n_ga: GA1.1.172382392.1467091557\n_pre-report_session: ZVA0Y1EzTGZWV2ljNVltUUFKcTRmTXNzN3ZWWlRJQ2poYVNFZTQrSFlZcHVzQ2d3SlNSMDNDWXJLREVJU1RDMVFtUkdWZTRoSks0YW1KcElIc2dOQzJiWFUrODY0ZGl6dVREK0R1RnFMa2JpYkxsMmNrdU96RlBhTTQ2MitxTy81dTRvR0dPYkVjS1hBSVNaWDZNM0ErcUE0dXRML0UwTi81UTVjSFZoaVBqcGNHVWVCTmdPejJIeERxRlN4TzFXMVVJYjBQQmg3T0hZdmh1TTBlMUhpSjF1UStmb3JpM2VIdzkwZ2gvdVpHZ0kydkxHeW1SLzJZMWU2SUhUcVJUZC9ybEFqdnNwMzFaZlhCWjBiN1FtMGhRKzJ1WWFlWEtma3NGZUNYSnZZckk9LS1pdGJLYUI1R0dRYldFZ0o0SmpkYThRPT0=--5c820fd75378e1c8c1508c5f911ffa72a9487be9\n', '---\nsession_id: 681d4ee4c5b0a2fa9f10b6381c2605c3\nemployee_return_to: \"/temporary_reports\"\nwarden.user.employee.key:\n- - 1\n- \"$2a$10$LpGIBblKcNrRkapZbzWFHe\"\n_csrf_token: FedPEZlti/kzMX2//qpYriSNXIj+oAqvatzHc6crKkY=\n', 'ActiveRecord::StatementInvalid\r\nMysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn\' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,\ntt.Èó®Â∫óÂêç,\ntt.È¢ëÊ¨°,\ntt.ÂÖ¨Âè∏Á±ªÂûã,\ntt.name AS \'ÊíÆÂêà\',\nREPLACE(REPLACE(tt.address,\'\n\',\'\'),\'\r\',\'\') AS \'ÂÆ¢Êà∑Âú∞ÂùÄ\',\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\nFROM (\nSELECT c.id, \nw.name AS \'Èó®Â∫óÂêç\',\nc.name_cn AS \'ÂÖ¨Âè∏ÂêçÁß∞\',\nad.address,\nCASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n     WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n     WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\nEND AS \'È¢ëÊ¨°\',\nCASE WHEN c.company_type = 0 THEN \'Êú™ÂàÜÁ±ª\'\n       WHEN c.company_type = 1 THEN \'Â∞èÂûãÂÆûÈ™åÂÆ§\'\n       WHEN c.company_type = 2 THEN \'Á≤æÁªÜÂåñÂ∑•ÂéÇ\'\n       WHEN c.company_type = 3 THEN \'È´òÊ†°Á†îÂèëÊú∫ÊûÑ\'\n       WHEN c.company_type = 4 THEN \'ÂìÅÁâåËØïÂâÇÂïÜ\'\n       WHEN c.company_type = 5 THEN \'CRO\'\n       WHEN c.company_type = 6 THEN \'CMO\'\n       WHEN c.company_type = 7 THEN \'Ë¥∏ÊòìÂÖ¨Âè∏\'\n       WHEN c.company_type = 8 THEN \'ÂÖ∂‰ªñ\'\nEND AS \'ÂÖ¨Âè∏Á±ªÂûã\',\ne.name\nFROM `warehouse_company_addresses` wcd \nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \nLEFT JOIN addresses ad ON ad.id = wcd.address_id\nLEFT JOIN employees e ON e.id = c.trader_id\nWHERE w.`name` like \nGROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt\nLEFT JOIN \n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\n  CASE WHEN c.frequency = 1 THEN \'‰ΩéÈ¢ë\'\n       WHEN c.frequency = 2 THEN \'È´òÈ¢ë\'\n       WHEN c.frequency = 0 THEN \'Ë∂Ö‰ΩéÈ¢ë\'\n  END AS \'È¢ëÊ¨°\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \nWHERE i.created_at >=  AND i.created_at <   \nGROUP BY c.name_cn) a ON tt.id= a.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\n  c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN inquiries i \n    ON i.`user_id` = u.`id` \n  LEFT JOIN quotation_details qd \n    ON qd.inquiry_id = i.`id` \nWHERE qd.created_at >=  AND qd.created_at <   \nGROUP BY c.name_cn) b \nON tt.id = b.id\nLEFT JOIN\n(SELECT\n  c.name_cn AS \'ÂÖ¨Âè∏\',\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\n TRUNCATE(\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n           WHEN  od.detail_status != 7 THEN od.amount\n           ELSE  0\n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END),2) AS \'ÊØõÂà©\',\n  TRUNCATE(\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\n            WHEN  od.detail_status != 7 THEN  od.amount     \n            ELSE 0 \n  END)\n  -\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\n           WHEN od.detail_status != 7 THEN od.vendor_amount\n           ELSE  0\n  END)) * 100 / \n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\n           WHEN od.detail_status != 7 THEN od.amount\n           ELSE 0\n  END),2) AS \'ÊØõÂà©Áéá\',\n  (CASE WHEN c.payment_type = 1 THEN \'Ê¨æÂà∞ÂèëË¥ß\'\n        WHEN c.payment_type = 2 THEN \'Ë¥ßÂà∞‰ªòÊ¨æ\'\n        WHEN c.payment_type = 3 THEN \'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ\'\n        WHEN c.payment_type = 4 THEN \'È¢ÑÂ≠òÊ¨æ\'\n        WHEN c.payment_type = 5 THEN \'ÊúàÁªì30Â§©\'\n        WHEN c.payment_type = 6 THEN \'ÊúàÁªì15Â§©\'\n   END) AS \'ÈááË¥≠‰ªòÊ¨æÊñπÂºè\',\n   c.id\nFROM\n  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n  WHERE w.`name` like \n  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n  LEFT JOIN users u \n    ON c.id = u.`company_id` \n  LEFT JOIN order_details od \n    ON od.user_id = u.id \n  LEFT JOIN employees e\n    ON e.id = c.`trader_id`\nWHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  \nGROUP BY c.name_cn) c\nON tt.id = c.id\nLEFT JOIN (\nSELECT \nc.name_cn,\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\n(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \ncompanies c \nON c.id = u.company_id \nWHERE iv.created_at >=  AND iv.created_at <  \nGROUP BY c.id) a WHERE a.id = c.id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\nc.id\n FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c\n LEFT JOIN users u ON u.company_id = c.id \n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\nWHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\nGROUP BY c.id\n) wx ON wx.id = tt.id\nLEFT JOIN \n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \nWHERE vp.`created_at` >=  AND vp.`created_at` <  \nGROUP BY c.`id`\n) wc ON wc.id = tt.id\nLEFT JOIN\n(SELECT c.id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \n(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\n WHERE w.`name` like \n GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c \nLEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\nLEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\nWHERE qd.created_at >=  AND qd.created_at <  \nGROUP BY c.id\n) g ON tt.id = g.id', 'ActiveRecord::StatementInvalid', '/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:11:in `execute_sql\'\r\n/Users/jamst/workbook/pre-report/app/models/execute_report.rb:6:in `initialize\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:250:in `new\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:250:in `to_xls\'\r\n/Users/jamst/workbook/pre-report/app/controllers/temporary_reports_controller.rb:131:in `report\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:188:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rendering.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:20:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:126:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:455:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:101:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/callbacks.rb:19:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/rescue.rb:20:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `block in instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run\'\r\n/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread\'', '2017-07-21 16:40:19', '2017-07-21 16:40:19')[0m
  [1m[35m (26.3ms)[0m  [1m[35mCOMMIT[0m
exception log saved!
  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn' at line 34: SELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like 
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=  AND i.created_at <   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=  AND qd.created_at <   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like 
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=  AND od.created_at <  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=  AND iv.created_at <  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=  AND od.created_at <  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=  AND vp.`created_at` <  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like 
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=  AND qd.created_at <  
GROUP BY c.id
) g ON tt.id = g.id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:250:in `new'
app/controllers/temporary_reports_controller.rb:250:in `to_xls'
app/controllers/temporary_reports_controller.rb:131:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.9ms)
Started GET "/temporary_reports/report?id=14&report_params%5Bend_time%5D=2017-07-12+14%3A34%3A32&report_params%5Bstart_time%5D=2017-07-11+14%3A34%3A32&report_params%5Bwarehouse_name%5D=%E6%AD%A6%E6%B1%89%E5%85%89%E8%B0%B7%E5%BA%97&xls=true" for ::1 at 2017-07-21 16:40:54 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"14", "report_params"=>{"end_time"=>"2017-07-12 14:34:32", "start_time"=>"2017-07-11 14:34:32", "warehouse_name"=>"Ê≠¶Ê±âÂÖâË∞∑Â∫ó"}, "xls"=>"true"}
  [1m[36mEmployee Load (31.1ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (63.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 14 LIMIT 1[0m
  [1m[36mReportCondition Load (27.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 14[0m
  [1m[35m (687.2ms)[0m  [1m[34mSELECT tt.ÂÖ¨Âè∏ÂêçÁß∞,
tt.Èó®Â∫óÂêç,
tt.È¢ëÊ¨°,
tt.ÂÖ¨Âè∏Á±ªÂûã,
tt.name AS 'ÊíÆÂêà',
REPLACE(REPLACE(tt.address,'
',''),'','') AS 'ÂÆ¢Êà∑Âú∞ÂùÄ',
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,c.ÈááË¥≠‰ªòÊ¨æÊñπÂºè,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT c.id, 
w.name AS 'Èó®Â∫óÂêç',
c.name_cn AS 'ÂÖ¨Âè∏ÂêçÁß∞',
ad.address,
CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
     WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
     WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
END AS 'È¢ëÊ¨°',
CASE WHEN c.company_type = 0 THEN 'Êú™ÂàÜÁ±ª'
       WHEN c.company_type = 1 THEN 'Â∞èÂûãÂÆûÈ™åÂÆ§'
       WHEN c.company_type = 2 THEN 'Á≤æÁªÜÂåñÂ∑•ÂéÇ'
       WHEN c.company_type = 3 THEN 'È´òÊ†°Á†îÂèëÊú∫ÊûÑ'
       WHEN c.company_type = 4 THEN 'ÂìÅÁâåËØïÂâÇÂïÜ'
       WHEN c.company_type = 5 THEN 'CRO'
       WHEN c.company_type = 6 THEN 'CMO'
       WHEN c.company_type = 7 THEN 'Ë¥∏ÊòìÂÖ¨Âè∏'
       WHEN c.company_type = 8 THEN 'ÂÖ∂‰ªñ'
END AS 'ÂÖ¨Âè∏Á±ªÂûã',
e.name
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
LEFT JOIN addresses ad ON ad.id = wcd.address_id
LEFT JOIN employees e ON e.id = c.trader_id
WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
GROUP BY wcd.`company_id`,wcd.`warehouse_id` ) tt
LEFT JOIN 
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  CASE WHEN c.frequency = 1 THEN '‰ΩéÈ¢ë'
       WHEN c.frequency = 2 THEN 'È´òÈ¢ë'
       WHEN c.frequency = 0 THEN 'Ë∂Ö‰ΩéÈ¢ë'
  END AS 'È¢ëÊ¨°',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-11 14:34:32'  AND i.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) a ON tt.id= a.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'   
GROUP BY c.name_cn) b 
ON tt.id = b.id
LEFT JOIN
(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
  (CASE WHEN c.payment_type = 1 THEN 'Ê¨æÂà∞ÂèëË¥ß'
        WHEN c.payment_type = 2 THEN 'Ë¥ßÂà∞‰ªòÊ¨æ'
        WHEN c.payment_type = 3 THEN 'Ë¥ßÂà∞30Â§©ÂÜÖ‰ªòÊ¨æ'
        WHEN c.payment_type = 4 THEN 'È¢ÑÂ≠òÊ¨æ'
        WHEN c.payment_type = 5 THEN 'ÊúàÁªì30Â§©'
        WHEN c.payment_type = 6 THEN 'ÊúàÁªì15Â§©'
   END) AS 'ÈááË¥≠‰ªòÊ¨æÊñπÂºè',
   c.id
FROM
  (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
  WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
  GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0  
GROUP BY c.name_cn) c
ON tt.id = c.id
LEFT JOIN (
SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT c.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
WHERE iv.created_at >=   '2017-07-11 14:34:32'  AND iv.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id) a WHERE a.id = c.id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.id
 FROM (SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-11 14:34:32'  AND od.created_at <  '2017-07-12 14:34:32'  and  od.`origin`!=6 and od.detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.id
) wx ON wx.id = tt.id
LEFT JOIN 
(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,c.id FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
WHERE vp.`created_at` >=   '2017-07-11 14:34:32'  AND vp.`created_at` <  '2017-07-12 14:34:32'  
GROUP BY c.`id`
) wc ON wc.id = tt.id
LEFT JOIN
(SELECT c.id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
(SELECT c.* FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
 WHERE w.`name` like  'Ê≠¶Ê±âÂÖâË∞∑Â∫ó%'
 GROUP BY wcd.`company_id`,wcd.`warehouse_id`) c 
LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
WHERE qd.created_at >=   '2017-07-11 14:34:32'  AND qd.created_at <  '2017-07-12 14:34:32'  
GROUP BY c.id
) g ON tt.id = g.id[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data 2017-07-21 16:40:55 +0800.xls (1.8ms)
Completed 200 OK in 875ms (Views: 1.6ms | ActiveRecord: 808.8ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 17:46:49 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 44ms (ActiveRecord: 1.6ms)


Started GET "/admin/login" for ::1 at 2017-07-21 17:46:49 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (805.8ms)
Completed 200 OK in 813ms (Views: 810.4ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 17:47:00 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"LSThQ7lAHKOI27xZHH4eY/dTgFoUHOv1t6b5WtGqENU4w65SIC2XWrvqwebi1EbN097c0uq84Vrdej4pdoE6kw==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 76ms (ActiveRecord: 0.3ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"LSThQ7lAHKOI27xZHH4eY/dTgFoUHOv1t6b5WtGqENU4w65SIC2XWrvqwebi1EbN097c0uq84Vrdej4pdoE6kw==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.6ms)
Completed 200 OK in 77ms (Views: 9.7ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-21 17:47:04 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"TpUfsAjvZWHQpmzBCqmQUIYwQlR8PsnmKX7Gdt2sfNNbclChkYLumOOXEX70A8j+or0e3IKew0lDogEFeodWlQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 71ms (ActiveRecord: 0.3ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 17:47:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (10.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 27.5ms | ActiveRecord: 1.9ms)


Started GET "/temporary_reports/new" for ::1 at 2017-07-21 17:47:08 +0800
Processing by TemporaryReportsController#new as JS
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.1ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActiveRecord::StatementInvalid (Mysql2::Error: Table 'pre-report.report_conditions' doesn't exist: SHOW FULL FIELDS FROM `report_conditions`):
  
app/controllers/temporary_reports_controller.rb:17:in `new'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (46.5ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE `report_conditions` (`id` int AUTO_INCREMENT PRIMARY KEY, `temporary_report_id` int, `name` varchar(255) COMMENT 'Êù°‰ª∂ÂêçÁß∞', `report_key` varchar(255) COMMENT 'Êù°‰ª∂Â≠óÊÆµ', `report_condition` varchar(255) COMMENT 'Êù°‰ª∂ËÑöÊú¨', `view_type` varchar(255) COMMENT 'Êù°‰ª∂Â±ïÁ§∫ÊñπÂºèÔºöselect/‰∏ãÊãâÊ°ÜÔºåtext/ÊñáÊú¨Ê°ÜÔºådata/Êó∂Èó¥Ê°Ü', `view_value` varchar(255) COMMENT 'ÂΩì‰∏∫‰∏ãÊãâÊ°ÜÊó∂ÔºåÊòæÁ§∫ÂÜÖÂÆπ', `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `default_value` varchar(255) COMMENT 'ÈªòËÆ§ÂÄº',  INDEX `index_report_conditions_on_temporary_report_id` USING btree (`temporary_report_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE `employees_roles` (`employee_id` int COMMENT 'ÂëòÂ∑•ID', `role_id` int COMMENT 'ÂëòÂ∑•ÊùÉÈôê',  INDEX `index_employees_roles_on_employee_id_and_role_id` USING btree (`employee_id`, `role_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT 'ÂëòÂ∑•ÊùÉÈôêË°®'[0m
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-21 17:50:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (49.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 913ms (Views: 847.4ms | ActiveRecord: 2.1ms)


Started GET "/temporary_reports/new" for ::1 at 2017-07-21 17:50:16 +0800
Processing by TemporaryReportsController#new as JS
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/new.js.erb
  Rendered temporary_reports/_new.html.erb (14.4ms)
  Rendered temporary_reports/new.js.erb (25.1ms)
Completed 200 OK in 74ms (Views: 49.3ms | ActiveRecord: 1.3ms)


Started POST "/temporary_reports" for ::1 at 2017-07-21 17:51:02 +0800
Processing by TemporaryReportsController#create as JS
  Parameters: {"utf8"=>"‚úì", "temporary_report"=>{"name"=>"Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°", "jump_links"=>"", "columns"=>"Èó®Â∫óÂêç\tËØ¢ÁõòÊï∞\tÊä•‰ª∑Êï∞\t‰∏ãÂçïÊï∞\tcasÊï∞Èáè\tÈááË¥≠È¢ù\tÊØõÂà©\tÊØõÂà©Áéá\tÈîÄÂîÆÈ¢ù\tÈîÄÂîÆÂçïÊï∞\t‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\tÊî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\tÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞", "base_sql"=>"SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS 'Èó®Â∫óÂêç'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= \#{@condition_start_time} AND i.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS 'ÊØõÂà©',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS 'ÊØõÂà©Áéá',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',\r\nCOUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= \#{@condition_start_time} AND iv.created_at < \#{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= \#{@condition_start_time} AND vp.`created_at` < \#{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id", "note"=>"ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°", "head_html"=>"<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>", "report_condition"=>{"0"=>{"name"=>"ÂºÄÂßãÊó∂Èó¥", "report_key"=>"start_time", "report_condition"=>"  '\#{@start_time}' ", "default_value"=>"2017-07-20 17:50:16 +0800"}, "1"=>{"name"=>"ÁªìÊùüÊó∂Èó¥", "report_key"=>"end_time", "report_condition"=>" '\#{@end_time}' ", "default_value"=>"2017-07-21 17:50:16 +0800"}}}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Unpermitted parameters: jump_links, report_condition
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `temporary_reports` (`name`, `base_sql`, `note`, `columns`, `head_html`, `created_at`, `updated_at`) VALUES ('Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°', 'SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS \'Èó®Â∫óÂêç\'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS \'ÂÖ¨Âè∏\',\r\n  COUNT(DISTINCT i.`id`) AS \'ËØ¢ÁõòÊï∞\',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= #{@condition_start_time} AND i.created_at < #{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS \'ÂÖ¨Âè∏\',\r\n  COUNT(qd.id) AS \'Êä•‰ª∑Êï∞\',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= #{@condition_start_time} AND qd.created_at < #{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS \'ÂÖ¨Âè∏\',\r\n  COUNT(DISTINCT od.id) AS \'‰∏ãÂçïÊï∞\',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS \'casÊï∞Èáè\',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS \'ÈááË¥≠È¢ù\',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS \'ÊØõÂà©\',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS \'ÊØõÂà©Áéá\',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= #{@condition_start_time} AND od.created_at < #{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS \'ÈîÄÂîÆÈ¢ù\',\r\nCOUNT(DISTINCT od.id) AS \'ÈîÄÂîÆÂçïÊï∞\',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS \'re_inquiry_num\' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= #{@condition_start_time} AND iv.created_at < #{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS \'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= #{@condition_start_time} AND od.created_at < #{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS \'‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= #{@condition_start_time} AND vp.`created_at` < #{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS \'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\',c.name_cn AS \'ÂÖ¨Âè∏\' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= #{@condition_start_time} AND qd.created_at < #{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id', 'ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°', 'Èó®Â∫óÂêç	ËØ¢ÁõòÊï∞	Êä•‰ª∑Êï∞	‰∏ãÂçïÊï∞	casÊï∞Èáè	ÈááË¥≠È¢ù	ÊØõÂà©	ÊØõÂà©Áéá	ÈîÄÂîÆÈ¢ù	ÈîÄÂîÆÂçïÊï∞	‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè	Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞	ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞', '<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type=\'date\')\" onblur=\"(this.type=\'text\')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type=\'date\')\" onblur=\"(this.type=\'text\')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>', '2017-07-21 17:51:02', '2017-07-21 17:51:02')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `report_conditions` (`temporary_report_id`, `name`, `report_key`, `report_condition`, `created_at`, `updated_at`, `default_value`) VALUES (1, 'ÂºÄÂßãÊó∂Èó¥', 'start_time', '  \'#{@start_time}\' ', '2017-07-21 17:51:02', '2017-07-21 17:51:02', '2017-07-20 17:50:16 +0800')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `report_conditions` (`temporary_report_id`, `name`, `report_key`, `report_condition`, `created_at`, `updated_at`, `default_value`) VALUES (1, 'ÁªìÊùüÊó∂Èó¥', 'end_time', ' \'#{@end_time}\' ', '2017-07-21 17:51:02', '2017-07-21 17:51:02', '2017-07-21 17:50:16 +0800')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/create.js.erb
  Rendered temporary_reports/_list.html.erb (1.7ms)
  Rendered temporary_reports/create.js.erb (10.9ms)
Completed 200 OK in 59ms (Views: 30.4ms | ActiveRecord: 1.5ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:51:05 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.9ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NameError (uninitialized constant ROOT):
  
app/models/from_db.rb:6:in `<top (required)>'
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:148:in `new'
app/controllers/temporary_reports_controller.rb:148:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.3ms)
Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:51:25 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2150.0ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2353ms (Views: 20.5ms | ActiveRecord: 2156.9ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 17:51:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 17:53:14 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 62ms (Views: 32.4ms | ActiveRecord: 2.0ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:53:16 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2160.9ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2334ms (Views: 19.4ms | ActiveRecord: 2162.9ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:54:06 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
Completed 500 Internal Server Error in 51ms (ActiveRecord: 2.8ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActiveRecord::AdapterNotSpecified (database configuration does not specify adapter):
  
app/models/from_db.rb:6:in `<class:FromDB>'
app/models/from_db.rb:1:in `<top (required)>'
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:148:in `new'
app/controllers/temporary_reports_controller.rb:148:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.9ms)
Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:54:20 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
Completed 500 Internal Server Error in 53ms (ActiveRecord: 2.8ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActiveRecord::AdapterNotSpecified (database configuration does not specify adapter):
  
app/models/from_db.rb:6:in `<class:FromDB>'
app/models/from_db.rb:1:in `<top (required)>'
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:148:in `new'
app/controllers/temporary_reports_controller.rb:148:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (43.6ms)
Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:54:50 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
Completed 500 Internal Server Error in 53ms (ActiveRecord: 3.2ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
ActiveRecord::AdapterNotSpecified (database configuration does not specify adapter):
  
app/models/from_db.rb:6:in `<class:FromDB>'
app/models/from_db.rb:1:in `<top (required)>'
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:148:in `new'
app/controllers/temporary_reports_controller.rb:148:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (43.7ms)
Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:56:23 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2192.2ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2424ms (Views: 20.4ms | ActiveRecord: 2195.9ms)


Started GET "/temporary_reports/1/edit" for ::1 at 2017-07-21 17:56:43 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  Rendered temporary_reports/_edit.html.erb (20.3ms)
  Rendered temporary_reports/edit.js.erb (29.5ms)
Completed 200 OK in 94ms (Views: 47.9ms | ActiveRecord: 2.8ms)


Started PUT "/temporary_reports/1" for ::1 at 2017-07-21 17:56:53 +0800
Processing by TemporaryReportsController#update as JS
  Parameters: {"utf8"=>"‚úì", "temporary_report"=>{"name"=>"Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°", "jump_links"=>"{'0'=>'warehouse_name','0_id'=>'14'}", "columns"=>"Èó®Â∫óÂêç\tËØ¢ÁõòÊï∞\tÊä•‰ª∑Êï∞\t‰∏ãÂçïÊï∞\tcasÊï∞Èáè\tÈááË¥≠È¢ù\tÊØõÂà©\tÊØõÂà©Áéá\tÈîÄÂîÆÈ¢ù\tÈîÄÂîÆÂçïÊï∞\t‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\tÊî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\tÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞", "base_sql"=>"SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS 'Èó®Â∫óÂêç'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= \#{@condition_start_time} AND i.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS 'ÊØõÂà©',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS 'ÊØõÂà©Áéá',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',\r\nCOUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= \#{@condition_start_time} AND iv.created_at < \#{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= \#{@condition_start_time} AND vp.`created_at` < \#{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id", "note"=>"ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°", "head_html"=>"<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>", "report_condition"=>{"0"=>{"name"=>"ÂºÄÂßãÊó∂Èó¥", "report_key"=>"start_time", "report_condition"=>"  '\#{@start_time}' ", "default_value"=>"2017-07-20 17:50:16 +0800", "id"=>"1"}, "1"=>{"name"=>"ÁªìÊùüÊó∂Èó¥", "report_key"=>"end_time", "report_condition"=>" '\#{@end_time}' ", "default_value"=>"2017-07-21 17:50:16 +0800", "id"=>"2"}}}, "id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Unpermitted parameters: jump_links, report_condition
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/update.js.erb
  Rendered temporary_reports/_list.html.erb (1.6ms)
  Rendered temporary_reports/update.js.erb (10.1ms)
Completed 200 OK in 45ms (Views: 29.9ms | ActiveRecord: 1.2ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:56:55 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2200.1ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered temporary_reports/report.html.erb within layouts/application (3.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2413ms (Views: 20.9ms | ActiveRecord: 2201.4ms)


Started GET "/temporary_reports/1/edit" for ::1 at 2017-07-21 17:57:11 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  Rendered temporary_reports/_edit.html.erb (12.4ms)
  Rendered temporary_reports/edit.js.erb (20.9ms)
Completed 200 OK in 51ms (Views: 40.3ms | ActiveRecord: 1.0ms)


Started PUT "/temporary_reports/1" for ::1 at 2017-07-21 17:57:17 +0800
Processing by TemporaryReportsController#update as JS
  Parameters: {"utf8"=>"‚úì", "temporary_report"=>{"name"=>"Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°", "jump_links"=>"{'0'=>'warehouse_name','0_id'=>'14'}", "columns"=>"Èó®Â∫óÂêç\tËØ¢ÁõòÊï∞\tÊä•‰ª∑Êï∞\t‰∏ãÂçïÊï∞\tcasÊï∞Èáè\tÈááË¥≠È¢ù\tÊØõÂà©\tÊØõÂà©Áéá\tÈîÄÂîÆÈ¢ù\tÈîÄÂîÆÂçïÊï∞\t‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\tÊî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\tÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞", "base_sql"=>"SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS 'Èó®Â∫óÂêç'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= \#{@condition_start_time} AND i.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS 'ÊØõÂà©',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS 'ÊØõÂà©Áéá',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',\r\nCOUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= \#{@condition_start_time} AND iv.created_at < \#{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= \#{@condition_start_time} AND vp.`created_at` < \#{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id", "note"=>"ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°", "head_html"=>"<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>", "report_condition"=>{"0"=>{"name"=>"ÂºÄÂßãÊó∂Èó¥", "report_key"=>"start_time", "report_condition"=>"  '\#{@start_time}' ", "default_value"=>"2017-07-20 17:50:16 +0800", "id"=>"1"}, "1"=>{"name"=>"ÁªìÊùüÊó∂Èó¥", "report_key"=>"end_time", "report_condition"=>" '\#{@end_time}' ", "default_value"=>"2017-07-21 17:50:16 +0800", "id"=>"2"}}}, "id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Unpermitted parameters: jump_links, report_condition
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/update.js.erb
  Rendered temporary_reports/_list.html.erb (1.7ms)
  Rendered temporary_reports/update.js.erb (9.8ms)
Completed 200 OK in 43ms (Views: 29.4ms | ActiveRecord: 1.0ms)


Started GET "/temporary_reports/chart_report?id=1" for ::1 at 2017-07-21 17:58:22 +0800
Processing by TemporaryReportsController#chart_report as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mTemporaryChart Load (0.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/chart_report.js.erb
  Rendered temporary_reports/_chart_report.html.erb (5.6ms)
  Rendered temporary_reports/chart_report.js.erb (14.4ms)
Completed 200 OK in 53ms (Views: 37.1ms | ActiveRecord: 1.2ms)


Started GET "/temporary_reports/chart_report?id=1" for ::1 at 2017-07-21 17:58:26 +0800
Processing by TemporaryReportsController#chart_report as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/chart_report.js.erb
  Rendered temporary_reports/_chart_report.html.erb (2.4ms)
  Rendered temporary_reports/chart_report.js.erb (13.7ms)
Completed 200 OK in 44ms (Views: 33.0ms | ActiveRecord: 0.7ms)


Started GET "/temporary_reports/chart_report?utf8=%E2%9C%93&temporary_chart%5By_axis%5D=a1%2Ca2%2Ca3%2Ca4%2Ca5%2Ca6%2Ca7&id=1&temporary_chart%5Btemporary_report_id%5D=1&temporary_chart%5Bchart_data%5D=&temporary_chart%5Bnote%5D=%E6%80%BB%E9%97%A8%E5%BA%97%E7%B2%92%E5%BA%A6%E5%9B%BE%E8%A1%A8&commit=%E6%8F%90%E4%BA%A4" for ::1 at 2017-07-21 17:58:56 +0800
Processing by TemporaryReportsController#chart_report as JS
  Parameters: {"utf8"=>"‚úì", "temporary_chart"=>{"y_axis"=>"a1,a2,a3,a4,a5,a6,a7", "temporary_report_id"=>"1", "chart_data"=>"", "note"=>"ÊÄªÈó®Â∫óÁ≤íÂ∫¶ÂõæË°®"}, "id"=>"1", "commit"=>"Êèê‰∫§"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `temporary_charts` (`temporary_report_id`, `y_axis`, `chart_data`, `note`, `created_at`, `updated_at`) VALUES (1, 'a1,a2,a3,a4,a5,a6,a7', '', 'ÊÄªÈó®Â∫óÁ≤íÂ∫¶ÂõæË°®', '2017-07-21 17:58:56', '2017-07-21 17:58:56')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/chart_report.js.erb
  Rendered temporary_reports/_list.html.erb (1.7ms)
  Rendered temporary_reports/chart_report.js.erb (9.7ms)
Completed 200 OK in 46ms (Views: 32.3ms | ActiveRecord: 1.4ms)


Started GET "/temporary_reports/chart_report?id=1" for ::1 at 2017-07-21 17:58:58 +0800
Processing by TemporaryReportsController#chart_report as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mTemporaryChart Load (0.2ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/chart_report.js.erb
  Rendered temporary_reports/_chart_report.html.erb (3.1ms)
  Rendered temporary_reports/chart_report.js.erb (11.6ms)
Completed 200 OK in 48ms (Views: 34.0ms | ActiveRecord: 0.9ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:59:00 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2154.1ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (5.2ms)
  Rendered temporary_reports/report.html.erb within layouts/application (9.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2218ms (Views: 26.3ms | ActiveRecord: 2155.1ms)


Started GET "/temporary_reports/1/edit" for ::1 at 2017-07-21 17:59:40 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  Rendered temporary_reports/_edit.html.erb (13.6ms)
  Rendered temporary_reports/edit.js.erb (26.0ms)
Completed 200 OK in 55ms (Views: 44.9ms | ActiveRecord: 1.1ms)


Started PUT "/temporary_reports/1" for ::1 at 2017-07-21 17:59:44 +0800
Processing by TemporaryReportsController#update as JS
  Parameters: {"utf8"=>"‚úì", "temporary_report"=>{"name"=>"Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°", "jump_links"=>"", "columns"=>"Èó®Â∫óÂêç\tËØ¢ÁõòÊï∞\tÊä•‰ª∑Êï∞\t‰∏ãÂçïÊï∞\tcasÊï∞Èáè\tÈááË¥≠È¢ù\tÊØõÂà©\tÊØõÂà©Áéá\tÈîÄÂîÆÈ¢ù\tÈîÄÂîÆÂçïÊï∞\t‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\tÊî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\tÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞1", "base_sql"=>"SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS 'Èó®Â∫óÂêç'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= \#{@condition_start_time} AND i.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS 'ÊØõÂà©',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS 'ÊØõÂà©Áéá',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',\r\nCOUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= \#{@condition_start_time} AND iv.created_at < \#{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= \#{@condition_start_time} AND vp.`created_at` < \#{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id", "note"=>"ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°", "head_html"=>"<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>", "report_condition"=>{"0"=>{"name"=>"ÂºÄÂßãÊó∂Èó¥", "report_key"=>"start_time", "report_condition"=>"  '\#{@start_time}' ", "default_value"=>"2017-07-20 17:50:16 +0800", "id"=>"1"}, "1"=>{"name"=>"ÁªìÊùüÊó∂Èó¥", "report_key"=>"end_time", "report_condition"=>" '\#{@end_time}' ", "default_value"=>"2017-07-21 17:50:16 +0800", "id"=>"2"}}}, "id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Unpermitted parameters: jump_links, report_condition
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `temporary_reports` SET `columns` = 'Èó®Â∫óÂêç	ËØ¢ÁõòÊï∞	Êä•‰ª∑Êï∞	‰∏ãÂçïÊï∞	casÊï∞Èáè	ÈááË¥≠È¢ù	ÊØõÂà©	ÊØõÂà©Áéá	ÈîÄÂîÆÈ¢ù	ÈîÄÂîÆÂçïÊï∞	‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè	Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞	ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞1', `updated_at` = '2017-07-21 17:59:44' WHERE `temporary_reports`.`id` = 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 2 LIMIT 1[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/update.js.erb
  Rendered temporary_reports/_list.html.erb (1.7ms)
  Rendered temporary_reports/update.js.erb (10.1ms)
Completed 200 OK in 47ms (Views: 30.8ms | ActiveRecord: 3.2ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 17:59:50 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2166.3ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.7ms)
  Rendered temporary_reports/report.html.erb within layouts/application (5.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2226ms (Views: 22.8ms | ActiveRecord: 2167.5ms)


Started GET "/temporary_reports/1/edit" for ::1 at 2017-07-21 17:59:59 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  Rendered temporary_reports/_edit.html.erb (13.1ms)
  Rendered temporary_reports/edit.js.erb (21.7ms)
Completed 200 OK in 51ms (Views: 41.0ms | ActiveRecord: 1.1ms)


Started PUT "/temporary_reports/1" for ::1 at 2017-07-21 18:02:41 +0800
Processing by TemporaryReportsController#update as JS
  Parameters: {"utf8"=>"‚úì", "temporary_report"=>{"name"=>"Èó®Â∫óÂèÇÊï∞Ê±áÊÄªÁªüËÆ°", "jump_links"=>"{'0'=>'warehouse_name','0_id'=>'14'}", "columns"=>"Èó®Â∫óÂêç\tËØ¢ÁõòÊï∞\tÊä•‰ª∑Êï∞\t‰∏ãÂçïÊï∞\tcasÊï∞Èáè\tÈááË¥≠È¢ù\tÊØõÂà©\tÊØõÂà©Áéá\tÈîÄÂîÆÈ¢ù\tÈîÄÂîÆÂçïÊï∞\t‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè\tÊî∂Âà∞ÁöÑËØ¢ÁõòÊï∞\tÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞1", "base_sql"=>"SELECT \r\ntt.Èó®Â∫óÂêç,\r\na.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,\r\nwx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞\r\nFROM (\r\nSELECT w.id, \r\nw.name AS 'Èó®Â∫óÂêç'\r\nFROM `warehouse_company_addresses` wcd \r\nLEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` \r\nGROUP BY id ) tt\r\n\r\nLEFT JOIN \r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\nWHERE i.created_at >= \#{@condition_start_time} AND i.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',\r\n  c.warehouse_id\r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN inquiries i \r\n    ON i.`user_id` = u.`id` \r\n  LEFT JOIN quotation_details qd \r\n    ON qd.inquiry_id = i.`id` \r\nWHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time} \r\nGROUP BY c.warehouse_id ) b \r\nON tt.id = b.warehouse_id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT\r\n  c.name_cn AS 'ÂÖ¨Âè∏',\r\n  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',\r\n  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',\r\n  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',\r\n TRUNCATE(\r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n           WHEN  od.detail_status != 7 THEN od.amount\r\n           ELSE  0\r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN  od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END),2) AS 'ÊØõÂà©',\r\n  TRUNCATE(\r\n  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9\r\n            WHEN  od.detail_status != 7 THEN  od.amount     \r\n            ELSE 0 \r\n  END)\r\n  -\r\n  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92\r\n           WHEN od.detail_status != 7 THEN od.vendor_amount\r\n           ELSE  0\r\n  END)) * 100 / \r\n  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9\r\n           WHEN od.detail_status != 7 THEN od.amount\r\n           ELSE 0\r\n  END),2) AS 'ÊØõÂà©Áéá',\r\n   c.warehouse_id \r\nFROM\r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n  LEFT JOIN users u \r\n    ON c.id = u.`company_id` \r\n  LEFT JOIN order_details od \r\n    ON od.user_id = u.id \r\n  LEFT JOIN employees e\r\n    ON e.id = c.`trader_id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}  and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0\r\nGROUP BY c.warehouse_id ) c\r\nON tt.id = c.warehouse_id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT \r\nc.name_cn,\r\nSUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',\r\nCOUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',\r\n(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN \r\ncompanies c \r\nON c.id = u.company_id \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE iv.created_at >= \#{@condition_start_time} AND iv.created_at < \#{@condition_end_time}\r\nGROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',\r\nc.warehouse_id\r\nFROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c\r\n LEFT JOIN users u ON u.company_id = c.id \r\n LEFT JOIN order_details od ON od.vendor_id  = u.`id`\r\nWHERE od.created_at >= \#{@condition_start_time} AND od.created_at < \#{@condition_end_time}\r\nGROUP BY c.warehouse_id\r\n) wx ON wx.warehouse_id = tt.id\r\n\r\nLEFT JOIN \r\n\r\n(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` \r\nLEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`\r\nLEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`\r\nWHERE vp.`created_at` >= \#{@condition_start_time} AND vp.`created_at` < \#{@condition_end_time}\r\nGROUP BY w.`id`\r\n) wc ON wc.warehouse_id = tt.id\r\n\r\nLEFT JOIN\r\n\r\n(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM \r\n  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c \r\n  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id\r\n  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id\r\n  WHERE qd.created_at >= \#{@condition_start_time} AND qd.created_at < \#{@condition_end_time}\r\n  GROUP BY c.warehouse_id\r\n) g ON tt.id = g.warehouse_id", "note"=>"ÊÄªÈó®Â∫óÂèÇÊï∞ÁªüËÆ°", "head_html"=>"<form novalidate=\"novalidate\" class=\"content ui form new_search_params\" id=\"new_search_params\" action=\"/admin/report/temporary_reports/report\" accept-charset=\"UTF-8\" method=\"get\"><input name=\"utf8\" type=\"hidden\" value=\"‚úì\">\r\n      <input type=\"hidden\" name=\"id\" id=\"id\">\r\n      <div class=\"ui five column grid\">\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÂºÄÂßãÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[start_time]\" id=\"search_params_start_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"ui left icon input fluid\">\r\n            <i class=\"calendar icon\"></i>\r\n            <input onfocus=\"(this.type='date')\" onblur=\"(this.type='text')\" class=\"string required\" placeholder=\"ÁªìÊùüÊó∂Èó¥\" type=\"text\" value=\"\" name=\"search_params[end_time]\" id=\"search_params_end_time\">\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <input type=\"submit\" name=\"commit\" value=\"ÊêúÁ¥¢\" class=\"ui primary button\" data-disable-with=\"ÊêúÁ¥¢\">\r\n        </div>\r\n      </div>\r\n    </form>", "report_condition"=>{"0"=>{"name"=>"ÂºÄÂßãÊó∂Èó¥", "report_key"=>"start_time", "report_condition"=>"  '\#{@start_time}' ", "default_value"=>"2017-07-20 17:50:16 +0800", "id"=>"1"}, "1"=>{"name"=>"ÁªìÊùüÊó∂Èó¥", "report_key"=>"end_time", "report_condition"=>" '\#{@end_time}' ", "default_value"=>"2017-07-21 17:50:16 +0800", "id"=>"2"}}}, "id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Unpermitted parameter: report_condition
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `temporary_reports` SET `jump_links` = '{\'0\'=>\'warehouse_name\',\'0_id\'=>\'14\'}', `updated_at` = '2017-07-21 18:02:41' WHERE `temporary_reports`.`id` = 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT  `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`id` = 2 LIMIT 1[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering temporary_reports/update.js.erb
  Rendered temporary_reports/_list.html.erb (1.9ms)
  Rendered temporary_reports/update.js.erb (10.0ms)
Completed 200 OK in 85ms (Views: 29.4ms | ActiveRecord: 5.4ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 18:02:42 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2156.7ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.9ms)
  Rendered temporary_reports/report.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2376ms (Views: 23.7ms | ActiveRecord: 2158.3ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-21 18:04:09 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (0.2ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2150.2ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
  [1m[36mTemporaryChart Load (0.3ms)[0m  [1m[34mSELECT `temporary_charts`.* FROM `temporary_charts` WHERE `temporary_charts`.`temporary_report_id` = 1[0m
  Rendering temporary_reports/report.html.erb within layouts/application
  Rendered shared/charts/_line_chart.html.erb (1.8ms)
  Rendered temporary_reports/report.html.erb within layouts/application (6.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 2210ms (Views: 23.3ms | ActiveRecord: 2151.1ms)


Started DELETE "/admin/logout" for ::1 at 2017-07-21 18:10:41 +0800
Processing by Admin::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vH9aThlnLex+J8O8sG5eAZDvtMDq1EN7MuJh3UI8B8BSZ14e2EuOeDVAYNFYK7UQrVaMgWxmI2GgxIP70+vljQ=="}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = NULL, `updated_at` = '2017-07-21 18:10:41' WHERE `employees`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)


Started GET "/temporary_reports" for ::1 at 2017-07-21 18:10:41 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 18:10:41 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (11.3ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 18:11:04 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.2ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-21 18:11:12 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.6ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report1/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin" for ::1 at 2017-07-24 11:22:00 +0800
  
Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `connect'
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `initialize'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `new'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `mysql2_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.6ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/pre-report1/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin" for ::1 at 2017-07-24 11:22:21 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (19.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (92.3ms)
Started GET "/" for ::1 at 2017-07-24 11:22:26 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-24 11:22:26 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (870.2ms)
Completed 200 OK in 902ms (Views: 872.0ms | ActiveRecord: 8.4ms)


Started POST "/admin/login" for ::1 at 2017-07-24 11:22:56 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"YqpgUhj/uAmaHC8z6YUY04bDAoRxkjSD1cZlVcQFhoTRsYRuZhI5Wxt+CZGQftjjrkJSZCx5wa5QztZd83+dpg==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.5ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"YqpgUhj/uAmaHC8z6YUY04bDAoRxkjSD1cZlVcQFhoTRsYRuZhI5Wxt+CZGQftjjrkJSZCx5wa5QztZd83+dpg==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (9.8ms)
Completed 200 OK in 83ms (Views: 11.0ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-24 11:23:07 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"5QmVOM1gumpMdvpa3i+YtH8m7fHUP9bc51ZKBNoQkmJWEnEEs407OM0U3Pin1FiEV6e9EYnUI/FiXvkM7WqJQA==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `employees` SET `remember_created_at` = '2017-07-24 11:23:07', `updated_at` = '2017-07-24 11:23:07' WHERE `employees`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 72ms (ActiveRecord: 1.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:23:07 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (1.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (18.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 35.8ms | ActiveRecord: 2.4ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:24:55 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 107ms (ActiveRecord: 1.2ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NameError (undefined local variable or method `cookie' for #<TemporaryReportsController:0x007f953dabe918>
Did you mean?  cookies):
  
app/controllers/temporary_reports_controller.rb:8:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (81.5ms)
Started GET "/temporary_reports" for ::1 at 2017-07-24 11:25:11 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NameError (uninitialized constant TemporaryReportsController::Cookie):
  
app/controllers/temporary_reports_controller.rb:8:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.5ms)
Started GET "/temporary_reports" for ::1 at 2017-07-24 11:27:47 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 34.9ms | ActiveRecord: 1.4ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:28:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.2ms | ActiveRecord: 2.2ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:28:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 31.8ms | ActiveRecord: 2.1ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:30:38 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 32.3ms | ActiveRecord: 1.9ms)


Started GET "/temporary_reports" for ::1 at 2017-07-24 11:30:50 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (22.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 70ms (Views: 38.8ms | ActiveRecord: 2.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-24 18:10:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (58.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 10972ms (Views: 10908.7ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=1543923824433.6907&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:10:37 +0800
  
ActionController::RoutingError (No route matches [GET] "/trackings"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (16.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (79.4ms)
Started GET "/" for ::1 at 2017-07-24 18:11:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 57ms (Views: 30.1ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=678382574705429.8&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:11:19 +0800
  
LoadError (Unable to autoload constant TrackingsController, expected /Users/jamst/workbook/tracking/app/controllers/trackings_controller.rb to define it):
  
activesupport (5.0.4) lib/active_support/dependencies.rb:512:in `load_missing_constant'
activesupport (5.0.4) lib/active_support/dependencies.rb:203:in `const_missing'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `constantize'
activesupport (5.0.4) lib/active_support/dependencies.rb:583:in `get'
activesupport (5.0.4) lib/active_support/dependencies.rb:614:in `constantize'
actionpack (5.0.4) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:725:in `call'
remotipart (1.3.1) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.4) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.8ms)
Started GET "/" for ::1 at 2017-07-24 18:11:49 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 58ms (Views: 30.1ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=4256505364214.2915&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:11:49 +0800
  
LoadError (Unable to autoload constant TrackingsController, expected /Users/jamst/workbook/tracking/app/controllers/trackings_controller.rb to define it):
  
activesupport (5.0.4) lib/active_support/dependencies.rb:512:in `load_missing_constant'
activesupport (5.0.4) lib/active_support/dependencies.rb:203:in `const_missing'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.4) lib/active_support/inflector/methods.rb:266:in `constantize'
activesupport (5.0.4) lib/active_support/dependencies.rb:583:in `get'
activesupport (5.0.4) lib/active_support/dependencies.rb:614:in `constantize'
actionpack (5.0.4) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:725:in `call'
remotipart (1.3.1) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.4) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.7ms)
Started GET "/" for ::1 at 2017-07-24 18:14:08 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 31.9ms | ActiveRecord: 2.6ms)


Started GET "/trackings?rnum=345771297699750&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:14:08 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"345771297699750", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"239", "opxcounter"=>"1", "opxReferrer"=>""}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:15:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.9ms)
Started GET "/" for ::1 at 2017-07-24 18:14:37 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 33.9ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=739924565362336.8&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:14:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"739924565362336.8", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"239", "opxcounter"=>"1", "opxReferrer"=>""}
No template found for TrackingsController#index, rendering head :no_content
Completed 204 No Content in 138ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:15:08 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 63ms (Views: 34.2ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=203309515223386.12&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:15:09 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"203309515223386.12", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"239", "opxcounter"=>"1", "opxReferrer"=>""}
DEPRECATION WARNING: `render :text` is deprecated because it does not actually render a `text/plain` response. Switch to `render plain: 'plain text'` to render as `text/plain`, `render html: '<strong>HTML</strong>'` to render as `text/html`, or `render body: 'raw'` to match the deprecated behavior and render with the default Content-Type, which is `text/html`. (called from index at /Users/jamst/workbook/tracking/app/controllers/trackings_controller.rb:34)
  Rendering text template
  Rendered text template (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:16:56 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 33.0ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=786630109018781.5&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:16:57 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"786630109018781.5", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"239", "opxcounter"=>"1", "opxReferrer"=>""}
DEPRECATION WARNING: `render :text` is deprecated because it does not actually render a `text/plain` response. Switch to `render plain: 'plain text'` to render as `text/plain`, `render html: '<strong>HTML</strong>'` to render as `text/html`, or `render body: 'raw'` to match the deprecated behavior and render with the default Content-Type, which is `text/html`. (called from index at /Users/jamst/workbook/tracking/app/controllers/trackings_controller.rb:34)
  Rendering text template
  Rendered text template (0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:21:50 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 33.1ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=847477250390903.4&opxUid=0&opxEventID=1108&opxClientID=239&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:21:50 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"847477250390903.4", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"239", "opxcounter"=>"1", "opxReferrer"=>""}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:14:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (43.7ms)
Started GET "/" for ::1 at 2017-07-24 18:24:20 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 32.7ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=979423998669927.8&opxUid=0&opxEventID=1108&opxClientID=1&opxcounter=1&opxReferrer=" for ::1 at 2017-07-24 18:24:20 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"979423998669927.8", "opxUid"=>"0", "opxEventID"=>"1108", "opxClientID"=>"1", "opxcounter"=>"1", "opxReferrer"=>""}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:14:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.0ms)
Started GET "/" for ::1 at 2017-07-24 18:32:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=905301179506321.8&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89&%20whmall_mobile=181018692341&%20bdshare_firstime=1474176454163&%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477&%20smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN&%20tencentSig=5699421184&%20_qddaz=QD.vcxuxo.fz4s41.j2r9wmnm&%20browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016&%20AJSTAT_ok_times=134&%20Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310&%20olfsk=olfsk9170974214851961&%20hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt&%20_ga=GA1.1.172382392.1467091557&%20me=test&%20whmall_email=test%40test.composite&%20whmall_name=jamst1&%20whmall_name1=jamst2&%20uuid=11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:32:19 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"905301179506321.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=ÂÜÖÈÉ®ÊµãËØïË¥¶Âè∑Ôºà‰æõÂ∫îÂïÜÔºâ", " whmall_mobile"=>"181018692341", " bdshare_firstime"=>"1474176454163", " Hm_lvt_711c53013b077a1624044bd4bbbffd5a"=>"1488448477", " smiles"=>"Cl.NC(C1C2C(=NC=CC=2)N(CC2C(F)=CC=CC=2)N=1)=N", " tencentSig"=>"5699421184", " _qddaz"=>"QD.vcxuxo.fz4s41.j2r9wmnm", " browse_chemicals_history"=>"134767-10-5/37222-66-5/125-29-1/7732-18-5/3729016", " AJSTAT_ok_times"=>"134", " Hm_lvt_5d3900485951e0017e83d613935bf20e"=>"1498636087,1499240310", " olfsk"=>"olfsk9170974214851961", " hblid"=>"L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt", " _ga"=>"GA1.1.172382392.1467091557", " me"=>"test", " whmall_email"=>"test@test.composite", " whmall_name"=>"jamst1", " whmall_name1"=>"jamst2", " uuid"=>"11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:14:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.5ms)
Started GET "/" for ::1 at 2017-07-24 18:40:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 32.3ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=17154567252924.08&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:40:14 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"17154567252924.08", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


Could not log "process_action.action_controller" event. ActiveRecord::StatementInvalid: Mysql2::Error: Table 'pre-report.log_records' doesn't exist: SHOW FULL FIELDS FROM `log_records` ["/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `_query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:120:in `block in query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `handle_interrupt'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/mysql2-0.4.8/lib/mysql2/client.rb:119:in `query'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `block in execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:218:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/mysql/database_statements.rb:31:in `execute'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:225:in `execute_and_free'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:886:in `column_definitions'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:400:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:56:in `columns'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/connection_adapters/schema_cache.rb:62:in `columns_hash'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:462:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attributes.rb:233:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_decorators.rb:28:in `load_schema!'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:455:in `block in load_schema'", "/Users/jamst/.rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:452:in `load_schema'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/model_schema.rb:353:in `attribute_types'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/attribute_methods.rb:179:in `has_attribute?'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/inheritance.rb:54:in `new'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_log-838a2c7ea096/lib/rails_log/controller_subscriber.rb:17:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/subscriber.rb:95:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications/instrumenter.rb:27:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/notifications.rb:164:in `instrument'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/abstract_controller/base.rb:126:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionview-5.0.4/lib/action_view/rendering.rb:30:in `process'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:190:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_controller/metal.rb:262:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:39:in `block in serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `each'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/journey/router.rb:26:in `serve'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/routing/route_set.rb:725:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/remotipart-1.3.1/lib/remotipart/middleware.rb:32:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activerecord-5.0.4/lib/active_record/migration.rb:553:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:97:in `__run_callbacks__'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/callbacks.rb:90:in `run_callbacks'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/callbacks.rb:36:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:36:in `call_app'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `block in call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/tagged_logging.rb:69:in `tagged'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/rack/logger.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/sprockets-rails-3.2.0/lib/sprockets/rails/quiet_assets.rb:13:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/request_id.rb:24:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/activesupport-5.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/executor.rb:12:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/static.rb:136:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/railties-5.0.4/lib/rails/engine.rb:522:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/configuration.rb:225:in `call'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:578:in `handle_request'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:415:in `process_client'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/server.rb:275:in `block in run'", "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/puma-3.6.2/lib/puma/thread_pool.rb:116:in `block in spawn_thread'"]
  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:24:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.7ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-24 18:41:59 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (63.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 15281ms (Views: 15206.2ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=423729339004905.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:42:15 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"423729339004905.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/trackings_controller.rb:24:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.3ms)
Started GET "/" for ::1 at 2017-07-24 18:45:29 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 29.8ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=838265165617805.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:45:29 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"838265165617805.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
DEPRECATION WARNING: `render :text` is deprecated because it does not actually render a `text/plain` response. Switch to `render plain: 'plain text'` to render as `text/plain`, `render html: '<strong>HTML</strong>'` to render as `text/html`, or `render body: 'raw'` to match the deprecated behavior and render with the default Content-Type, which is `text/html`. (called from index at /Users/jamst/workbook/tracking/app/controllers/trackings_controller.rb:38)
  Rendering text template
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:46:41 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (18.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 33.7ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=61584230041295.21&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:46:41 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"61584230041295.21", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:53:52 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 30.6ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=191340322158374.72&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:53:53 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"191340322158374.72", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:55:27 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (20.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 35.0ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=83038363760004.06&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:55:28 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"83038363760004.06", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:55:59 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 35.9ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=814379728302844.6&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:56:00 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"814379728302844.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:57:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 68ms (Views: 35.9ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=244436391245127.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:57:19 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"244436391245127.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:58:27 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (19.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 34.1ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=512495708377069.1&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:58:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"512495708377069.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 18:59:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 68ms (Views: 36.8ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=767244801258983.9&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20(Macintosh&%20Intel%20Mac%20OS%20X%2010_11_3)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 18:59:04 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"767244801258983.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh", " Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"=>nil, "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 19:00:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 35.1ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=535008648938225.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 19:00:28 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"535008648938225.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 19:02:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 66ms (Views: 34.5ms | ActiveRecord: 2.3ms)


Started GET "/" for ::1 at 2017-07-24 19:02:07 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-24 19:02:33 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-24 19:02:57 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.8ms)


Started GET "/trackings?rnum=414225890854668.56&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 19:02:57 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"414225890854668.56", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 19:04:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-07-24 19:04:38 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=589475934211024.8&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 19:04:38 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"589475934211024.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-24 19:05:02 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=596337028454325.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20me%3Dtest%3B%20whmall_email%3Dtest%2540test.composite%3B%20whmall_name%3Djamst1%3B%20whmall_name1%3Djamst2%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-24 19:05:03 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"596337028454325.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; me=test; whmall_email=test%40test.composite; whmall_name=jamst1; whmall_name1=jamst2; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-25 14:03:14 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-25 14:03:14 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (833.7ms)
Completed 200 OK in 860ms (Views: 838.9ms | ActiveRecord: 3.1ms)


Started POST "/admin/login" for ::1 at 2017-07-25 14:03:23 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"VgI+xei2YEFN5SFfwEf/T3fMvP5GEnPTFeOijOlLexJyEUHFx2PTAkq9FtoMKdNIBVVDFKx7mWlvVR+Eh22L7g==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = 'admin@whmall.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 19ms (ActiveRecord: 0.5ms)


Processing by Admin::SessionsController#new as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"VgI+xei2YEFN5SFfwEf/T3fMvP5GEnPTFeOijOlLexJyEUHFx2PTAkq9FtoMKdNIBVVDFKx7mWlvVR+Eh22L7g==", "employee"=>{"email"=>"admin@whmall.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ÁôªÂΩï"}
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.3ms)
Completed 200 OK in 81ms (Views: 9.9ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-25 14:03:31 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"PebMGc5/9ZzqiJKRym08O2QbJhohxV0P3YMMLQLJ2B4Z9bMZ4apG3+3QpRQGAxA8FoLZ8Must7WnNbElbO8o4g==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 69ms (ActiveRecord: 0.3ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 14:03:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (2.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (19.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 34.4ms | ActiveRecord: 3.4ms)


Started GET "/trackings?rnum=769107325140092.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:03:32 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"769107325140092.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.9ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/trackings?rnum=907323170462074.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:08:10 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"907323170462074.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.1ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:09:40 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (59.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 893ms (Views: 827.5ms | ActiveRecord: 3.0ms)


Started GET "/trackings?rnum=820182480002642.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:09:41 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"820182480002642.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.4ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:10:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (57.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 885ms (Views: 819.1ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=877017966709405.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:10:20 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"877017966709405.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.0ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:15:09 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=960032012586929.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:15:09 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"960032012586929.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.9ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:16:42 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (3.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (55.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 885ms (Views: 820.7ms | ActiveRecord: 2.4ms)


Started GET "/trackings?rnum=892859123011055&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:16:43 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"892859123011055", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.4ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:17:24 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 31.2ms | ActiveRecord: 1.2ms)


Started GET "/trackings?rnum=242869727894445.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:17:24 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"242869727894445.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `<<' for Tracking:Class
Did you mean?  <):
  
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.3ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:20:10 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (61.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 897ms (Views: 828.7ms | ActiveRecord: 2.4ms)


Started GET "/trackings?rnum=334639117361276.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:20:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"334639117361276.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.7ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:21:44 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (57.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 891ms (Views: 823.5ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=868693021965205.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:21:45 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"868693021965205.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:3:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.7ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:24:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 30.3ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=793059222344126.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:24:26 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"793059222344126.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:28:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.9ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:24:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=224248476560234.38&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:24:28 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"224248476560234.38", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:28:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.3ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:24:38 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=782763061401471.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:24:38 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"782763061401471.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:28:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.1ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:25:11 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (19.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 33.8ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=200919811441982.78&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:25:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"200919811441982.78", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `has_key?' for #<String:0x007ffc7ce172f8>):
  
app/models/tracking.rb:24:in `<<'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (48.4ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:26:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (19.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 34.5ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=108917508781601.22&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:26:13 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"108917508781601.22", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant UUIDTools):
  
app/models/tracking.rb:24:in `<<'
app/controllers/trackings_controller.rb:32:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.2ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:26:45 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (2.1ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (20.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 33.8ms | ActiveRecord: 4.3ms)


Started GET "/trackings?rnum=478713084690239.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:26:45 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"478713084690239.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 14:26:46 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=566899087303979.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:26:46 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"566899087303979.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 14:54:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (68.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 933ms (Views: 861.2ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=519973797918278.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 14:54:14 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"519973797918278.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:14:46 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 32.3ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=805077038720639.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:14:47 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"805077038720639.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:15:02 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=725421021297031.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:15:02 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"725421021297031.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:16:15 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=504957817058765.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:16:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"504957817058765.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:16:41 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (66.6ms)
  Rendered shared/admin/_top_bar.html.erb (3.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 944ms (Views: 875.1ms | ActiveRecord: 2.4ms)


Started GET "/trackings?rnum=545416857796738&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:16:42 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"545416857796738", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:29:06 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (54.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 879ms (Views: 817.2ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=536355347582615.7&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:29:07 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"536355347582615.7", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:31:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.9ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=623105984682554&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:31:04 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"623105984682554", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:32:50 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 30.9ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=132237956546486.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:32:50 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"132237956546486.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:33:07 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=755092937517821.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:33:08 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"755092937517821.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:33:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 30.7ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=662398502442650.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:33:19 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"662398502442650.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:34:33 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 31.1ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=253479388237521.47&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:34:33 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"253479388237521.47", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:41:20 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (56.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 886ms (Views: 817.3ms | ActiveRecord: 2.7ms)


Started GET "/trackings?rnum=414790393661801.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:41:21 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"414790393661801.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:42:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 29.8ms | ActiveRecord: 2.4ms)


Started GET "/trackings?rnum=697218398395177.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:42:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"697218398395177.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:42:39 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 34.7ms | ActiveRecord: 0.9ms)


Started GET "/trackings?rnum=77617135630273.28&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:42:39 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"77617135630273.28", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 15:44:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 31.9ms | ActiveRecord: 1.9ms)


Started GET "/trackings?rnum=618636099076619.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:44:19 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"618636099076619.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:45:43 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (54.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 875ms (Views: 813.2ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=405631495095443.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:45:43 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"405631495095443.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:50:59 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 33.8ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=114110207651479.94&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:50:59 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"114110207651479.94", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 15:58:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (71.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 942ms (Views: 864.5ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=934144144756377.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 15:58:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"934144144756377.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:01:59 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 31.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=23985086783972.82&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:01:59 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"23985086783972.82", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:02:23 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=306333378488152.56&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:02:23 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"306333378488152.56", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:02:47 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 31.5ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=869519185413808.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:02:47 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"869519185413808.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:03:16 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.5ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=667098269934260&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:03:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"667098269934260", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:03:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=564349582416003.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:03:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"564349582416003.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:03:49 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.3ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=189666979342181.7&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:03:49 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"189666979342181.7", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 16:03:56 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 72ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=54658414572595.68&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 16:03:56 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"54658414572595.68", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 17:40:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (71.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.7ms)
Completed 200 OK in 869ms (Views: 798.5ms | ActiveRecord: 3.1ms)


Started GET "/trackings?rnum=835619954891167.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 17:40:32 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"835619954891167.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 17:41:24 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.0ms | ActiveRecord: 0.9ms)


Started GET "/trackings?rnum=559981801379502.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 17:41:24 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"559981801379502.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 17:42:15 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 32.1ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=280860130473983.28&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 17:42:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"280860130473983.28", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:08:00 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 33.4ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=113426664112594.28&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:08:01 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"113426664112594.28", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:08:30 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 65ms (Views: 31.9ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=910787798623871.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:08:30 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"910787798623871.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:11:54 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 30.7ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=638867982178248.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:11:54 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"638867982178248.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:12:46 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 31.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=713184828888627.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:12:46 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"713184828888627.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:18:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 31.4ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=556398902368807.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:18:14 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"556398902368807.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:23:37 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=238747452268445.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:23:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"238747452268445.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:24:54 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 32.2ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=712831877453540.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:24:54 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"712831877453540.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:27:23 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (18.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 34.2ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=983022401946473.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:27:24 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"983022401946473.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:40:44 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=901755961576943.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:40:44 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"901755961576943.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:44:43 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=362416743672837.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:44:43 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"362416743672837.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:44:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=117279671718518.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:44:58 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"117279671718518.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:47:32 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=259421117744787.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:47:32 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"259421117744787.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:52:44 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 32.9ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=292241664940454&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:52:44 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"292241664940454", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 18:53:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (66.6ms)
  Rendered shared/admin/_top_bar.html.erb (3.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 937ms (Views: 865.5ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=438343222432787.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:53:35 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"438343222432787.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:54:04 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 31.8ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=907308795628554.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:54:04 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"907308795628554.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:55:25 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=901603940921845.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:55:25 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"901603940921845.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:55:40 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=989667155255513.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:55:40 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"989667155255513.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:57:07 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=806333004232853.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:57:07 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"806333004232853.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:58:00 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=746348124433177.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:58:00 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"746348124433177.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 18:59:20 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=226259843800216.56&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 18:59:21 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"226259843800216.56", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:01:00 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 31.0ms | ActiveRecord: 2.6ms)


Started GET "/trackings?rnum=771257154132122.5&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:01:00 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"771257154132122.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:05:19 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 31.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=642808692227457.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:05:19 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"642808692227457.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:06:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=87331523215708.36&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:06:31 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"87331523215708.36", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:09:50 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 32.2ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=988242222980311.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:09:50 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"988242222980311.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:10:27 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 32.7ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=89354651850469.53&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:10:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"89354651850469.53", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:10:43 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=50910801694749.04&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:10:43 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"50910801694749.04", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:14:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (56.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 887ms (Views: 826.9ms | ActiveRecord: 2.4ms)


Started GET "/trackings?rnum=753497790843667.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:14:59 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"753497790843667.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:20:10 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.3ms)
  Rendered temporary_reports/index.html.erb within layouts/application (58.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 888ms (Views: 822.9ms | ActiveRecord: 2.5ms)


Started GET "/trackings?rnum=652970648350225.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:20:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"652970648350225.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.7ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:21:20 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 31.2ms | ActiveRecord: 0.8ms)


Started GET "/trackings?rnum=432248848009999.75&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:21:20 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"432248848009999.75", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.0ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:21:27 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=230683731009690.75&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:21:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"230683731009690.75", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.6ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:22:44 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 31.8ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=556121416212141.94&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:22:44 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"556121416212141.94", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.5ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:23:46 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 32.3ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=548630472868681.25&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:23:46 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"548630472868681.25", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.4ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:24:53 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 31.1ms | ActiveRecord: 2.3ms)


Started GET "/trackings?rnum=434608607678041.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:24:53 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"434608607678041.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.3ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:26:12 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 32.7ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=448052093388017.2&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:26:12 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"448052093388017.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.2ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:27:23 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 31.4ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=458051339947303.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:27:23 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"458051339947303.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `label_as' for Tracking:Class):
  
app/models/tracking.rb:4:in `<class:Tracking>'
app/models/tracking.rb:1:in `<top (required)>'
app/controllers/trackings_controller.rb:29:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.9ms)
Started GET "/temporary_reports" for ::1 at 2017-07-25 19:30:53 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (7.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (21.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 36.6ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=193568027649505.3&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:30:53 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"193568027649505.3", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:11 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=586700031095013.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"586700031095013.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:14 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=175185731274074.78&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:14 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"175185731274074.78", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:15 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=187249817175447.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:15 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"187249817175447.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:15 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=487145709196331.1&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:15 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"487145709196331.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=791603499568865.6&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"791603499568865.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=258637214384368.72&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"258637214384368.72", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=669391516484675.4&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:16 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"669391516484675.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:17 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:17 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 0.7ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:17 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/temporary_reports" for ::1 at 2017-07-25 19:31:18 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=190488000637425.22&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-25 19:31:18 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"190488000637425.22", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin" for ::1 at 2017-07-26 09:31:32 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (17.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (93.2ms)
Started GET "/favicon.ico" for ::1 at 2017-07-26 09:31:32 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (16.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (73.7ms)
Started GET "/" for ::1 at 2017-07-26 09:31:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (1.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (60.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 864ms (Views: 782.5ms | ActiveRecord: 10.2ms)


Started GET "/trackings?rnum=350023696943872.8&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:31:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"350023696943872.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 09:34:47 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=29977157293121.78&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:34:47 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"29977157293121.78", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 09:36:44 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 31.1ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=893536659946756.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:36:44 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"893536659946756.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3816ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 09:37:01 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=316031782155666.44&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:37:01 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"316031782155666.44", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3758ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 09:38:40 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=908700973853295.1&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:38:40 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"908700973853295.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3764ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 09:39:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.2ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-26 09:40:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-26 09:40:29 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.7ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-07-26 09:40:32 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-26 09:40:33 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-26 09:40:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-07-26 09:40:39 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-07-26 09:41:13 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=752509489227811.8&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 09:41:13 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"752509489227811.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3082ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 10:47:14 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 86ms (ActiveRecord: 1.2ms)


  
NameError (undefined local variable or method `cookie' for #<TemporaryReportsController:0x007fad0c458df8>
Did you mean?  cookies):
  
app/controllers/temporary_reports_controller.rb:8:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (80.5ms)
Started GET "/" for ::1 at 2017-07-26 10:47:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 30.7ms | ActiveRecord: 1.4ms)


Started GET "/trackings?rnum=559903853341095.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 10:47:34 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"559903853341095.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2017-07-26 10:47:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.2ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (68.8ms)
Started GET "/apple-touch-icon-precomposed.png" for ::1 at 2017-07-26 10:47:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon-precomposed.png"):
  
Started GET "/favicon.ico" for ::1 at 2017-07-26 10:47:52 +0800
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (10.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (146.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (136.7ms)
Started GET "/apple-touch-icon.png" for ::1 at 2017-07-26 10:47:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon.png"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (10.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (65.3ms)
Started GET "/users/sign_in" for ::1 at 2017-07-26 10:47:53 +0800
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (67.0ms)
Started GET "/apple-touch-icon-precomposed.png" for ::1 at 2017-07-26 10:47:53 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon-precomposed.png"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (10.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (66.5ms)
Started GET "/apple-touch-icon.png" for ::1 at 2017-07-26 10:47:53 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon.png"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (10.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.4ms)
Started GET "/" for ::1 at 2017-07-26 10:47:54 +0800
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for ::1 at 2017-07-26 10:47:54 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (11.2ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2017-07-26 10:47:54 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/apple-touch-icon-precomposed.png" for ::1 at 2017-07-26 10:47:54 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon-precomposed.png"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (10.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (12.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (150.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (107.2ms)
Started GET "/apple-touch-icon.png" for ::1 at 2017-07-26 10:47:54 +0800
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon.png"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (66.9ms)
Started POST "/admin/login" for ::1 at 2017-07-26 10:48:11 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"Di3JVtjuT1NpTO2k5+RH5SQ6BfGZGLdBLd5tyVC/64yt+WdZzhQD5CKRiPr5vH31XU2L4kxDwObZli2OCStkVg==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/temporary_reports
Completed 302 Found in 79ms (ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for ::1 at 2017-07-26 10:48:11 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=857709282776340.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1484877247%3B%20AJSTAT_ok_times%3D2%3B%20_ga%3DGA1.1.1914646732.1468914693%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/601.4.4%20%28KHTML%2C%20like%20Gecko%29%20Version/9.0.3%20Safari/601.4.4&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-26 10:48:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"857709282776340.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"Hm_lvt_5d3900485951e0017e83d613935bf20e=1484877247; AJSTAT_ok_times=2; _ga=GA1.1.1914646732.1468914693; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/601.4.4 (KHTML, like Gecko) Version/9.0.3 Safari/601.4.4", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/admin/login" for ::1 at 2017-07-26 10:49:11 +0800
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"Di3JVtjuT1NpTO2k5+RH5SQ6BfGZGLdBLd5tyVC/64yt+WdZzhQD5CKRiPr5vH31XU2L4kxDwObZli2OCStkVg==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2017-07-26 10:49:12 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 51ms (Views: 36.0ms | ActiveRecord: 1.3ms)


Started GET "/trackings?rnum=909741931827738.9&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=http://localhost:3000/admin/login&opxdomain=1&opxcookie=Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1484877247%3B%20AJSTAT_ok_times%3D2%3B%20_ga%3DGA1.1.1914646732.1468914693%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/601.4.4%20%28KHTML%2C%20like%20Gecko%29%20Version/9.0.3%20Safari/601.4.4&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2Fadmin%2Flogin" for ::1 at 2017-07-26 10:49:12 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"909741931827738.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"http://localhost:3000/admin/login", "opxdomain"=>"1", "opxcookie"=>"Hm_lvt_5d3900485951e0017e83d613935bf20e=1484877247; AJSTAT_ok_times=2; _ga=GA1.1.1914646732.1468914693; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/601.4.4 (KHTML, like Gecko) Version/9.0.3 Safari/601.4.4", "opxReferrer"=>"http://localhost:3000/admin/login"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for 192.168.0.49 at 2017-07-26 10:50:32 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for 192.168.0.49 at 2017-07-26 10:50:32 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (786.1ms)
Completed 200 OK in 809ms (Views: 791.6ms | ActiveRecord: 1.1ms)


Started GET "/favicon.ico" for 192.168.0.49 at 2017-07-26 10:50:34 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.1ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (71.1ms)
Started POST "/admin/login" for 192.168.0.49 at 2017-07-26 10:50:53 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Admin::SessionsController#create as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"Kub/Nbaf7Pat8LG4fScf1DbzFm3cB1NyuQn4Yj5cljw5iTmSHgxFDvE8ypoU0Q7l+GjG5xsb3+bs5bhfM52IyQ==", "employee"=>{"email"=>"107422244@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"ÁôªÂΩï"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`email` = '107422244@qq.com' ORDER BY `employees`.`id` ASC LIMIT 1[0m
Redirected to http://192.168.0.74:3000/temporary_reports
Completed 302 Found in 88ms (ActiveRecord: 0.3ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:50:53 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 32.5ms | ActiveRecord: 1.3ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:52:52 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 29.9ms | ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:53:09 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 30.4ms | ActiveRecord: 2.0ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:53:16 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.7ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:53:59 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 31.9ms | ActiveRecord: 2.1ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:54:17 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 32.0ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 10:54:27 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.1ms)
  Rendered shared/admin/_top_bar.html.erb (5.7ms)
  Rendered shared/admin/_sidebar.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 0.8ms)


Started GET "/trackings?rnum=673238399020492.4&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 10:54:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"673238399020492.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:55:22 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 30.5ms | ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:55:39 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:55:51 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.6ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 10:57:01 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/admin/login" for 192.168.0.49 at 2017-07-26 10:57:01 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb
  Rendered admin/sessions/new.html.erb (8.6ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 192.168.0.49 at 2017-07-26 10:57:01 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (12.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (65.7ms)
Started GET "/favicon.ico" for 192.168.0.49 at 2017-07-26 10:57:02 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [60 times] (11.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (65.7ms)
Started GET "/" for 127.0.0.1 at 2017-07-26 11:11:08 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (18.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 33.8ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=702218241449480.4&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795localhost36237817&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:11:08 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"702218241449480.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795localhost36237817", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:11:11 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.8ms)


Started GET "/trackings?rnum=239084916326077.1&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:11:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"239084916326077.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:11:18 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=858962999589329.1&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:11:18 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"858962999589329.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:18:21 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 30.0ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=772233960304836.9&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:18:21 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"772233960304836.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:18:29 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=483413278442413.9&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:18:29 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"483413278442413.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:19:37 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 29.5ms | ActiveRecord: 1.8ms)


Started GET "/trackings?rnum=708663703172484.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:19:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"708663703172484.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:19:48 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=180966372145173.53&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:19:48 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"180966372145173.53", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:21:42 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 31.0ms | ActiveRecord: 2.0ms)


Started GET "/trackings?rnum=609303320544998.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:21:42 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"609303320544998.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:29:48 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.5ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=412965471031791.1&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:29:48 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"412965471031791.1", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for 192.168.0.49 at 2017-07-26 11:37:12 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.5ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 33.3ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:37:56 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=728832541363372.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:37:56 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"728832541363372.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:39:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 67ms (Views: 34.8ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=272567362949580.62&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:39:34 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"272567362949580.62", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:40:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (19.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 38.6ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=624905599783574.4&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:40:32 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"624905599783574.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:41:26 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.4ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 70ms (Views: 35.0ms | ActiveRecord: 2.7ms)


Started GET "/trackings?rnum=649085557464590&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:41:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"649085557464590", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=983547080659072.9&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxdomain=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:43:59 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"983547080659072.9", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxdomain"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.0.49 at 2017-07-26 11:46:10 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.8ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 25.8ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=589865687258168.9&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxdomain=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:46:50 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"589865687258168.9", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxdomain"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:47:24 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.4ms)
  Rendered temporary_reports/index.html.erb within layouts/application (8.7ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=917811573364977.6&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:47:24 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"917811573364977.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:47:34 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.9ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (38.3ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 69ms (Views: 65.0ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=506276163180604.06&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:47:35 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"506276163180604.06", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=200578443567943.2&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxdomain=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:47:56 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"200578443567943.2", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxdomain"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.0.49 at 2017-07-26 11:48:55 +0800
Cannot render console from 192.168.0.49! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=786450689067976.5&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxdomain=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:52:17 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"786450689067976.5", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxdomain"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 11:52:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 32.9ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=260544987623946.72&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxdomain=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for 127.0.0.1 at 2017-07-26 11:52:28 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"260544987623946.72", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxdomain"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for ::1 at 2017-07-26 18:03:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.1ms)
  Rendered temporary_reports/index.html.erb within layouts/application (69.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 944ms (Views: 869.5ms | ActiveRecord: 3.0ms)


Started GET "/trackings?rnum=200073521522750.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:03:37 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"200073521522750.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=907080720456531.9&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxid=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:04:27 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"907080720456531.9", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=440549383625848.94&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxid=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:09:39 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"440549383625848.94", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&opxtitle=image%20|%20Amaze%20UI%20Examples&opxurl=http://localhost:4000/&opxreferrer=&opxid=&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:12:33 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"31416658037520.363", "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:15:18 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:15:26 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:17:25 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (14.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.7ms)
Completed 200 OK in 61ms (Views: 31.0ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=606739032486368.6&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:17:25 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"606739032486368.6", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:21:36 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=12&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:22:12 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"12", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=12&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:23:22 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"12", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:23:42 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 30.8ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=311355552639289.94&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:23:42 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"311355552639289.94", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:24:09 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 30.9ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=827379423785387.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:24:10 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"827379423785387.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=12&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:24:28 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"12", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:30:25 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.9ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 30.8ms | ActiveRecord: 2.1ms)


Started GET "/trackings?rnum=750755232679797.2&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=1&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:30:26 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"750755232679797.2", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"1", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=12&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:31:26 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"12", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:35:40 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.3ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 0.5ms)


Started GET "/trackings?rnum=499489029331400.25&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=6.2831852&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:35:40 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"499489029331400.25", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"6.2831852", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:36:54 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.5ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.7ms)


Started GET "/trackings?rnum=893985104186141.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=632446.5726764001&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:36:54 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"893985104186141.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"632446.5726764001", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:39:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (17.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 70ms (Views: 34.3ms | ActiveRecord: 2.2ms)


Started GET "/trackings?rnum=997409920124988.4&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=632446.5726764001&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:39:28 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"997409920124988.4", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"632446.5726764001", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:50:28 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.7ms)
  Rendered temporary_reports/index.html.erb within layouts/application (15.0ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 62ms (Views: 31.4ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=97429343550484.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:50:29 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"97429343550484.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=12&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:53:24 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"12", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/trackings?rnum=31416658037520.363&amp;opxtitle=image%20|%20Amaze%20UI%20Examples&amp;opxurl=http://localhost:4000/&amp;opxreferrer=&amp;opxid=0&amp;opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&amp;opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&amp;opxReferrer=" for ::1 at 2017-07-26 18:53:33 +0800
Processing by TrackingsController#index as HTML
  Parameters: {"rnum"=>"31416658037520.363", "amp"=>nil, "opxtitle"=>"image | Amaze UI Examples", "opxurl"=>"http://localhost:4000/", "opxreferrer"=>"", "opxid"=>"0", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:54:31 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.1ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=444507721885248.44&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:54:31 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"444507721885248.44", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:55:48 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.4ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=919488127027885.9&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=%26amp%3B%26amp%3B%26amp%3B%26amp%3B%26amp%3B%26amp%3B%23%7Bcurrent_employee.id.to_i%20*%2031415926%20*%20201314%7D&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:55:48 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"919488127027885.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"&amp;&amp;&amp;&amp;&amp;&amp;\#{current_employee.id.to_i * 31415926 * 201314}", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 18:56:36 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (7.8ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.6ms)


Started GET "/trackings?rnum=762052466970712&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=yy%23%7Bcurrent_employee.id.to_i%20*%2031415926%20*%20201314%7D&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 18:56:36 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"762052466970712", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"yy\#{current_employee.id.to_i * 31415926 * 201314}", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-26 19:01:10 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (1.6ms)
  Rendered temporary_reports/index.html.erb within layouts/application (16.4ms)
  Rendered shared/admin/_top_bar.html.erb (1.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 70ms (Views: 33.9ms | ActiveRecord: 1.9ms)


Started GET "/trackings?rnum=343029630320160.3&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 19:01:10 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"343029630320160.3", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports/report?id=1" for ::1 at 2017-07-26 19:01:27 +0800
Processing by TemporaryReportsController#report as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  [1m[36mReportCondition Load (1.6ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id[0m
Completed 500 Internal Server Error in 45ms (ActiveRecord: 7.6ms)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Table 'pre-report.warehouse_company_addresses' doesn't exist: SELECT 
tt.Èó®Â∫óÂêç,
a.ËØ¢ÁõòÊï∞,b.Êä•‰ª∑Êï∞,c.‰∏ãÂçïÊï∞,c.casÊï∞Èáè,c.ÈááË¥≠È¢ù,c.ÊØõÂà©,c.ÊØõÂà©Áéá,
wx.ÈîÄÂîÆÈ¢ù,wx.ÈîÄÂîÆÂçïÊï∞,wc.‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè,wx.Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞,g.ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞
FROM (
SELECT w.id, 
w.name AS 'Èó®Â∫óÂêç'
FROM `warehouse_company_addresses` wcd 
LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id` 
GROUP BY id ) tt

LEFT JOIN 

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT i.`id`) AS 'ËØ¢ÁõòÊï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
WHERE i.created_at >=   '2017-07-20 17:50:16 +0800'  AND i.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id) a ON tt.id= a.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(qd.id) AS 'Êä•‰ª∑Êï∞',
  c.warehouse_id
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN inquiries i 
    ON i.`user_id` = u.`id` 
  LEFT JOIN quotation_details qd 
    ON qd.inquiry_id = i.`id` 
WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800'  
GROUP BY c.warehouse_id ) b 
ON tt.id = b.warehouse_id

LEFT JOIN

(SELECT
  c.name_cn AS 'ÂÖ¨Âè∏',
  COUNT(DISTINCT od.id) AS '‰∏ãÂçïÊï∞',
  COUNT(DISTINCT IF(od.`detail_status` != 7,od.chemical_id,NULL)) AS 'casÊï∞Èáè',
  SUM(IF(od.`detail_status` != 7,od.amount,0)) AS 'ÈááË¥≠È¢ù',
 TRUNCATE(
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
           WHEN  od.detail_status != 7 THEN od.amount
           ELSE  0
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN  od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END),2) AS 'ÊØõÂà©',
  TRUNCATE(
  (SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7 THEN od.amount / 0.9
            WHEN  od.detail_status != 7 THEN  od.amount     
            ELSE 0 
  END)
  -
  SUM(CASE WHEN  od.invoice_type != 4 AND od.vendor_invoice_type != 1 AND od.detail_status != 7 THEN od.vendor_amount / 0.92
           WHEN od.detail_status != 7 THEN od.vendor_amount
           ELSE  0
  END)) * 100 / 
  SUM(CASE WHEN  od.invoice_type = 4 AND od.vendor_invoice_type = 1 AND od.detail_status != 7  THEN od.amount / 0.9
           WHEN od.detail_status != 7 THEN od.amount
           ELSE 0
  END),2) AS 'ÊØõÂà©Áéá',
   c.warehouse_id 
FROM
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
  LEFT JOIN users u 
    ON c.id = u.`company_id` 
  LEFT JOIN order_details od 
    ON od.user_id = u.id 
  LEFT JOIN employees e
    ON e.id = c.`trader_id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800'   and  od.`origin`!=6 and detail_status != 7 and od.vendor_amount !=0 and  od.amount !=0
GROUP BY c.warehouse_id ) c
ON tt.id = c.warehouse_id

LEFT JOIN 

(SELECT 
c.name_cn,
SUM(IF(od.detail_status != 7,vendor_amount,0)) AS 'ÈîÄÂîÆÈ¢ù',
COUNT(DISTINCT od.id) AS 'ÈîÄÂîÆÂçïÊï∞',
(SELECT re_inquiry_num FROM (SELECT w.id,COUNT(iv.id) AS 're_inquiry_num' FROM inquiry_vendors iv LEFT JOIN users u ON u.id = iv.vendor_id LEFT JOIN 
companies c 
ON c.id = u.company_id 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE iv.created_at >=   '2017-07-20 17:50:16 +0800'  AND iv.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.id) a WHERE a.id = c.warehouse_id) AS 'Êî∂Âà∞ÁöÑËØ¢ÁõòÊï∞',
c.warehouse_id
FROM (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c
 LEFT JOIN users u ON u.company_id = c.id 
 LEFT JOIN order_details od ON od.vendor_id  = u.`id`
WHERE od.created_at >=   '2017-07-20 17:50:16 +0800'  AND od.created_at <  '2017-07-21 17:50:16 +0800' 
GROUP BY c.warehouse_id
) wx ON wx.warehouse_id = tt.id

LEFT JOIN 

(SELECT COUNT(DISTINCT chemical_id) AS '‰∏ä‰º†‰∫ßÂìÅÊï∞Èáè', c.`name_cn`,wcd.`warehouse_id` as warehouse_id  FROM `vendor_products` vp LEFT JOIN companies c ON c.id = vp.`company_id` 
LEFT JOIN `warehouse_company_addresses` wcd on c.id = wcd.`company_id`
LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`
WHERE vp.`created_at` >=   '2017-07-20 17:50:16 +0800'  AND vp.`created_at` <  '2017-07-21 17:50:16 +0800' 
GROUP BY w.`id`
) wc ON wc.warehouse_id = tt.id

LEFT JOIN

(SELECT c.warehouse_id,COUNT(qd.id) AS 'ÁªôÂá∫ÁöÑÊä•‰ª∑Êï∞',c.name_cn AS 'ÂÖ¨Âè∏' FROM 
  (SELECT DISTINCT c.* , wcd.`warehouse_id` as warehouse_id FROM `warehouse_company_addresses` wcd LEFT JOIN companies c ON c.id = wcd.`company_id` LEFT JOIN warehouses w ON wcd.`warehouse_id` = w.`id`) c 
  LEFT JOIN users u ON u.company_id = c.id LEFT JOIN inquiry_quotations iq ON iq.vendor_id = u.id
  LEFT JOIN quotation_details qd ON qd.inquiry_quotation_id = iq.id
  WHERE qd.created_at >=   '2017-07-20 17:50:16 +0800'  AND qd.created_at <  '2017-07-21 17:50:16 +0800' 
  GROUP BY c.warehouse_id
) g ON tt.id = g.warehouse_id):
  
app/models/execute_report.rb:11:in `execute_sql'
app/models/execute_report.rb:6:in `initialize'
app/controllers/temporary_reports_controller.rb:148:in `new'
app/controllers/temporary_reports_controller.rb:148:in `report'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (48.1ms)
Started GET "/trackings?rnum=294502509111713.5&opxtitle=Pre-report&opxurl=http://localhost:3000/&opxreferrer=&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=" for ::1 at 2017-07-26 19:01:39 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"294502509111713.5", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/", "opxreferrer"=>"", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports/1/edit" for ::1 at 2017-07-26 19:01:41 +0800
Processing by TemporaryReportsController#edit as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.2ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/edit.js.erb
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`parent_id` = 1[0m
  [1m[36mReportCondition Load (0.3ms)[0m  [1m[34mSELECT `report_conditions`.* FROM `report_conditions` WHERE `report_conditions`.`temporary_report_id` = 1[0m
  Rendered temporary_reports/_edit.html.erb (16.7ms)
  Rendered temporary_reports/edit.js.erb (26.0ms)
Completed 200 OK in 54ms (Views: 42.3ms | ActiveRecord: 1.1ms)


Started GET "/temporary_reports/composite_report?id=1" for ::1 at 2017-07-26 19:01:57 +0800
Processing by TemporaryReportsController#composite_report as JS
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE `temporary_reports`.`id` = 1 LIMIT 1[0m
  Rendering temporary_reports/composite_report.js.erb
  Rendered temporary_reports/_composite_report.html.erb (4.5ms)
  Rendered temporary_reports/composite_report.js.erb (16.7ms)
Completed 200 OK in 46ms (Views: 33.7ms | ActiveRecord: 0.5ms)


Started GET "/temporary_reports?utf8=%E2%9C%93&search_params%5Bcreated_at-gte%5D=2017-07-01&search_params%5Bcreated_at-lte%5D=2017-07-01&search_params%5Bname-like%5D=234&commit=%E6%90%9C%E7%B4%A2" for ::1 at 2017-07-26 19:02:18 +0800
Processing by TemporaryReportsController#index as HTML
  Parameters: {"utf8"=>"‚úì", "search_params"=>{"created_at-gte"=>"2017-07-01", "created_at-lte"=>"2017-07-01", "name-like"=>"234"}, "commit"=>"ÊêúÁ¥¢"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.6ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (temporary_reports.name like '%234%') AND (temporary_reports.created_at >= '2017-07-01' AND temporary_reports.created_at <= '2017-07-01') AND (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 21.6ms | ActiveRecord: 0.9ms)


Started GET "/trackings?rnum=195061408911502.8&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports?utf8=%E2%9C%93&search_params%5Bcreated_at-gte%5D=2017-07-01&search_params%5Bcreated_at-lte%5D=2017-07-01&search_params%5Bname-like%5D=234&commit=%E6%90%9C%E7%B4%A2&opxreferrer=http://localhost:3000/&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2F" for ::1 at 2017-07-26 19:02:18 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"195061408911502.8", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports?utf8=‚úì", "search_params"=>{"created_at-gte"=>"2017-07-01", "created_at-lte"=>"2017-07-01", "name-like"=>"234"}, "commit"=>"ÊêúÁ¥¢", "opxreferrer"=>"http://localhost:3000/", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports?utf8=%E2%9C%93&search_params%5Bcreated_at-gte%5D=2017-07-01&search_params%5Bcreated_at-lte%5D=2017-07-01&search_params%5Bname-like%5D=234&commit=%E6%90%9C%E7%B4%A2" for ::1 at 2017-07-26 19:05:11 +0800
Processing by TemporaryReportsController#index as HTML
  Parameters: {"utf8"=>"‚úì", "search_params"=>{"created_at-gte"=>"2017-07-01", "created_at-lte"=>"2017-07-01", "name-like"=>"234"}, "commit"=>"ÊêúÁ¥¢"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (0.3ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (temporary_reports.name like '%234%') AND (temporary_reports.created_at >= '2017-07-01' AND temporary_reports.created_at <= '2017-07-01') AND (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [0 times] (0.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (6.6ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 26.2ms | ActiveRecord: 1.8ms)


Started GET "/trackings?rnum=260772638841005.88&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports?utf8=%E2%9C%93&search_params%5Bcreated_at-gte%5D=2017-07-01&search_params%5Bcreated_at-lte%5D=2017-07-01&search_params%5Bname-like%5D=234&commit=%E6%90%9C%E7%B4%A2&opxreferrer=http://localhost:3000/&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20AJSTAT_ok_times%3D134%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20uuid%3D11111111%3B%20opxPID%3D20170726111108348795&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2F" for ::1 at 2017-07-26 19:05:11 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"260772638841005.88", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports?utf8=‚úì", "search_params"=>{"created_at-gte"=>"2017-07-01", "created_at-lte"=>"2017-07-01", "name-like"=>"234"}, "commit"=>"ÊêúÁ¥¢", "opxreferrer"=>"http://localhost:3000/", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; AJSTAT_ok_times=134; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; uuid=11111111; opxPID=20170726111108348795", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/"}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/cable" for 127.0.0.1 at 2017-07-28 17:01:43 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:01:44 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NoticesChannel"
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:02:09 +0800
Started GET "/" for 127.0.0.1 at 2017-07-28 17:02:17 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (5605.0ms)
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (48.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 10481ms (Views: 10457.6ms | ActiveRecord: 13.2ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:12:43 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.4ms | ActiveRecord: 0.3ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2017-07-28 17:12:43 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (16.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (79.6ms)
Started GET "/" for 127.0.0.1 at 2017-07-28 17:12:45 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.2ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:12:45 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (17.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:24 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:25 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:26 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:27 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.4ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:28 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:29 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:13:43 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (17.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:22:37 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:22:49 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:22:51 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:23:00 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:25:31 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.0ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.3ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 37ms (Views: 35.1ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:26:09 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:26:30 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:26:42 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:27:25 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:31:27 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:34:57 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:37:16 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:38:03 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:38:10 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:38:32 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (14.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:39:13 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (14.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:39:49 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (14.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:39:50 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:40:34 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (18.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:40:36 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (15.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:42:39 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:43:20 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (15.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:45:00 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (15.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:45:20 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (15.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 26.3ms | ActiveRecord: 0.3ms)


Started GET "/cable" for 127.0.0.1 at 2017-07-28 17:47:29 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:47:29 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NoticesChannel"
Started GET "/cable" for 127.0.0.1 at 2017-07-28 17:47:29 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:47:29 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NoticesChannel"
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:48:29 +0800
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-07-28 17:48:30 +0800
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for 127.0.0.1 at 2017-07-28 17:49:18 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (568.7ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (33.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 781ms (Views: 769.0ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:49:35 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:50:20 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (12.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:50:52 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (12.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:50:54 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:51:00 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:51:32 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 42ms (Views: 31.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:51:51 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:52:36 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:52:51 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
Completed 200 OK in 33ms (Views: 31.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:53:00 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
Completed 200 OK in 32ms (Views: 30.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 17:57:54 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (6.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Company):
     8: <div class="ui blue segment" style='background: rgba(255, 255, 255, 0.2);'>
     9:   <table>
    10:    <tr>
    11:   <% Company.all[0..40].each_with_index do |com,i| %>
    12:     <% i += 1%>
    13:     <% if ( i%10== 0 && i != 0 ) %>
    14:        <td style="width: 200px;" style="margin-bottom: 30px;">
  
app/views/desboard/index.html.erb:11:in `_app_views_desboard_index_html_erb__4393334104679403238_70170902410860'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.2ms)
Started GET "/" for 127.0.0.1 at 2017-07-28 18:04:33 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:07:05 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (21.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:09:20 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
Completed 200 OK in 36ms (Views: 34.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:18:49 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:19:28 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:20:16 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:20:47 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:32:40 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (13.2ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 48ms (Views: 46.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/inventory/chemicals/699" for 127.0.0.1 at 2017-07-28 18:32:41 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/inventory/chemicals/699"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (13.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-28 18:33:13 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (21.0ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (14.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 48ms (Views: 45.4ms | ActiveRecord: 1.2ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:33:14 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/analysis.js.erb (46.6ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Missing partial desboard/_analisis with {:locale=>[:zh], :formats=>[:js, "application/ecmascript", "application/x-ecmascript", :html, :text, :css, :ics, :csv, :vcf, :png, :jpeg, :gif, :bmp, :tiff, :svg, :mpeg, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip, :gzip], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/jamst/workbook/tracking/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/kaminari-2d22392756fe/kaminari-core/app/views"
  * "/Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/devise-71fc5b351a8e/app/views"
):
    1: $(".whmall_cover").remove();
    2: $("body").append("<%= j render('analisis')%>");
    3: 
    4: $(window).on('resize',function(event) {
    5:   //Áº©ÊîæÈ°µÈù¢ÈáçÊñ∞ËÆ°ÁÆóslide_bodyÈ´òÂ∫¶
  
app/views/desboard/analysis.js.erb:2:in `_app_views_desboard_analysis_js_erb__523789377073783395_70170666925620'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (26.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-28 18:33:58 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (19.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.4ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:33:59 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.9ms)
Completed 200 OK in 35ms (Views: 27.7ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:34:13 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.4ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:34:18 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:34:22 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:34:36 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.4ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:34:45 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (8.9ms)
Completed 200 OK in 34ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:35:03 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.3ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:35:25 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.3ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:35:29 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:37:19 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:37:26 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:38:03 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:38:38 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:39:00 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:39:04 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:47:34 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (21.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:47:36 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:48:33 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:50:54 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:51:20 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (8.9ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:51:30 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (8.9ms)
Completed 200 OK in 33ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:54:38 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:54:41 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:54:48 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:57:06 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.3ms)
Completed 200 OK in 34ms (Views: 31.9ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 18:57:14 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:57:24 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (5.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:58:09 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (20.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 18:59:41 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (27.8ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 46ms (Views: 44.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:00:41 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (24.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:00:42 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 19:00:45 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 19:00:50 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.3ms)
Completed 200 OK in 34ms (Views: 26.6ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 19:00:54 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:02:53 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:03:33 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 35.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:03:57 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 36ms (Views: 34.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:04:07 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.4ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (5.5ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 38.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:04:14 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (24.4ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 38.1ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-28 19:04:19 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.1ms)
  Rendered desboard/analysis.js.erb (9.5ms)
Completed 200 OK in 35ms (Views: 26.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:06:51 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (23.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 36ms (Views: 34.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:07:08 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (4.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 38ms (Views: 36.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:07:31 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (21.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 38ms (Views: 36.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:08:18 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (21.1ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:08:33 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-28 19:09:14 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (22.5ms)
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (5.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.5ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/" for 127.0.0.1 at 2017-07-31 10:06:52 +0800
  
Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `connect'
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `initialize'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `new'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `mysql2_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.0ms)
Started GET "/favicon.ico" for 127.0.0.1 at 2017-07-31 10:06:53 +0800
  
Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `connect'
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `initialize'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `new'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `mysql2_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.9ms)
Started GET "/" for 127.0.0.1 at 2017-07-31 10:07:13 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (508.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (43.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 736ms (Views: 718.2ms | ActiveRecord: 8.6ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2017-07-31 10:07:14 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [69 times] (33.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.4ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (108.6ms)
Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 10:07:21 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (10.2ms)
Completed 200 OK in 38ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:09:33 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (210.9ms)
Completed 500 Internal Server Error in 214ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `i' for #<#<Class:0x007fa3f71e7650>:0x007fa3fe0d1ac0>):
    88:     <tr>
    89:        <td style="width: 25%;" style="margin-bottom: 30px;">
    90:           <div style="text-align: center;"><%= image_tag 'male.jpg', class: 'ui avatar image' %></div>
    91:           <div style="margin-bottom: 15px; text-align: center;"><%= "ÊùéÊ±üÈîã#{i}" %></div>
    92:        <td>
    93:        <td style="width: 25%;" style="margin-bottom: 30px;">
    94:           <div style="text-align: center;"><%= image_tag 'male.jpg', class: 'ui avatar image' %></div>
  
app/views/desboard/index.html.erb:91:in `_app_views_desboard_index_html_erb__589567855561290626_70171159335780'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (18.8ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (67.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-31 10:18:46 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (13.7ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:23:29 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (11.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:24:17 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (10.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:24:36 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (11.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:25:05 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (10.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (2.0ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:25:27 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (10.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:30:13 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (11.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:30:50 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (10.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 22.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:31:45 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (11.2ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:33:31 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:34:03 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (9.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:34:42 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (9.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:34:55 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.9ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:35:06 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:42:10 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.0ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:46:39 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:47:59 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.6ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:49:47 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:51:20 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:51:22 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:52:08 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (9.5ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:52:19 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.7ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.9ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:52:43 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (9.3ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.7ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-31 10:53:15 +0800
Processing by DesboardController#index as HTML
  Rendering desboard/index.html.erb within layouts/desboard
  Rendered desboard/index.html.erb within layouts/desboard (8.6ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
  Rendered shared/admin/_top_bar.html.erb (1.8ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.3ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 10:54:29 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.3ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 10:54:47 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 10:57:25 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (8.9ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 10:58:41 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:00:55 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:18:03 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 26.2ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:19:20 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.8ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 26.2ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:19:31 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:20:10 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:20:21 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (8.9ms)
Completed 200 OK in 33ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:20:36 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.0ms)
Completed 200 OK in 34ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/temporary_reports" for 127.0.0.1 at 2017-07-31 11:20:58 +0800
Processing by TemporaryReportsController#index as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  `employees`.* FROM `employees` WHERE `employees`.`id` = 1 ORDER BY `employees`.`id` ASC LIMIT 1[0m
Creating scope :test. Overwriting existing method TemporaryReport.test.
  Rendering temporary_reports/index.html.erb within layouts/application
  [1m[36mTemporaryReport Load (1.5ms)[0m  [1m[34mSELECT  `temporary_reports`.* FROM `temporary_reports` WHERE (parent_id < 1 and report_type != 10 ) ORDER BY `temporary_reports`.`id` DESC LIMIT 20 OFFSET 0[0m
  Rendered collection of temporary_reports/_list.html.erb [1 times] (2.0ms)
  Rendered temporary_reports/index.html.erb within layouts/application (58.2ms)
  Rendered shared/admin/_top_bar.html.erb (1.1ms)
  Rendered shared/admin/_sidebar.html.erb (0.4ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/bundler/gems/rails_com-ec61fbf3bd0f/app/views/shared/_alert.html.erb (0.4ms)
Completed 200 OK in 101ms (Views: 72.7ms | ActiveRecord: 2.6ms)


Started GET "/trackings?rnum=820937292196613.9&opxtitle=Pre-report&opxurl=http://localhost:3000/temporary_reports&opxreferrer=http://localhost:3000/&opxid=6324465726764&opxcookie=whmall_company%3D%25E5%2586%2585%25E9%2583%25A8%25E6%25B5%258B%25E8%25AF%2595%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%2588%25E4%25BE%259B%25E5%25BA%2594%25E5%2595%2586%25EF%25BC%2589%3B%20whmall_mobile%3D181018692341%3B%20bdshare_firstime%3D1474176454163%3B%20Hm_lvt_711c53013b077a1624044bd4bbbffd5a%3D1488448477%3B%20smiles%3DCl.NC%28C1C2C%28%253DNC%253DCC%253D2%29N%28CC2C%28F%29%253DCC%253DCC%253D2%29N%253D1%29%253DN%3B%20tencentSig%3D5699421184%3B%20_qddaz%3DQD.vcxuxo.fz4s41.j2r9wmnm%3B%20browse_chemicals_history%3D134767-10-5%252F37222-66-5%252F125-29-1%252F7732-18-5%252F3729016%3B%20opxPID%3D20170726111108348795%3B%20olfsk%3Dolfsk9170974214851961%3B%20hblid%3DL1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt%3B%20_ga%3DGA1.1.172382392.1467091557%3B%20login_user_name%3DInlhbmdkb25nQHdobWFsbC5jb20i--1ac5047a70fa6dd55e08f65868bb4dbf24404cd5%3B%20login_user_password%3DIjExMTExMSI%253D--5b9ee73f428c7c48737863918eb16b316a029b9a%3B%20AJSTAT_ok_times%3D137%3B%20Hm_lvt_5d3900485951e0017e83d613935bf20e%3D1498636087%2C1499240310%2C1501127177%2C1501222676&opxuserAgent=Mozilla/5.0%20%28Macintosh%3B%20Intel%20Mac%20OS%20X%2010_11_3%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/59.0.3071.115%20Safari/537.36&opxReferrer=http%3A%2F%2Flocalhost%3A3000%2F" for 127.0.0.1 at 2017-07-31 11:20:59 +0800
Processing by TrackingsController#index as */*
  Parameters: {"rnum"=>"820937292196613.9", "opxtitle"=>"Pre-report", "opxurl"=>"http://localhost:3000/temporary_reports", "opxreferrer"=>"http://localhost:3000/", "opxid"=>"6324465726764", "opxcookie"=>"whmall_company=%E5%86%85%E9%83%A8%E6%B5%8B%E8%AF%95%E8%B4%A6%E5%8F%B7%EF%BC%88%E4%BE%9B%E5%BA%94%E5%95%86%EF%BC%89; whmall_mobile=181018692341; bdshare_firstime=1474176454163; Hm_lvt_711c53013b077a1624044bd4bbbffd5a=1488448477; smiles=Cl.NC(C1C2C(%3DNC%3DCC%3D2)N(CC2C(F)%3DCC%3DCC%3D2)N%3D1)%3DN; tencentSig=5699421184; _qddaz=QD.vcxuxo.fz4s41.j2r9wmnm; browse_chemicals_history=134767-10-5%2F37222-66-5%2F125-29-1%2F7732-18-5%2F3729016; opxPID=20170726111108348795; olfsk=olfsk9170974214851961; hblid=L1Ve35xFaX0Xd0gO2P6pA0H3RE0NB2Qt; _ga=GA1.1.172382392.1467091557; login_user_name=Inlhbmdkb25nQHdobWFsbC5jb20i--1ac5047a70fa6dd55e08f65868bb4dbf24404cd5; login_user_password=IjExMTExMSI%3D--5b9ee73f428c7c48737863918eb16b316a029b9a; AJSTAT_ok_times=137; Hm_lvt_5d3900485951e0017e83d613935bf20e=1498636087,1499240310,1501127177,1501222676", "opxuserAgent"=>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36", "opxReferrer"=>"http://localhost:3000/"}
Completed 500 Internal Server Error in 77ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `cache_read' for #<TrackingsController:0x007fa3e32b3840>
Did you mean?  cache_store):
  
app/controllers/trackings_controller.rb:47:in `index'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (112.7ms)
Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:24:40 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.3ms)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:24:42 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (0.9ms)
  Rendered desboard/analysis.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:25:53 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.1ms)
  Rendered desboard/analysis.js.erb (9.4ms)
Completed 200 OK in 34ms (Views: 26.7ms | ActiveRecord: 0.0ms)


Started GET "/desboard/analysis?tag=user&id=123" for 127.0.0.1 at 2017-07-31 11:25:57 +0800
Processing by DesboardController#analysis as JS
  Parameters: {"tag"=>"user", "id"=>"123"}
  Rendering desboard/analysis.js.erb
  Rendered desboard/_analysis.html.erb (1.0ms)
  Rendered desboard/analysis.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 25.7ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
Started GET "/admin/trackings" for 192.168.0.113 at 2017-08-09 19:04:56 +0800
Cannot render console from 192.168.0.113! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `connect'
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `initialize'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `new'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `mysql2_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.6ms)
Started GET "/favicon.ico" for 192.168.0.113 at 2017-08-09 19:04:56 +0800
Cannot render console from 192.168.0.113! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
Mysql2::Error (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)):
  
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `connect'
mysql2 (0.4.8) lib/mysql2/client.rb:89:in `initialize'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `new'
activerecord (5.0.4) lib/active_record/connection_adapters/mysql2_adapter.rb:25:in `mysql2_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.4) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.4) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/jamst/.rvm/gems/ruby-2.4.0@pre-report/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (41.6ms)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
DEPRECATION WARNING: [SIMPLE_FORM] SimpleForm.form_class= is deprecated and will be removed in 4.x. Use SimpleForm.default_form_class= instead (called from block in <top (required)> at /Users/jamst/workbook/tracking/config/initializers/simple_form_semantic.rb:64)
